<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16-next.png">
  <link rel="mask-icon" href="../../images/logo.svg" color="#222">
  <link rel="manifest" href="../../images/manifest.json">
  <meta name="msapplication-config" content="../../images/browserconfig.xml">

<link rel="stylesheet" href="../../css/main.css">


<link rel="stylesheet" href="../../lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"myblog.cuimouren.cn","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Hello, here is wenyao&#39;s space, how do you come in???">
<meta property="og:type" content="website">
<meta property="og:title" content="这里是文耀的space">
<meta property="og:url" content="http://myblog.cuimouren.cn/page/4/index.html">
<meta property="og:site_name" content="这里是文耀的space">
<meta property="og:description" content="Hello, here is wenyao&#39;s space, how do you come in???">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="崔文耀">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://myblog.cuimouren.cn/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>这里是文耀的space</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="atom.xml" title="这里是文耀的space" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">这里是文耀的space</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">wenyao'space</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="../../index.html" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="../../about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="../../tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="../../categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="../../archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://myblog.cuimouren.cn/2021/06/30/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E4%B8%89-%E6%A0%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="../../images/avatar.gif">
      <meta itemprop="name" content="崔文耀">
      <meta itemprop="description" content="Hello, here is wenyao's space, how do you come in???">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这里是文耀的space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="../../2021/06/30/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E4%B8%89-%E6%A0%88/" class="post-title-link" itemprop="url">数据结构 三 栈</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-30 16:11:05" itemprop="dateCreated datePublished" datetime="2021-06-30T16:11:05+08:00">2021-06-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-07-03 14:17:04" itemprop="dateModified" datetime="2021-07-03T14:17:04+08:00">2021-07-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">数据结构</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A0%88/" itemprop="url" rel="index"><span itemprop="name">栈</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h1><p>栈，依靠线性表来实现。</p>
<h2 id="ADT"><a href="#ADT" class="headerlink" title="ADT"></a>ADT</h2><ol>
<li>构造一个空栈</li>
<li>销毁一个栈</li>
<li>清空栈</li>
<li>判断栈是否为空</li>
<li>栈中元素个数</li>
<li>获得栈顶元素</li>
<li>push</li>
<li>pop</li>
<li>遍历栈</li>
</ol>
<h2 id="栈的顺序表实现"><a href="#栈的顺序表实现" class="headerlink" title="栈的顺序表实现"></a>栈的顺序表实现</h2><h3 id="接口说明"><a href="#接口说明" class="headerlink" title="接口说明"></a>接口说明</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;../Linear-List/linearlist.c&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//stack 可以直接使用 list 作为基础构建不同的stack  其实list就是所有线性数据结构的基础。</span></span><br><span class="line"><span class="comment">//我觉得之前的list的实现很不优雅，所以决定再重新实现一遍</span></span><br><span class="line"><span class="comment">//要学会抓住事情的主要矛盾，学习栈就是要学习其后进先出的思想，现在不要管其他杂乱的东西。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">LinearStack</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">//存储数据的区域   这里的block就相当于linearlist 中的List</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">LinearList</span> *<span class="title">block</span>;</span></span><br><span class="line">    Item *base;</span><br><span class="line">    Item *top;</span><br><span class="line">    <span class="comment">//当前长度</span></span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line">    <span class="comment">//当前分配的存储容量</span></span><br><span class="line">    <span class="keyword">int</span> stacksize;</span><br><span class="line">&#125; * LinearStack;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InitStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>, <span class="keyword">int</span> initsize)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DestroyStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ClearStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">EmptyStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">GetTopStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>, Item *itemsave)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">PushStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>, Item *item)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">PopStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AutoFillStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">TraverseStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>, <span class="keyword">void</span> (*fun)(Item item))</span></span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="接口实现"><a href="#接口实现" class="headerlink" title="接口实现"></a>接口实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;linearstack.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InitStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>, <span class="keyword">int</span> initsize)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    (*<span class="built_in">stack</span>) = (struct LinearStack *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct LinearStack));</span><br><span class="line">    InitLinearList(&amp;((*<span class="built_in">stack</span>)-&gt;block), initsize);</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;base = (Item *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Item));</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;top = (Item *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Item));</span><br><span class="line">    <span class="comment">//由于这了的base和top只是item*类型的，所以指向特定的item有点累赘，不如直接存储特定的元素值，除非改变其类型为指向一个结点的指针，这样只更更改其指向会更加由必要。</span></span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;length = <span class="number">0</span>;</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;stacksize = initsize;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;初始化成功\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DestroyStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    DestroyLinearList(&amp;((*<span class="built_in">stack</span>)-&gt;block));</span><br><span class="line">    <span class="built_in">free</span>((*<span class="built_in">stack</span>)-&gt;base);</span><br><span class="line">    <span class="built_in">free</span>((*<span class="built_in">stack</span>)-&gt;top);</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;base = <span class="literal">NULL</span>;</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;top = <span class="literal">NULL</span>;</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;block = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">free</span>(<span class="built_in">stack</span>);</span><br><span class="line">    *<span class="built_in">stack</span> = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (*<span class="built_in">stack</span> == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;销毁成功\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;销毁失败\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ClearStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">free</span>((*<span class="built_in">stack</span>)-&gt;base);</span><br><span class="line">    <span class="built_in">free</span>((*<span class="built_in">stack</span>)-&gt;top);</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;base = (Item *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Item));</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;top = (Item *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Item));</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;length = <span class="number">0</span>;</span><br><span class="line">    ClearLinearList(&amp;((*<span class="built_in">stack</span>)-&gt;block));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;清空栈成功\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">EmptyStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*<span class="built_in">stack</span>)-&gt;length == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;栈空\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;栈不空\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">GetTopStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>, Item *itemsave)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*<span class="built_in">stack</span>)-&gt;length == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;错误，栈中没有元素\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        *itemsave = *((*<span class="built_in">stack</span>)-&gt;top);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">PushStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>, Item *item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;当前容量为：%d, 可用容量为：%d\n&quot;</span>, (*<span class="built_in">stack</span>)-&gt;stacksize, (*<span class="built_in">stack</span>)-&gt;stacksize - (*<span class="built_in">stack</span>)-&gt;length);</span><br><span class="line">    InsertLinearList(&amp;((*<span class="built_in">stack</span>)-&gt;block), (*<span class="built_in">stack</span>)-&gt;length, item);</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;length++;</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;stacksize = (*<span class="built_in">stack</span>)-&gt;block-&gt;listsize;</span><br><span class="line">    <span class="keyword">if</span> ((*<span class="built_in">stack</span>)-&gt;length == <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//base只是指针不需要分配内存，也没有内存，所以只能通过改变指向的方式改变base,top也一样。</span></span><br><span class="line">        *((*<span class="built_in">stack</span>)-&gt;base) = ((*<span class="built_in">stack</span>)-&gt;block-&gt;items[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    *((*<span class="built_in">stack</span>)-&gt;top) = ((*<span class="built_in">stack</span>)-&gt;block-&gt;items[(*<span class="built_in">stack</span>)-&gt;length - <span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">PopStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*<span class="built_in">stack</span>)-&gt;length == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;已经空了，不能pop\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//删除最后一个元素。</span></span><br><span class="line">    DeleteLinearList(&amp;((*<span class="built_in">stack</span>)-&gt;block), (*<span class="built_in">stack</span>)-&gt;length - <span class="number">1</span>);</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;length--;</span><br><span class="line">    <span class="comment">//更改 top</span></span><br><span class="line">    *((*<span class="built_in">stack</span>)-&gt;top) = (*<span class="built_in">stack</span>)-&gt;block-&gt;items[(*<span class="built_in">stack</span>)-&gt;length - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AutoFillStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        Item item;</span><br><span class="line">        item.value = i;</span><br><span class="line">        PushStack(<span class="built_in">stack</span>, &amp;item);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">TraverseStack</span><span class="params">(LinearStack *<span class="built_in">stack</span>, <span class="keyword">void</span> (*fun)(Item item))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Item item;</span><br><span class="line">    <span class="keyword">while</span> (!EmptyStack(<span class="built_in">stack</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        GetTopStack(<span class="built_in">stack</span>, &amp;item);</span><br><span class="line">        PopStack(<span class="built_in">stack</span>);</span><br><span class="line">        fun(item);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="接口使用"><a href="#接口使用" class="headerlink" title="接口使用"></a>接口使用</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;linearstack.c&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun2</span><span class="params">(Item item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;item: %d\n&quot;</span>, item.value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LinearStack <span class="built_in">stack</span>;</span><br><span class="line">    InitStack(&amp;<span class="built_in">stack</span>, <span class="number">5</span>);</span><br><span class="line">    AutoFillStack(&amp;<span class="built_in">stack</span>);</span><br><span class="line">    TraverseStack(&amp;<span class="built_in">stack</span>, (*fun2));</span><br><span class="line">    ClearStack(&amp;<span class="built_in">stack</span>);</span><br><span class="line">    DestroyStack(&amp;<span class="built_in">stack</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="栈的链表实现"><a href="#栈的链表实现" class="headerlink" title="栈的链表实现"></a>栈的链表实现</h2><h3 id="接口说明-1"><a href="#接口说明-1" class="headerlink" title="接口说明"></a>接口说明</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;../Link-List/linklist.c&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">LinkStack</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">//存储数据的区域   这里的block就相当于LinkList 中的List</span></span><br><span class="line">    LinkList block;</span><br><span class="line">    Item *base;</span><br><span class="line">    Item *top;</span><br><span class="line">    <span class="comment">//当前长度</span></span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line">&#125; * LinkStack;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InitStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DestroyStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ClearStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">EmptyStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">GetTopStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>, Item *itemsave)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">PushStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>, Item *item)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">PopStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AutoFillStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">TraverseStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>, <span class="keyword">void</span> (*fun)(Item item))</span></span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="接口实现-1"><a href="#接口实现-1" class="headerlink" title="接口实现"></a>接口实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;linkstack.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InitStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    (*<span class="built_in">stack</span>) = (LinkStack)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct LinkStack));</span><br><span class="line">    InitLinkList(&amp;((*<span class="built_in">stack</span>)-&gt;block));</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;length = <span class="number">0</span>;</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;base = (Item *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Item));</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;top = (Item *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Item));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;初始化LinkStack成功\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DestroyStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    DestroyLinkList(&amp;((*<span class="built_in">stack</span>)-&gt;block));</span><br><span class="line">    <span class="built_in">free</span>((*<span class="built_in">stack</span>));</span><br><span class="line">    (*<span class="built_in">stack</span>) = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;销毁LinkStack成功\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ClearStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ClearLinkList(&amp;((*<span class="built_in">stack</span>)-&gt;block));</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;length = <span class="number">0</span>;</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;base = <span class="literal">NULL</span>;</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;top = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;清空LinkStack成功\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">EmptyStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*<span class="built_in">stack</span>)-&gt;length == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;LinkStack空\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;LinkStack不空\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">GetTopStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>, Item *itemsave)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*<span class="built_in">stack</span>)-&gt;length == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;错误，栈中没有元素\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        *itemsave = *((*<span class="built_in">stack</span>)-&gt;top);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">PushStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>, Item *item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    InsertLinkList(&amp;((*<span class="built_in">stack</span>)-&gt;block), (*<span class="built_in">stack</span>)-&gt;length, item);</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;length++;</span><br><span class="line">    <span class="keyword">if</span> ((*<span class="built_in">stack</span>)-&gt;length == <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        GetItemLinkList(&amp;((*<span class="built_in">stack</span>)-&gt;block), <span class="number">0</span>, (*<span class="built_in">stack</span>)-&gt;base);</span><br><span class="line">    &#125;</span><br><span class="line">    GetItemLinkList(&amp;((*<span class="built_in">stack</span>)-&gt;block), (*<span class="built_in">stack</span>)-&gt;length - <span class="number">1</span>, (*<span class="built_in">stack</span>)-&gt;top);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">PopStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*<span class="built_in">stack</span>)-&gt;length == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;已经空了，不能pop\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//删除top</span></span><br><span class="line">    DeleteLinkList(&amp;((*<span class="built_in">stack</span>)-&gt;block), (*<span class="built_in">stack</span>)-&gt;length - <span class="number">1</span>);</span><br><span class="line">    (*<span class="built_in">stack</span>)-&gt;length--;</span><br><span class="line">    <span class="comment">//更改top</span></span><br><span class="line">    GetItemLinkList(&amp;((*<span class="built_in">stack</span>)-&gt;block), (*<span class="built_in">stack</span>)-&gt;length - <span class="number">1</span>, (*<span class="built_in">stack</span>)-&gt;top);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AutoFillStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= AUTOFILLSIZE; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        Item item;</span><br><span class="line">        item.value = i;</span><br><span class="line">        PushStack(<span class="built_in">stack</span>, &amp;item);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">TraverseStack</span><span class="params">(LinkStack *<span class="built_in">stack</span>, <span class="keyword">void</span> (*fun)(Item item))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;TraverseStack\n&quot;</span>);</span><br><span class="line">    Item item;</span><br><span class="line">    <span class="keyword">while</span> (!EmptyStack(<span class="built_in">stack</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        GetTopStack(<span class="built_in">stack</span>, &amp;item);</span><br><span class="line">        fun(item);</span><br><span class="line">        PopStack(<span class="built_in">stack</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="接口使用-1"><a href="#接口使用-1" class="headerlink" title="接口使用"></a>接口使用</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;linkstack.c&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">(Item item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;item: %d\n&quot;</span>, item.value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LinkStack <span class="built_in">stack</span>;</span><br><span class="line">    InitStack(&amp;<span class="built_in">stack</span>);</span><br><span class="line">    AutoFillStack(&amp;<span class="built_in">stack</span>);</span><br><span class="line">    TraverseStack(&amp;<span class="built_in">stack</span>, (*fun));</span><br><span class="line">    ClearStack(&amp;<span class="built_in">stack</span>);</span><br><span class="line">    DestroyStack(&amp;<span class="built_in">stack</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://myblog.cuimouren.cn/2021/06/26/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="../../images/avatar.gif">
      <meta itemprop="name" content="崔文耀">
      <meta itemprop="description" content="Hello, here is wenyao's space, how do you come in???">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这里是文耀的space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="../../2021/06/26/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">微机期末复习之知识总结</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-26 19:32:59" itemprop="dateCreated datePublished" datetime="2021-06-26T19:32:59+08:00">2021-06-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-06-29 18:43:38" itemprop="dateModified" datetime="2021-06-29T18:43:38+08:00">2021-06-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">期末复习</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%BE%AE%E6%9C%BA/" itemprop="url" rel="index"><span itemprop="name">微机</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="微机期末复习之知识总结"><a href="#微机期末复习之知识总结" class="headerlink" title="微机期末复习之知识总结"></a>微机期末复习之知识总结</h1><h2 id="第一章"><a href="#第一章" class="headerlink" title="第一章"></a>第一章</h2><h3 id="QUS"><a href="#QUS" class="headerlink" title="QUS"></a>QUS</h3><h4 id="简答"><a href="#简答" class="headerlink" title="简答"></a>简答</h4><ol>
<li>处理器字长：处理器单位时间内可以处理的二进制位数。</li>
<li>总线信号分为哪三种：数据总线、地址总线、控制总线</li>
<li>取指译码执行周期是指什么：从主存储器读取指令、翻译指令代码的功能、执行指令所需要的操作。</li>
</ol>
<h4 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h4><ol>
<li>IA-64结构是IA-32结构的64位扩展，也就是Intel64 结构？ <strong>×</strong></li>
<li>微机主存只要使用RAM芯片就足够了？    <strong>×</strong></li>
</ol>
<h4 id="大题"><a href="#大题" class="headerlink" title="大题"></a>大题</h4><ol>
<li>什么是通用微处理器、单片机（微控制器）、DSP芯片、嵌入式系统？<ol>
<li>通用微处理器：适合较广领域的微处理器芯片，例如装在笔记本上的。</li>
<li>单片机：是指通常用于控制领域的微处理器芯片，其内部除了CPU外还集成了计算机的主要部件，只需要配上少量外部电路和设备就可以工作。</li>
<li>DSP芯片：数字信号处理器，也是一种微控制器，其更加适合处理高速的数字信号，内部集成有告诉的乘法器，能够进行乘法和加法运算。</li>
<li>嵌入式系统：利用微控制器、数字信号处理器或者通用微处理器结核病具体应用构成的控制系统。</li>
</ol>
</li>
<li>区分：类路径、绝对路径、相对路径、当前目录。<ol>
<li>路径：操作系统以目录的形式管理磁盘上的文件，文件所在的分区和目录就是该文件的路径。</li>
<li>绝对路径：从根目录到文件所在的目录的完整的路径称为绝对路径，是保证文件唯一性的指示方法。</li>
<li>相对路径：从系统当前目录到文件所在目录的路径称为相对路径。</li>
<li>当前目录：用户当前所在的目录。</li>
</ol>
</li>
<li>冯诺依曼计算机的基本设计思想是什么？<ol>
<li>采用二进制表示数据和指令。指令由操作码和地址吗组成。</li>
<li>将程序和数据存放在存储器中，计算机在工作时从存储器中取出指令加以执行，自动完成计算任务。</li>
<li>指令的执行是顺序的，即按照指令在存储器中的存放顺序执行、程序分支由转移指令实现。</li>
<li>计算机由存储器、运算器、控制器、输入输出设备组成。</li>
</ol>
</li>
<li>计算机系统的层次。<blockquote>
<p>最长层是用户层。<br> 第五层是高级语言层。<br> 第四层是汇编语言层<br> 第三层是操作系统层<br> 第二层是机器语言层<br> 第一层是控制层<br> 第零层是数字电路层</p>
</blockquote>
</li>
</ol>
<h2 id="第二章"><a href="#第二章" class="headerlink" title="第二章"></a>第二章</h2><ol>
<li><p>指令执行过程</p>
<ol>
<li>取指：指令处理单元从主存中将指令取出并通过总线传输到处理器内部的指令寄存器中。</li>
<li>译码：指令处理单元通过指令译码电路获得该指令的功能。</li>
<li>执行：指令的处理单元的时序和控制逻辑按照一定的时间顺序接收响应的信号，完成至指令所要求的额操作。</li>
</ol>
</li>
<li><p>存储模型</p>
<ol>
<li>平展存储模型</li>
<li>段式存储模型</li>
<li>实地址存储模型</li>
</ol>
</li>
<li><p>16位模拟DOS平台开发环境代码框架</p>
</li>
</ol>
<figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">include io16<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">    .data</span></span><br><span class="line"><span class="comment">;数据</span></span><br><span class="line"><span class="meta">    .code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line"><span class="comment">;主程序</span></span><br><span class="line">    exit0</span><br><span class="line"><span class="comment">;子程序</span></span><br><span class="line">end start</span><br></pre></td></tr></table></figure>

<h3 id="QUS-1"><a href="#QUS-1" class="headerlink" title="QUS"></a>QUS</h3><h4 id="简答题"><a href="#简答题" class="headerlink" title="简答题"></a>简答题</h4><ol>
<li>8086取指为什么可以被称为指令预取？<blockquote>
<p>8086分成总线接口单元和指令执行单元，可以独立操作。在执行单元执行一条指令的同时，总线接口单元可以读取下一条指令，等到执行的时候不用再进行取指了，所以称为预取。</p>
</blockquote>
</li>
<li>标志寄存器主要保存哪一些方面的信息？<blockquote>
<p>指令执行结果和控制指令的执行形式。</p>
</blockquote>
</li>
<li>除外设外的数据寻址方式有三类，分别为：立即数寻址、寄存器寻址、存储器寻址。</li>
<li>说明以下指令中源操作数的寻址方式。 VARD是一个双子变量。<table>
<thead>
<tr>
<th>指令</th>
<th>寻址方式</th>
</tr>
</thead>
<tbody><tr>
<td>mov edx,1234h</td>
<td>立即数</td>
</tr>
<tr>
<td>mov edx,VARD</td>
<td>直接</td>
</tr>
<tr>
<td>mov edx,ebx</td>
<td>寄存器</td>
</tr>
<tr>
<td>mov edx,[ebx]</td>
<td>寄存器间接</td>
</tr>
<tr>
<td>mov edx,[evx+1234h]</td>
<td>寄存器相对</td>
</tr>
<tr>
<td>mov edx,VARD[ebx]</td>
<td>寄存器相对</td>
</tr>
<tr>
<td>mov edx,[ebx+edi]</td>
<td>基址变址</td>
</tr>
<tr>
<td>mov edx,[ebx+edi+1234h]</td>
<td>相对基址变址</td>
</tr>
<tr>
<td>mov edx,VARD[esi+edi]</td>
<td>相对基址变址</td>
</tr>
<tr>
<td>mov edx,[ebp*4]</td>
<td>带比例寻址</td>
</tr>
</tbody></table>
</li>
</ol>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h2 id="第三章-第四章-汇编基础知识"><a href="#第三章-第四章-汇编基础知识" class="headerlink" title="第三章 第四章 汇编基础知识"></a>第三章 第四章 汇编基础知识</h2><h2 id="第五章-微机总线"><a href="#第五章-微机总线" class="headerlink" title="第五章 微机总线"></a>第五章 微机总线</h2><ol>
<li>微机以总线作为信息传输的公共通道。</li>
<li>总线结构的特点<ol>
<li>通过总线互相连接，实现数据传输。</li>
<li>组态灵活，易于扩展。</li>
</ol>
</li>
<li>总线类型<ol>
<li>芯片总线：在大规模集成电路内部进行芯片级互连。</li>
<li>内总线：模板级互连</li>
<li>外总线：设备级互连</li>
</ol>
</li>
<li>总线操作<ol>
<li>总线请求和仲裁：使用总线的主模块提出申请，总线仲裁机制确定把总线分配给请求模块。</li>
<li>寻址：主模块发出将要访问的从模块地址信息以及有关命令，启动从模块。</li>
<li>数据传送：源模块发出数据，经数据总线传送到目标模块。</li>
<li>结束：数据、地址、状态、命令信息均从总线上撤除，让出总线。</li>
</ol>
</li>
<li>同步方式<ol>
<li>同步时序：总线操作过程由公用的总线时钟信号控制，适合速度相当的设备。</li>
<li>总线的操作需要握手联络应答信号控制，开始伴有启动、选通或者读写信号。</li>
<li>传输的结束有一个确认信号，进行应答。</li>
<li>操作周期可变，适应速度相差很大的设备。</li>
</ol>
</li>
<li>总线的性能指标<ol>
<li>总线宽度：总线能够同时传送的数据位数。</li>
<li>总线频率：总线信号的时钟频率。</li>
<li>总线带宽：单位时间内传送的数据量。</li>
</ol>
</li>
<li>总线分类：地址总线、数据总线、控制总线。</li>
</ol>
<h3 id="QUS-2"><a href="#QUS-2" class="headerlink" title="QUS"></a>QUS</h3><h4 id="简答题-1"><a href="#简答题-1" class="headerlink" title="简答题"></a>简答题</h4><ol>
<li>为什么称处理器的数据总线是双向的？<blockquote>
<p>数据总线承担着处理器和存储器、外设之间的数据交换、既可以输入也可以输出。</p>
</blockquote>
</li>
<li>具有三态能力的引脚输出高阻意味着什么？<blockquote>
<p>相当于连接了一个阻抗很高的外部器件，信号无法正常输出，即放弃对于该引脚的额控制，断开其连接。</p>
</blockquote>
</li>
<li>总线时钟周期中的等待状态意味着什么？<blockquote>
<p>处理器检测到存储器或者IO端口速度太慢，不能按照基本的总线周期进行数据交换，插入一个等待状态Tw,保持总线信号不变。</p>
</blockquote>
</li>
<li>什么是猝发传送？<blockquote>
<p>处理器只提供首地址、但可以从后续连续地存储单元中读写多个数据。</p>
</blockquote>
</li>
<li>总线周期：<blockquote>
<p>总线请求和仲裁、寻址、数据传送、结束。</p>
</blockquote>
</li>
<li>处理器基本的总线操作：<blockquote>
<p>存储器读 存储器写 IO读 IO写</p>
</blockquote>
</li>
</ol>
<h4 id="大题-1"><a href="#大题-1" class="headerlink" title="大题"></a>大题</h4><ol>
<li>8086处理器输入控制信号有RESET,HOLD,NMI,INTR,他们的具体含义是什么？当他们有效时，8086CPU将做出什么反应。<ol>
<li>RESET：复位出入信号，高电平有效。有效时，迫使处理器回到其初始状态，转为无效时，处理器继续工作。</li>
<li>HOLD：总线请求，高电平有效。有效时，表示其他总线主控设备向处理器申请使用原来由处理器控制的总线。</li>
<li>NMI：不可屏蔽中断请求，是一个利用上升沿有效的输入信号。有效时表示外界正在向CPU申请不可屏蔽中断。</li>
<li>INTR：可屏蔽中断请求，高电平有效，有效时表示中断请求设备向CPU发出可屏蔽中断请求。</li>
</ol>
</li>
<li>区分概念：指令周期，总线周期（机器周期），时钟周期，T状态。<ol>
<li>指令周期：一条指令从取指译码到执行完成的过程。</li>
<li>总线周期（机器周期）：有数据交换的总线操作。</li>
<li>始终周期：处理器的基本工作节拍，由时钟信号产生，一个高电平一个低电平位一个周期。</li>
<li>完成特定操作的一个时钟周期。<ol>
<li>T1：总线周期的第一个时钟周期主要用于输出存储器或者IO地址。</li>
<li>T2：输出读/写控制信号。</li>
<li>T3：锁存地址、处理器提供的控制信号和数据再总线上继续维持有效，且T3时钟的前沿（下降沿）对READY引脚进行检测。若有效则进入T4。</li>
<li>T4：总线周期的最后一个时钟周期，处理器和存储器或者I/O端口进行数据传输直到完成，并为下一个时钟周期做好准备。</li>
<li>Tw：等待状态。T3时READY信号无效时，插入Tw，延续T3的状态，维持不变。</li>
</ol>
</li>
</ol>
</li>
<li>请解释8086（最小组态）以下引脚的含义：CLK, A19/S6～A16/S3，AD15～AD0, ALE,M/$\overline{\text{IO}}$, $\overline{\text{RD}}$, $\overline{\text{WR}}$。并画出其在一个具有等待状态的读总线周期的波形示意。<ol>
<li>CLK：时钟输入。其频率就是处理器工作的频率。</li>
<li>A19/S6～A16/S3：地址/状态时分复用引脚，在访问存储器的第一个时钟周期输出高四位地址A19～A16，在访问外设的第一个时钟周期输出低电平无效。其余时间输出状态信号S6～S3。</li>
<li>AD15～AD0：地址/数据时分复用引脚，用作地址线时是单项输出，用作数据线时时双向。</li>
<li>ALE：地址锁存允许，是一个三态、输出、高电平有效的信号。有效时，表示复用引脚A19/S6～A16/S3，AD15～AD0正在传输地址信号。</li>
<li>M/$\overline{\text{IO}}$：访问存储器或者IO，高电平为存储器（A19～A0），20位，低电平时为（A15～A0）16位IO端口。</li>
<li>$\overline{\text{RD}}$：读控制，低电平有效，表示正在读（存储器或者IO）</li>
<li>$\overline{\text{WR}}$：写控制，低电平有效，表示正在写（存储器或者IO）</li>
<li><img src="/file/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/1.png" alt="图"></li>
</ol>
</li>
<li>时序<ol>
<li>同步时序：总线操作的各个过程由共用的总线时钟信号控制。</li>
<li>半同步时序：总线操作的各个过程由共用的总线时钟信号控制，但是慢的设备可以通过等待信号让快设备等待。</li>
<li>异步时序：总线操作需要握手联络应答信号控制，总线时钟信号可有可无。</li>
</ol>
</li>
</ol>
<h2 id="第六章-存储系统"><a href="#第六章-存储系统" class="headerlink" title="第六章 存储系统"></a>第六章 存储系统</h2><ol>
<li>ram</li>
</ol>
<table>
<thead>
<tr>
<th>RAM类型</th>
<th>组成单元</th>
<th>速度</th>
<th>集成度</th>
<th>应用</th>
</tr>
</thead>
<tbody><tr>
<td>SRAM</td>
<td>触发器</td>
<td>快</td>
<td>低</td>
<td>小容量系统</td>
</tr>
<tr>
<td>DRAM</td>
<td>单个MOS管</td>
<td>慢</td>
<td>高</td>
<td>大容量系统</td>
</tr>
<tr>
<td>NVRAM</td>
<td>触发器</td>
<td>快</td>
<td>低</td>
<td>有后备电池</td>
</tr>
</tbody></table>
<ol start="2">
<li>cache地址映射方式<ol>
<li>直接映射：将一个主存块存储到唯一的cache行</li>
<li>全相联映射：将一个贮存快吧存储到任意一个cache行</li>
<li>组相联映射：将一个主存块存储到唯一一个cache组的任意一行。</li>
</ol>
</li>
<li>页表<ol>
<li>不详细说了，在os里面讲过</li>
</ol>
</li>
</ol>
<h3 id="QUS-3"><a href="#QUS-3" class="headerlink" title="QUS"></a>QUS</h3><h4 id="简答题-2"><a href="#简答题-2" class="headerlink" title="简答题"></a>简答题</h4><ol>
<li>什么时高速命中，什么时告诉缺失（未命中）？<ol>
<li>Cache中复制这主存中的部分内容。让处理器试图读取某一个字的时候，Cache控制器会首先检查Cache中是否已经包含这个字，若包含，则处理器直接读取Cache的内容，称为高速命中，反之，称为高速缺失。</li>
</ol>
</li>
<li>什么时Cache的地址映射？<ol>
<li>主存块和Cache行组之间的映射关系称为地址映射。分为直接映射，全相联映射，组相联映射。</li>
</ol>
</li>
<li>Cache写入策略用于解决什么问题？<ol>
<li>用于解决写入Cache时引起主存和Cache不一致的问题。</li>
</ol>
</li>
<li>存储器的存取时间和存取周期有什么区别？<ol>
<li>存储时间表示读写命令发出到数据传输完成所需要的时间，存储周期表示两次存储器访问所允许的最小时间间隔。</li>
</ol>
</li>
<li>DRAM芯片怎么既有行地址又有列地址？<ol>
<li>DRAM时分复用地址线，先传送行地址再传送列地址。</li>
</ol>
</li>
<li>译码分类<ol>
<li>全译码：使用全部地址总线进行译码，地址唯一，一个存储单元对应一个存储器地址。</li>
<li>部分译码：只是用部分地址总线进行译码，每有一个没有使用的地址信号就会有两种不同的编码指向同一个存储单元，出现地址重复。</li>
</ol>
</li>
<li>区分以下主存名称的含义。<ol>
<li>常规主存：再1MB空间中的第640KB系统RAM区称为常规主存或者基本主存。</li>
<li>扩展主存：IA-32处理器在1MB之后的主存空间称为扩展主存。</li>
<li>扩充主存：处理器不可以直接访问，利用体交换技术实现访问。</li>
<li>上位主存区UMA：在常规主存区后384K（A0000H～FFFFFH）称为UMA</li>
<li>上位主存块UMB：UMA没有使用的部分称为UMB</li>
<li>高端主存区HMA：1MB之上的64KB.</li>
<li>影子主存：PC机启动后可以将ROM-BIOS映射到RAM中，这部分用作RAM-BIOS的主存称为RAM，只读。</li>
</ol>
</li>
</ol>
<h4 id="判断题"><a href="#判断题" class="headerlink" title="判断题"></a>判断题</h4><ol>
<li>部分译码可以简化译码电路，且不会减少可用的存储空间。 <strong>×</strong></li>
<li>DRAM芯片上的所有单元同时刷新一次。<strong>×</strong></li>
<li>存储系统的刷新地址提供给所有的DRAM芯片。 <strong>√</strong></li>
</ol>
<h4 id="填空题"><a href="#填空题" class="headerlink" title="填空题"></a>填空题</h4><ol>
<li>对一个存储器芯片进行片选译码时，有一个高位系统地址信号没有参加译码，则该芯片扽每一个存储单元占有几个存储器地址？ <strong>ANS：2，2^1=2</strong></li>
<li>段描述符为<strong>0000B98200002000H</strong>，则段基地址为：<strong>00820000H</strong>  ，段界限为：<strong>02000</strong><ol>
<li><strong>段描述符的结构</strong></li>
</ol>
</li>
</ol>
<table>
<thead>
<tr>
<th>位</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>高32位</td>
<td></td>
</tr>
<tr>
<td>31-24</td>
<td>段基址31-24</td>
</tr>
<tr>
<td>23</td>
<td>G</td>
</tr>
<tr>
<td>22</td>
<td>D/B</td>
</tr>
<tr>
<td>21</td>
<td>L</td>
</tr>
<tr>
<td>20</td>
<td>AVL</td>
</tr>
<tr>
<td>19-16</td>
<td>段界限19-16</td>
</tr>
<tr>
<td>15</td>
<td>P</td>
</tr>
<tr>
<td>14-13</td>
<td>DPL</td>
</tr>
<tr>
<td>12</td>
<td>S</td>
</tr>
<tr>
<td>11-8</td>
<td>TYPE</td>
</tr>
<tr>
<td>7-0</td>
<td>段基址23-16</td>
</tr>
<tr>
<td>低32位</td>
<td></td>
</tr>
<tr>
<td>31-16</td>
<td>段基址15-0</td>
</tr>
<tr>
<td>15-0</td>
<td>段界限15-0</td>
</tr>
</tbody></table>
<h4 id="大题-2"><a href="#大题-2" class="headerlink" title="大题"></a>大题</h4><ol>
<li><img src="/file/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/2.png" alt="图"></li>
</ol>
<h2 id="第七章-输入输出接口"><a href="#第七章-输入输出接口" class="headerlink" title="第七章 输入输出接口"></a>第七章 输入输出接口</h2><ol>
<li><p>I/O接口概述：<br> 微机的外设多种多样，工作原理、驱动方式、信息格式、工作速度千差万别，他们不可以直接和cpu相连接，必须通过中间电路（I/O）接口电路与系统连接。I/O接口就是位于基本系统和外设之间实现两者数据交换的控制电路。其基本功能有数据缓冲和信号变换。</p>
</li>
<li><p>主机和外设输送数据的方式</p>
<ol>
<li>无条件传送</li>
<li>查询</li>
<li>中断</li>
<li>DMA</li>
<li>专门的额IO处理机</li>
</ol>
</li>
<li><p>8259A的中断处理流程</p>
<ol>
<li><p>当某个外设发出一个中断信号后，由于主板已经把信号通路指向了8259A芯片的某个IRQ接口，所以该中断信号会被送入8259A。8259A先检查IMR寄存器是否屏蔽了来自该IRQ接口的中断信号，该为为1表示被屏蔽了。</p>
</li>
<li><p>将中断信号送入IRR寄存器，将该IRQ接口所在的IRR寄存器对应的位置1.</p>
</li>
<li><p>PR从IRR寄存器中挑选一个优先级最大的一个中断（IRQ接口号最低的）。</p>
</li>
<li><p>通过INT接口向CPU发送INTR信号。</p>
</li>
<li><p>CPU完成一条指令后，通过自己的INTA接口向8259A的INTA接口发送中断响应信号。</p>
</li>
<li><p>8259A收到CPU的中断响应信号后，将刚刚挑选出的优先级最大的中断在ISR寄存器中对应的位置1，表示正在处理当前中断，同时在IRR中该中断位置0。</p>
</li>
<li><p>CPU再次发送INTA信号，要求获取中断向量号。<strong>如果EIO被设置为自动的话，则8259A自动将ISR对应位置0，表示中断结束，否则需要手动发送EOI信号</strong></p>
</li>
<li><p>8259A向CPU发送中断向量号。<strong>此时如果来了一个优先级更高的中断，则将该中断替换上去，将被替换下来的中断重新装入IRR中</strong></p>
</li>
<li><p>CPU从数据总线上拿到中断向量号止之后，用作中断向量表或者中断描述符表的索引，转到对应的中断处理程序执行。</p>
</li>
</ol>
</li>
<li><p>设置中断的程序框架</p>
 <figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;获取系统原80号向量的地址  es:bx</span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">3580H</span> </span><br><span class="line"><span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line"><span class="keyword">mov</span> int80seg,<span class="built_in">es</span></span><br><span class="line"><span class="keyword">mov</span> int80off,<span class="built_in">bx</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;设置新的向量</span></span><br><span class="line"><span class="keyword">push</span> <span class="built_in">ds</span> <span class="comment">;保存ds</span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">ax</span>, <span class="built_in">seg</span> new80</span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">dx</span>,offset new80</span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">2580h</span></span><br><span class="line"><span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line"><span class="keyword">pop</span> <span class="built_in">ds</span> <span class="comment">;恢复ds</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;设置IMR</span></span><br><span class="line"><span class="keyword">in</span> <span class="built_in">al</span>,<span class="number">21h</span> <span class="comment">;这是主片，从片使用0a1h</span></span><br><span class="line"><span class="keyword">and</span> <span class="built_in">al</span>,<span class="number">0feh</span><span class="comment">; 允许哪一位就设置哪一位为零。</span></span><br><span class="line"><span class="keyword">out</span> <span class="number">21h</span>,<span class="built_in">al</span><span class="comment">;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;恢复原中断</span></span><br><span class="line"><span class="comment">;和设置一样，不在赘述</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;中断程序的书写</span></span><br><span class="line"><span class="comment">;记得开中断</span></span><br><span class="line"><span class="comment">;记得发送EOI指令</span></span><br><span class="line">new80 proc</span><br><span class="line"><span class="keyword">sti</span> <span class="comment">;开中断</span></span><br><span class="line"><span class="comment">;保护寄存器和中断程序处理</span></span><br><span class="line"><span class="comment">;EOI</span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">20h</span></span><br><span class="line"><span class="keyword">out</span> <span class="number">20h</span>,<span class="built_in">al</span><span class="comment">;主片</span></span><br><span class="line"><span class="keyword">out</span> <span class="number">0a0h</span>,<span class="built_in">al</span><span class="comment">;从片</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new80 endp</span><br></pre></td></tr></table></figure></li>
<li><p>中断程序驻留内存</p>
 <figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;dx中存放要驻留程序的长度（以16字节为单位)</span></span><br><span class="line"><span class="keyword">add</span> <span class="built_in">dx</span>,<span class="number">15</span></span><br><span class="line"><span class="keyword">shr</span> <span class="built_in">dx</span>,<span class="number">4</span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">3100h</span></span><br><span class="line"><span class="keyword">int</span> <span class="number">21h</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="QUS-4"><a href="#QUS-4" class="headerlink" title="QUS"></a>QUS</h3><h4 id="简答题-3"><a href="#简答题-3" class="headerlink" title="简答题"></a>简答题</h4><ol>
<li>外设为什么不能和处理器之间相连？<ol>
<li>微机的外设多种多样，工作原理、驱动方式、信息格式、工作速度千差万别，他们不可以直接和cpu相连接，必须通过中间电路（I/O）接口电路与系统连接。</li>
</ol>
</li>
<li>计算机的两个功能部件、设备之间为什么一般需要数据缓冲？<ol>
<li>数据缓冲用于匹配快速的处理器和相对慢速度额外设或者两个功能部件速度不匹配的数据交换。</li>
</ol>
</li>
<li>什么时电路的命令字或者控制字？<ol>
<li>处理器向特定的接口板芯片的吧相应端口写入特定的数据用于选择IO芯片的工作方式或者控制外设工作，该数据称为命令字或者控制字。</li>
</ol>
</li>
<li>为什么说外部中断才是真正意义上的中断？<ol>
<li>玩不终端是由处理器外部提出的中断请求引起的程序中断，对于处理器来说，外部中断时随机产生的，所以才是真正意义上的中断。</li>
</ol>
</li>
<li>IO接口电路的寄存器分类？<ol>
<li>数据寄存器：保存处理器和外设之间交换的数据。</li>
<li>状态寄存器：保存外设当前的工作状态信息。</li>
<li>控制寄存器：保存处理器控制接口电路和外设进行操作的有关信息。处理器向控制寄存器写入信息选择接口电路的不同工作方式和与外设交换信息的数据格式。</li>
</ol>
</li>
<li>简述主机和外设交换数据的几种方式。<ol>
<li>无条件传送：最简单的数据传送，认为设备总是处于就绪状态。</li>
<li>程序查询方式：处理器查询外设的状态，在外设就绪的时候进行数据传输。</li>
<li>中断，外设就绪的时候通过请求引脚信号，主动向处理器提出交换数据的请求，处理器没有其他更加紧迫的任务就执行中断程序。</li>
<li>DMA传送：DMA控制器可以接管总线，作为总线的主控设备，通过系统总线来控制存储器和外设直接进行数据交换。</li>
</ol>
</li>
<li>以可屏蔽中断为例，说明一次完成的中断过程包括哪一些环节？<ol>
<li>中断请求。</li>
<li>中断响应。</li>
<li>关中断。</li>
<li>断点保护</li>
<li>中断源识别</li>
<li>现场保护。</li>
<li>中断服务</li>
<li>回复现场。</li>
<li>开中断</li>
<li>中断返回。</li>
</ol>
</li>
</ol>
<h4 id="编程题"><a href="#编程题" class="headerlink" title="编程题"></a>编程题</h4><ol>
<li><p>编程<br> <img src="/file/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/3.png" alt="图"><br><img src="/file/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/4.png" alt="图"><br>由图可知，开关时低电平有效（代表闭合），灯是高电平有效（代表亮），端口地址为8000</p>
<figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">again:</span></span><br><span class="line">     <span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">8000H</span></span><br><span class="line">     <span class="keyword">in</span> <span class="built_in">al</span>,<span class="built_in">dx</span></span><br><span class="line">     <span class="keyword">cmp</span> <span class="built_in">al</span>,<span class="number">11111110B</span> <span class="comment">;k0单独按下</span></span><br><span class="line">     <span class="keyword">jz</span> next0</span><br><span class="line">     <span class="keyword">cmp</span> <span class="built_in">al</span>,<span class="number">11111101B</span> <span class="comment">;k1单独按下</span></span><br><span class="line">     <span class="keyword">jz</span> next1</span><br><span class="line">     <span class="keyword">jmp</span> again</span><br><span class="line"><span class="symbol"> next0:</span></span><br><span class="line">     <span class="comment">;顺序点亮</span></span><br><span class="line">     <span class="keyword">mov</span> <span class="built_in">cx</span>,<span class="number">8</span></span><br><span class="line">     <span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">1</span></span><br><span class="line"><span class="symbol"> next11:</span></span><br><span class="line">     <span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">     <span class="keyword">call</span> delay</span><br><span class="line">     <span class="keyword">shl</span> <span class="built_in">al</span>,<span class="number">1</span></span><br><span class="line">     <span class="keyword">loop</span> next11</span><br><span class="line"> <span class="keyword">jmp</span> again</span><br><span class="line"><span class="symbol"> next1:</span></span><br><span class="line">     <span class="comment">;倒序点亮</span></span><br><span class="line">     <span class="keyword">mov</span> <span class="built_in">cx</span>,<span class="number">8</span></span><br><span class="line">     <span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">10000000B</span></span><br><span class="line"><span class="symbol"> next11:</span></span><br><span class="line">     <span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">     <span class="keyword">call</span> delay</span><br><span class="line">     <span class="keyword">shr</span> <span class="built_in">al</span>,<span class="number">1</span></span><br><span class="line">     <span class="keyword">loop</span> enxt11</span><br><span class="line"> <span class="keyword">jmp</span> again</span><br></pre></td></tr></table></figure></li>
<li><p>编程<br> <img src="/file/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/5.png" alt="图"></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>编程<br> <img src="/file/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/6.png" alt="图"></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="第八章-常用接口电路"><a href="#第八章-常用接口电路" class="headerlink" title="第八章 常用接口电路"></a>第八章 常用接口电路</h2><h3 id="8253-8254"><a href="#8253-8254" class="headerlink" title="8253/8254"></a>8253/8254</h3><h4 id="控制字"><a href="#控制字" class="headerlink" title="控制字"></a>控制字</h4><p><img src="/file/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/7.png" alt="图"></p>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><ol>
<li>定时中断  计数器0方式3 每秒产生计数器初值次的请求 <figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;计数器0，先低后高, 方式3，二进制</span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">00110110b</span></span><br><span class="line"><span class="keyword">out</span> <span class="number">43h</span>,<span class="built_in">al</span>  <span class="comment">;方式控制字</span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">0</span></span><br><span class="line"><span class="keyword">out</span> <span class="number">40h</span>,<span class="built_in">al</span>  <span class="comment">;低</span></span><br><span class="line"><span class="keyword">out</span> <span class="number">40h</span>,<span class="built_in">al</span>  <span class="comment">;高</span></span><br></pre></td></tr></table></figure></li>
<li>定时刷新 使用计数器1方式2 产生可自动重新计时的中断进行刷新 <figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;计数器1，低字节，方式二，二进制</span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">01010100b</span></span><br><span class="line"><span class="keyword">out</span> <span class="number">43h</span>,<span class="built_in">al</span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">10</span></span><br><span class="line"><span class="keyword">out</span> <span class="number">41h</span>,<span class="built_in">al</span></span><br></pre></td></tr></table></figure></li>
<li>扬声器控制 计数器2 方式3  <figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ax</span>=<span class="number">1193180</span>/发声频率</span><br><span class="line"><span class="comment">;计数器2 先低后高 方式3 二进制</span></span><br><span class="line"><span class="comment">;写入计时器</span></span><br><span class="line"><span class="keyword">push</span> <span class="built_in">ax</span><span class="comment">;</span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">10110110b</span></span><br><span class="line"><span class="keyword">out</span> <span class="number">43h</span>,<span class="built_in">al</span></span><br><span class="line"><span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line"><span class="keyword">out</span> <span class="number">42h</span>,<span class="built_in">al</span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">ah</span></span><br><span class="line"><span class="keyword">out</span> <span class="number">42h</span>,<span class="built_in">al</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;发声 </span></span><br><span class="line"><span class="comment">;读取61H端口，使得PB1 PB0=11</span></span><br><span class="line"><span class="keyword">in</span> <span class="built_in">al</span>,<span class="number">61H</span></span><br><span class="line"><span class="keyword">or</span> <span class="built_in">al</span>,<span class="number">00000011b</span><span class="comment">;</span></span><br><span class="line"><span class="keyword">out</span> <span class="number">61h</span>,<span class="built_in">al</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;闭声 </span></span><br><span class="line"><span class="comment">;读取61H端口，使得PB1 PB0=00</span></span><br><span class="line"><span class="keyword">in</span> <span class="built_in">al</span>,<span class="number">61H</span></span><br><span class="line"><span class="keyword">and</span> <span class="built_in">al</span>,<span class="number">11111100b</span></span><br><span class="line"><span class="keyword">out</span> <span class="number">61h</span>,<span class="built_in">al</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="8255"><a href="#8255" class="headerlink" title="8255"></a>8255</h3><h4 id="控制字-1"><a href="#控制字-1" class="headerlink" title="控制字"></a>控制字</h4><p><img src="/file/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/8.png" alt="图"><br><img src="/file/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/9.png" alt="图"></p>
<h4 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h4><ol>
<li><p>8255端口A使用方式0输出打印数据<br> <img src="/file/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/10.png" alt="图"></p>
 <figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;初始化程序</span></span><br><span class="line"><span class="comment">;端口A为方式0输出，端口C（PC7）上部分和A一样，下部分为输入（PC2）。</span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">0fffeh</span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">10000001b</span></span><br><span class="line"><span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line"><span class="comment">;初始使得打印机不打印 即 STROBE 高电平</span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">00001111b</span></span><br><span class="line"><span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">ax</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;子程序 入口参数 AH为打印数据</span></span><br><span class="line">printc proc</span><br><span class="line"><span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line"><span class="keyword">push</span> <span class="built_in">dx</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;查询PC2，看打印机是否忙 1为忙</span></span><br><span class="line"><span class="symbol">wait:</span></span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">0fffch</span></span><br><span class="line">    <span class="keyword">in</span> <span class="built_in">al</span>,<span class="built_in">dx</span></span><br><span class="line">    <span class="keyword">and</span> <span class="built_in">al</span>,<span class="number">00000100b</span></span><br><span class="line">    <span class="keyword">jnz</span> wait</span><br><span class="line">    <span class="comment">;不忙，则输出数据</span></span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">0fff8h</span></span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">ah</span></span><br><span class="line">    <span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">    <span class="comment">;使得STROBE=0 低电平有效，进行打印数据</span></span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">0fffeh</span></span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">00001110b</span></span><br><span class="line">    <span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">ax</span></span><br><span class="line">    <span class="comment">;适当延时 维持低电平有效</span></span><br><span class="line">    <span class="keyword">nop</span></span><br><span class="line">    <span class="keyword">nop</span></span><br><span class="line">    <span class="comment">;打印完了一个数据，使STROBE=1 无效</span></span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">0fffeh</span></span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">00001111b</span></span><br><span class="line">    <span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">ax</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">pop</span> <span class="built_in">dx</span></span><br><span class="line">    <span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">    <span class="keyword">ret</span></span><br><span class="line">peintc endp</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>8255端口A使用方式1输出打印数据<br> <img src="/file/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/11.png" alt="图"></p>
 <figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">;初始化</span></span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">0fffeh</span></span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">al</span>, <span class="number">10100000b</span> <span class="comment">;不知道为什么 PC6也要为输出</span></span><br><span class="line">    <span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">;禁止中断 PC6=0</span></span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">00001100b</span></span><br><span class="line">    <span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">;子程序 入口参数 AH为打印数据</span></span><br><span class="line">    printc proc</span><br><span class="line">    <span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">    <span class="keyword">push</span> <span class="built_in">dx</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">print:</span></span><br><span class="line">    <span class="comment">;输出数据</span></span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">0fff8h</span></span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">ah</span></span><br><span class="line">    <span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">;判断 PC7==0？</span></span><br><span class="line"><span class="symbol">wait:</span></span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">0fffch</span></span><br><span class="line">    <span class="keyword">in</span> <span class="built_in">al</span>,<span class="built_in">dx</span></span><br><span class="line">    <span class="keyword">test</span> <span class="built_in">al</span>,<span class="number">10000000b</span></span><br><span class="line">    <span class="keyword">jz</span> wait</span><br><span class="line">    <span class="comment">;PC7==1 继续打印</span></span><br><span class="line">    <span class="keyword">jmp</span> print</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pop</span> <span class="built_in">dx</span></span><br><span class="line">    <span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">    <span class="keyword">ret</span></span><br><span class="line">    peintc endp</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="数码管"><a href="#数码管" class="headerlink" title="数码管"></a>数码管</h3><ol>
<li>数码管分为段码和位码。注意判断是共阴极还是共阳极，前者为低电平有效，后者为高电平有效。</li>
</ol>
<h4 id="数码管的使用"><a href="#数码管的使用" class="headerlink" title="数码管的使用"></a>数码管的使用</h4><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"> 	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.stack</span></span><br><span class="line"><span class="meta">	.data</span></span><br><span class="line">leddt <span class="built_in">byte</span> <span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span></span><br><span class="line">ledtb <span class="built_in">byte</span> <span class="number">3fh</span>,<span class="number">06h</span>,<span class="number">5bh</span>,<span class="number">4fh</span>,<span class="number">66h</span>,<span class="number">6dh</span>,<span class="number">7dh</span>,<span class="number">07h</span>,<span class="number">7fh</span>,<span class="number">6fh</span></span><br><span class="line"><span class="meta">	.code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">;8255 method cotrol word</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">28bh</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">10000000b</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">     </span><br><span class="line"><span class="symbol">again:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">si</span>,offset leddt</span><br><span class="line">	<span class="keyword">call</span> displed</span><br><span class="line">	<span class="keyword">jmp</span> again</span><br><span class="line"><span class="meta">	.exit</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">displed proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">xor</span> <span class="built_in">bx</span>,<span class="built_in">bx</span></span><br><span class="line">	<span class="comment">;which light </span></span><br><span class="line">	<span class="keyword">mov</span> <span class="number">ah</span>,<span class="number">00001000b</span></span><br><span class="line"><span class="symbol">led1:</span></span><br><span class="line">	<span class="comment">;pa</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bl</span>,[<span class="built_in">si</span>]</span><br><span class="line">	<span class="keyword">inc</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,ledtb[<span class="built_in">bx</span>]</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">288h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">;pb which light to light</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">ah</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">289h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">;delay</span></span><br><span class="line">	<span class="keyword">call</span> delay</span><br><span class="line">	<span class="comment">;next light</span></span><br><span class="line">	<span class="keyword">ror</span> <span class="number">ah</span>,<span class="number">1</span></span><br><span class="line">	<span class="comment">;all lights light,exit and begin nest round</span></span><br><span class="line">	<span class="keyword">cmp</span> <span class="number">ah</span>,<span class="number">10000000b</span></span><br><span class="line">	<span class="keyword">jnz</span> led1</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">displed endp</span><br><span class="line">	</span><br><span class="line">time=<span class="number">20</span></span><br><span class="line">delay proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bx</span>,time</span><br><span class="line"><span class="symbol">delay1:</span></span><br><span class="line">	<span class="keyword">xor</span> <span class="built_in">cx</span>,<span class="built_in">cx</span></span><br><span class="line"><span class="symbol">delay2:</span></span><br><span class="line">	<span class="keyword">loop</span> delay2</span><br><span class="line">	<span class="keyword">dec</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">jnz</span> delay1</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">delay endp</span><br><span class="line">	end start</span><br></pre></td></tr></table></figure>

<h3 id="ADC"><a href="#ADC" class="headerlink" title="ADC"></a>ADC</h3><ol>
<li>中断方式<br><img src="/file/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/12.png" alt="图"></li>
</ol>
<figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;启动ADC</span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">220h</span></span><br><span class="line"><span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<ol start="2">
<li>查询方式<br> 见实验代码</li>
</ol>
<h3 id="QUS-5"><a href="#QUS-5" class="headerlink" title="QUS"></a>QUS</h3><h4 id="判断题-1"><a href="#判断题-1" class="headerlink" title="判断题"></a>判断题</h4><ol>
<li>8255没有时钟信号，其工作方式1的数据传送采用异步传送。 <strong>√</strong></li>
<li>调制解调器的信号调制是数字信号和模拟信号的转换，所以其转换原理与ADC或者DAC器件一样。 <strong>×</strong></li>
</ol>
<h4 id="大题-3"><a href="#大题-3" class="headerlink" title="大题"></a>大题</h4><ol>
<li><p>偏移码</p>
<ol>
<li>符号位取反的补码。</li>
</ol>
</li>
<li><p>如图<br><img src="/file/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/13.png" alt="图"></p>
</li>
<li><p>如图<br><img src="/file/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/14.png" alt="图"><br><img src="/file/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/15.png" alt="图"></p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://myblog.cuimouren.cn/2021/06/26/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E5%AE%9E%E9%AA%8C%E6%BA%90%E4%BB%A3%E7%A0%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="../../images/avatar.gif">
      <meta itemprop="name" content="崔文耀">
      <meta itemprop="description" content="Hello, here is wenyao's space, how do you come in???">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这里是文耀的space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="../../2021/06/26/%E5%BE%AE%E6%9C%BA%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0%E4%B9%8B%E5%AE%9E%E9%AA%8C%E6%BA%90%E4%BB%A3%E7%A0%81/" class="post-title-link" itemprop="url">微机期末复习之实验源代码</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-06-26 11:09:24 / 修改时间：14:47:16" itemprop="dateCreated datePublished" datetime="2021-06-26T11:09:24+08:00">2021-06-26</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">期末复习</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%BE%AE%E6%9C%BA/" itemprop="url" rel="index"><span itemprop="name">微机</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="微机期末复习之实验源代码"><a href="#微机期末复习之实验源代码" class="headerlink" title="微机期末复习之实验源代码"></a>微机期末复习之实验源代码</h1><h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><h3 id="1-2"><a href="#1-2" class="headerlink" title="1.2"></a>1.2</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">.model</span> small</span><br><span class="line"><span class="meta">.stack</span></span><br><span class="line"><span class="meta">.data</span></span><br><span class="line"></span><br><span class="line"><span class="meta">.code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">0d000h</span><span class="comment">;段地址</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">es</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bx</span>,<span class="number">6000h</span><span class="comment">;偏移地址</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">cx</span>,<span class="number">5fh</span><span class="comment">;字符个数</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">20h</span><span class="comment">;ASCII开始字符</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;写入ASCII表</span></span><br><span class="line"><span class="symbol">write:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">es</span>:[<span class="built_in">bx</span>],<span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">inc</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">inc</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">cmp</span> <span class="built_in">dx</span>,<span class="number">7fh</span></span><br><span class="line">	<span class="keyword">jnz</span> write</span><br><span class="line"></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bx</span>,<span class="number">6000h</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;读出ASCII表</span></span><br><span class="line"><span class="symbol">read:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="built_in">es</span>:[<span class="built_in">bx</span>]</span><br><span class="line">	<span class="keyword">call</span> dispc</span><br><span class="line">	<span class="keyword">inc</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">loop</span> read</span><br><span class="line">	</span><br><span class="line"><span class="meta">	.exit</span> <span class="number">0</span></span><br><span class="line">	end start</span><br></pre></td></tr></table></figure>

<h2 id="4"><a href="#4" class="headerlink" title="4"></a>4</h2><h3 id="4-1"><a href="#4-1" class="headerlink" title="4.1"></a>4.1</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.stack</span></span><br><span class="line"><span class="meta">	.data</span></span><br><span class="line">intmsg <span class="built_in">byte</span> <span class="string">&#x27;TPCA Interrupt No.3!&#x27;</span>,<span class="number">0dh</span>,<span class="number">0ah</span>,<span class="number">0</span></span><br><span class="line">counter <span class="built_in">byte</span> <span class="number">0</span></span><br><span class="line"><span class="meta">	.code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">350Bh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">es</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">cli</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="built_in">seg</span> new0Bh</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,offset new0Bh</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">250Bh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">in</span> <span class="built_in">al</span>,<span class="number">21h</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">and</span> <span class="built_in">al</span>,<span class="number">0f7h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">21h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">mov</span> counter,<span class="number">0</span></span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line"><span class="comment">;</span></span><br><span class="line"><span class="symbol">start1:</span></span><br><span class="line">	<span class="keyword">cmp</span> counter,<span class="number">5</span></span><br><span class="line">	<span class="keyword">jb</span> start1</span><br><span class="line">	<span class="comment">;</span></span><br><span class="line">	<span class="keyword">cli</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">21h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">250Bh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line"><span class="meta">	.exit</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;中断服务程序</span></span><br><span class="line">new0Bh proc</span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">inc</span> counter</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">si</span>,offset intmsg</span><br><span class="line">	<span class="keyword">call</span> dpstri</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">20h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">20h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">iret</span></span><br><span class="line">new0Bh endp</span><br><span class="line">dpstri proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line"><span class="symbol">dps1:</span> <span class="keyword">mov</span> <span class="built_in">al</span>,[<span class="built_in">si</span>]</span><br><span class="line">	<span class="keyword">cmp</span> <span class="built_in">al</span>,<span class="number">0</span></span><br><span class="line">	<span class="keyword">jz</span> dps2</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bx</span>,<span class="number">0</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="number">ah</span>,<span class="number">0eh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">10h</span></span><br><span class="line">	<span class="keyword">inc</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">jmp</span> dps1</span><br><span class="line"><span class="symbol">dps2:</span> <span class="keyword">pop</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">dpstri endp</span><br><span class="line">end start	</span><br></pre></td></tr></table></figure>

<h3 id="4-2"><a href="#4-2" class="headerlink" title="4.2"></a>4.2</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"> 	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.stack</span></span><br><span class="line"><span class="meta">	.data</span></span><br><span class="line">intmsg <span class="built_in">byte</span> <span class="string">&#x27;TPCA Interrupt No.10!&#x27;</span>,<span class="number">0dh</span>,<span class="number">0ah</span>,<span class="number">0</span></span><br><span class="line">counter <span class="built_in">byte</span> <span class="number">0</span></span><br><span class="line"><span class="meta">	.code</span></span><br><span class="line"><span class="symbol">start:</span><span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">3572h</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">es</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">cli</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="built_in">seg</span> new72h</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,offset new72h</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">2572h</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">in</span> <span class="built_in">al</span>,<span class="number">0a1h</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">and</span> <span class="built_in">al</span>,<span class="number">0fbh</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">0a1h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">mov</span> counter,<span class="number">0</span></span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line"><span class="comment">;</span></span><br><span class="line"><span class="symbol">start1:</span></span><br><span class="line">	<span class="keyword">cmp</span> counter,<span class="number">5</span></span><br><span class="line">	<span class="keyword">jb</span> start1</span><br><span class="line">	<span class="comment">;</span></span><br><span class="line">	<span class="keyword">cli</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">21h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">2572h</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line"><span class="meta">.exit</span> <span class="number">0</span>	</span><br><span class="line"></span><br><span class="line"><span class="comment">;中断服务程序</span></span><br><span class="line">new72h proc</span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">inc</span> counter</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">si</span>,offset intmsg</span><br><span class="line">	<span class="keyword">call</span> dpstri</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">20h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">0a0h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">20h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">iret</span></span><br><span class="line">new72h endp</span><br><span class="line">dpstri proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line"><span class="symbol">dps1:</span> <span class="keyword">mov</span> <span class="built_in">al</span>,[<span class="built_in">si</span>]</span><br><span class="line">	<span class="keyword">cmp</span> <span class="built_in">al</span>,<span class="number">0</span></span><br><span class="line">	<span class="keyword">jz</span> dps2</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bx</span>,<span class="number">0</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="number">ah</span>,<span class="number">0eh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">10h</span></span><br><span class="line">	<span class="keyword">inc</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">jmp</span> dps1</span><br><span class="line"><span class="symbol">dps2:</span> <span class="keyword">pop</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">dpstri endp</span><br><span class="line">end start	</span><br></pre></td></tr></table></figure>

<h3 id="4-3"><a href="#4-3" class="headerlink" title="4.3"></a>4.3</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line">  	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.stack</span></span><br><span class="line"><span class="meta">	.data</span></span><br><span class="line">intmsg3 <span class="built_in">byte</span> <span class="string">&#x27;TPCA Interrupt No.3!&#x27;</span>,<span class="number">0dh</span>,<span class="number">0ah</span>,<span class="number">0</span></span><br><span class="line">intmsg10 <span class="built_in">byte</span> <span class="string">&#x27;TPCA Interrupt No.10!&#x27;</span>,<span class="number">0dh</span>,<span class="number">0ah</span>,<span class="number">0</span></span><br><span class="line">counter <span class="built_in">byte</span> <span class="number">0</span></span><br><span class="line"><span class="meta">	.code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">350Bh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">es</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">cli</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="built_in">seg</span> new0Bh</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,offset new0Bh</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">250Bh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">in</span> <span class="built_in">al</span>,<span class="number">21h</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">and</span> <span class="built_in">al</span>,<span class="number">0f7h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">21h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">mov</span> counter,<span class="number">0</span></span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line"><span class="comment">;</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">3572h</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">es</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">cli</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="built_in">seg</span> new72h</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,offset new72h</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">2572h</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">in</span> <span class="built_in">al</span>,<span class="number">0a1h</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">and</span> <span class="built_in">al</span>,<span class="number">0fbh</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">0a1h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">mov</span> counter,<span class="number">0</span></span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line"><span class="symbol">start1:</span></span><br><span class="line">	<span class="keyword">cmp</span> counter,<span class="number">5</span></span><br><span class="line">	<span class="keyword">jb</span> start1</span><br><span class="line">	<span class="comment">;</span></span><br><span class="line">	<span class="keyword">cli</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">21h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">2572h</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line"><span class="comment">;</span></span><br><span class="line">	<span class="keyword">cli</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">21h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">250Bh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line"><span class="meta">.exit</span> <span class="number">0</span>	</span><br><span class="line"></span><br><span class="line"><span class="comment">;中断服务程序</span></span><br><span class="line">new72h proc</span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">inc</span> counter</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">si</span>,offset intmsg10</span><br><span class="line">	<span class="keyword">call</span> dpstri</span><br><span class="line"></span><br><span class="line">	<span class="keyword">mov</span> <span class="number">ah</span>,<span class="number">86h</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">cx</span>,<span class="number">0ffh</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">8480h</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">15h</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">20h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">0a0h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">20h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">iret</span></span><br><span class="line">new72h endp</span><br><span class="line"><span class="comment">;</span></span><br><span class="line">new0Bh proc</span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">inc</span> counter</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">si</span>,offset intmsg3</span><br><span class="line">	<span class="keyword">call</span> dpstri</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">20h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">20h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">iret</span></span><br><span class="line">new0Bh endp</span><br><span class="line"><span class="comment">;</span></span><br><span class="line">dpstri proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">dx</span></span><br><span class="line"><span class="symbol">dps1:</span> <span class="keyword">mov</span> <span class="built_in">al</span>,[<span class="built_in">si</span>]</span><br><span class="line">	<span class="keyword">cmp</span> <span class="built_in">al</span>,<span class="number">0</span></span><br><span class="line">	<span class="keyword">jz</span> dps2</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bx</span>,<span class="number">0</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="number">ah</span>,<span class="number">0eh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">10h</span></span><br><span class="line">	<span class="keyword">inc</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">jmp</span> dps1</span><br><span class="line"><span class="symbol">dps2:</span> </span><br><span class="line">	<span class="keyword">mov</span> <span class="number">ah</span>,<span class="number">86h</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">cx</span>,<span class="number">0ffh</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">8480h</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">15h</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">dpstri endp</span><br><span class="line">end start	</span><br></pre></td></tr></table></figure>

<h2 id="5"><a href="#5" class="headerlink" title="5"></a>5</h2><h3 id="5-1"><a href="#5-1" class="headerlink" title="5.1"></a>5.1</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.stack</span></span><br><span class="line"><span class="meta">	.code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span>		</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">10h</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">283h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span>	</span><br><span class="line">      <span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">8</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">280h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">      <span class="keyword">mov</span> <span class="number">ah</span>,<span class="built_in">al</span></span><br><span class="line"><span class="symbol">again:</span></span><br><span class="line">       <span class="keyword">call</span> wait</span><br><span class="line">	 <span class="keyword">in</span> <span class="built_in">al</span>,<span class="built_in">dx</span>    </span><br><span class="line">	 <span class="keyword">cmp</span> <span class="built_in">al</span>,<span class="number">ah</span>	</span><br><span class="line">	 <span class="keyword">jz</span> again	    </span><br><span class="line">	 <span class="keyword">push</span> <span class="built_in">ax</span>	</span><br><span class="line">	<span class="keyword">call</span> dispuib</span><br><span class="line">      <span class="keyword">call</span> dispcrlf</span><br><span class="line">      <span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="number">ah</span>,<span class="built_in">al</span></span><br><span class="line">      <span class="keyword">cmp</span> <span class="built_in">al</span>,<span class="number">0</span></span><br><span class="line">      <span class="keyword">jnz</span> again	</span><br><span class="line"><span class="meta">      .exit</span> <span class="number">0</span> </span><br><span class="line">wait   proc </span><br><span class="line">       <span class="keyword">push</span> <span class="built_in">cx</span></span><br><span class="line">       <span class="keyword">mov</span> <span class="built_in">cx</span>,<span class="number">1000</span>     </span><br><span class="line"><span class="symbol">wait1:</span></span><br><span class="line">        <span class="keyword">loop</span> wait1</span><br><span class="line">        <span class="keyword">pop</span> <span class="built_in">cx</span></span><br><span class="line">        <span class="keyword">ret</span> </span><br><span class="line">wait endp 	</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>

<h3 id="5-2"><a href="#5-2" class="headerlink" title="5.2"></a>5.2</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.stack</span></span><br><span class="line"><span class="meta">	.code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">;设置计数器0</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">283h</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">36h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">280h</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">1000</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">ah</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">;设置计数器1</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">283h</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">76h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">1000</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">281h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">ah</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line"></span><br><span class="line"><span class="meta">	.exit</span> <span class="number">0</span></span><br><span class="line">	end start</span><br></pre></td></tr></table></figure>

<h3 id="5-3"><a href="#5-3" class="headerlink" title="5.3"></a>5.3</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.data</span></span><br><span class="line">msg <span class="built_in">byte</span> <span class="string">&#x27;Interrupt 1s!&#x27;</span>,<span class="number">13</span>,<span class="number">10</span>,<span class="number">0</span></span><br><span class="line">counter <span class="built_in">byte</span> <span class="number">0</span></span><br><span class="line"><span class="meta">.code</span></span><br><span class="line"><span class="comment">;280计数器0</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span>	</span><br><span class="line">	<span class="comment">;设置计数器0	</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">36h</span>       </span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">283h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="comment">;设置计数初值</span></span><br><span class="line">      <span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">280h</span>	</span><br><span class="line">   	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">1000</span></span><br><span class="line">   	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">ah</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span>	</span><br><span class="line">	<span class="comment">;设置计数器1</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">76h</span>      </span><br><span class="line">    <span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">283h</span></span><br><span class="line">    <span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">281h</span>		</span><br><span class="line">   	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">1000</span>          </span><br><span class="line">   	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">ah</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span>	</span><br><span class="line">	<span class="comment">;获取并设置新的中断程序（0bh)</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">3508h</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">es</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">cli</span> </span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ds</span>	</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="built_in">seg</span> new0bh</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,offset new0bh</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">2508h</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">in</span> <span class="built_in">al</span>,<span class="number">21h</span> </span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span>	</span><br><span class="line">	<span class="keyword">and</span> <span class="built_in">al</span>,<span class="number">0f7h</span>	</span><br><span class="line">	<span class="keyword">out</span> <span class="number">21h</span>,<span class="built_in">al</span>	</span><br><span class="line">	<span class="keyword">mov</span> counter,<span class="number">0</span></span><br><span class="line">	<span class="keyword">sti</span> </span><br><span class="line"><span class="symbol">start1:</span></span><br><span class="line">	<span class="keyword">cmp</span> counter,<span class="number">5</span></span><br><span class="line">	<span class="keyword">jb</span> start1</span><br><span class="line">	<span class="keyword">cli</span>	</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">21h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">dx</span>	</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">2508h</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line"><span class="meta">	.exit</span> <span class="number">0</span></span><br><span class="line">new0bh proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">inc</span> counter</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">si</span>,offset msg</span><br><span class="line">	<span class="keyword">call</span> dpstri</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">20h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">20h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">iret</span></span><br><span class="line">new0bh endp</span><br><span class="line">dpstri proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line"><span class="symbol">dps1:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,[<span class="built_in">si</span>]</span><br><span class="line">	<span class="keyword">cmp</span> <span class="built_in">al</span>,<span class="number">0</span></span><br><span class="line">	<span class="keyword">jz</span> dps2</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bx</span>,<span class="number">0</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="number">ah</span>,<span class="number">0eh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">10h</span></span><br><span class="line">	<span class="keyword">inc</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">jmp</span> dps1</span><br><span class="line"><span class="symbol">dps2:</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">dpstri endp	</span><br><span class="line">end start</span><br></pre></td></tr></table></figure>

<h2 id="6"><a href="#6" class="headerlink" title="6"></a>6</h2><h3 id="6-1"><a href="#6-1" class="headerlink" title="6.1"></a>6.1</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">	 include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	 .model</span> small</span><br><span class="line"><span class="meta">	 .stack</span></span><br><span class="line"><span class="meta">	 .data</span></span><br><span class="line">msg  <span class="built_in">byte</span> <span class="string">&#x27;Please connext correctly!&#x27;</span>,<span class="number">13</span>,<span class="number">10</span>,<span class="number">0</span></span><br><span class="line"><span class="meta">	 .code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">	  <span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	  <span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span> </span><br><span class="line">	  <span class="keyword">mov</span> <span class="built_in">ax</span>,offset msg</span><br><span class="line">	  <span class="keyword">call</span> dispmsg</span><br><span class="line"></span><br><span class="line"><span class="symbol">again:</span>  <span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">28Bh</span></span><br><span class="line">	  <span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">89H</span></span><br><span class="line">	  <span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line"></span><br><span class="line">	  <span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">28Ah</span></span><br><span class="line">	  <span class="keyword">in</span> <span class="built_in">al</span>,<span class="built_in">dx</span></span><br><span class="line">	  <span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">288h</span></span><br><span class="line">	  <span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	</span><br><span class="line">	  <span class="keyword">call</span> readkey</span><br><span class="line">        <span class="keyword">jz</span> again</span><br><span class="line">	 </span><br><span class="line"><span class="meta">	 .exit</span> <span class="number">0</span></span><br><span class="line">	 end start</span><br></pre></td></tr></table></figure>

<h3 id="6-2"><a href="#6-2" class="headerlink" title="6.2"></a>6.2</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.stack</span></span><br><span class="line"><span class="meta">	.data</span></span><br><span class="line">counter <span class="built_in">byte</span> <span class="number">0</span></span><br><span class="line"><span class="meta">	.code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">		 </span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">350bh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">es</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">cli</span> </span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ds</span>	</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="built_in">seg</span> new0bh</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,offset new0bh</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">250bh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">in</span> <span class="built_in">al</span>,<span class="number">21h</span> </span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span>	</span><br><span class="line">	<span class="keyword">and</span> <span class="built_in">al</span>,<span class="number">0f7h</span>	</span><br><span class="line">	<span class="keyword">out</span> <span class="number">21h</span>,<span class="built_in">al</span>	</span><br><span class="line">	<span class="keyword">mov</span> counter,<span class="number">0</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">28bh</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">10100000b</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">00001101b</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">mov</span> counter,<span class="number">0</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">0</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">28ah</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">sti</span> </span><br><span class="line">	</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bl</span>,<span class="number">01h</span></span><br><span class="line">	</span><br><span class="line"><span class="symbol">start1:</span></span><br><span class="line">	<span class="keyword">cmp</span> counter,<span class="number">8</span></span><br><span class="line">	<span class="keyword">jb</span> start1</span><br><span class="line">	<span class="keyword">cli</span>	</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">21h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">dx</span>	</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">250bh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line"><span class="meta">	.exit</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">new0bh proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="built_in">bl</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">288h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">rol</span> <span class="built_in">bl</span>,<span class="number">1</span></span><br><span class="line">	<span class="keyword">inc</span> counter</span><br><span class="line">	<span class="comment">;EOI</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">20h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">20h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">iret</span></span><br><span class="line">new0bh endp</span><br><span class="line"></span><br><span class="line">	end start</span><br></pre></td></tr></table></figure>

<h3 id="6-3"><a href="#6-3" class="headerlink" title="6.3"></a>6.3</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.stack</span></span><br><span class="line"><span class="meta">	.data</span></span><br><span class="line">counter <span class="built_in">byte</span> <span class="number">0</span></span><br><span class="line"><span class="meta">	.code</span></span><br><span class="line"><span class="symbol">start:</span>	 </span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">350bh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">es</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">cli</span> </span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ds</span>	</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="built_in">seg</span> new0bh</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,offset new0bh</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">250bh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">in</span> <span class="built_in">al</span>,<span class="number">21h</span> </span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span>	</span><br><span class="line">	<span class="keyword">and</span> <span class="built_in">al</span>,<span class="number">0f7h</span>	</span><br><span class="line">	<span class="keyword">out</span> <span class="number">21h</span>,<span class="built_in">al</span>	</span><br><span class="line">	<span class="keyword">mov</span> counter,<span class="number">0</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">;</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">28bh</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">10110000b</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">00001001b</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">mov</span> counter,<span class="number">0</span></span><br><span class="line">	<span class="comment">;</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">0</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">28ah</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">sti</span> </span><br><span class="line"><span class="symbol">start1:</span></span><br><span class="line">	<span class="keyword">cmp</span> counter,<span class="number">5</span></span><br><span class="line">	<span class="keyword">jb</span> start1</span><br><span class="line">	<span class="keyword">cli</span>	</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">21h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">dx</span>	</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">250bh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line"><span class="meta">	.exit</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">new0bh proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">288h</span></span><br><span class="line">	<span class="keyword">in</span> <span class="built_in">al</span>,<span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">call</span> dispbb</span><br><span class="line">	<span class="keyword">call</span> dispcrlf</span><br><span class="line">	<span class="keyword">inc</span> counter</span><br><span class="line">	<span class="comment">;EOI</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">20h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">20h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">iret</span></span><br><span class="line">new0bh endp</span><br><span class="line"></span><br><span class="line">end start</span><br></pre></td></tr></table></figure>

<h3 id="6-4"><a href="#6-4" class="headerlink" title="6.4"></a>6.4</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.stack</span></span><br><span class="line"><span class="meta">	.code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">		 </span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">28bh</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">10100000b</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">00001101b</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bl</span>,<span class="number">01h</span></span><br><span class="line">	<span class="keyword">call</span> prints	</span><br><span class="line"><span class="meta">	.exit</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">prints proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	</span><br><span class="line"><span class="symbol">print1:</span> </span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="built_in">bl</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">288h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">rol</span> <span class="built_in">bl</span>,<span class="number">1</span></span><br><span class="line">	<span class="keyword">call</span> delay</span><br><span class="line"></span><br><span class="line">	<span class="comment">;读取C端口</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">28ah</span></span><br><span class="line"><span class="symbol">print2:</span></span><br><span class="line">	<span class="keyword">in</span> <span class="built_in">al</span>,<span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">test</span> <span class="built_in">al</span>,<span class="number">10000000b</span></span><br><span class="line">	<span class="keyword">jz</span> print2</span><br><span class="line">	<span class="keyword">cmp</span> <span class="built_in">bl</span>,<span class="number">01h</span></span><br><span class="line">	<span class="keyword">jnz</span> print1</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">prints endp</span><br><span class="line"></span><br><span class="line">timer=<span class="number">100</span></span><br><span class="line"><span class="comment">;延时子程序</span></span><br><span class="line">delay proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bx</span>,timer</span><br><span class="line"><span class="symbol">delay1:</span></span><br><span class="line">	<span class="keyword">xor</span> <span class="built_in">cx</span>,<span class="built_in">cx</span></span><br><span class="line"><span class="symbol">delay2:</span></span><br><span class="line">	<span class="keyword">loop</span> delay2</span><br><span class="line">	<span class="keyword">dec</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">jnz</span> delay1</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">delay endp</span><br><span class="line"></span><br><span class="line">	end start</span><br></pre></td></tr></table></figure>

<h2 id="8"><a href="#8" class="headerlink" title="8"></a>8</h2><h3 id="8-1"><a href="#8-1" class="headerlink" title="8.1"></a>8.1</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.stack</span></span><br><span class="line"><span class="meta">	.data</span></span><br><span class="line">ledtb <span class="built_in">byte</span> <span class="number">3fh</span>,<span class="number">06h</span>,<span class="number">5bh</span>,<span class="number">4fh</span>,<span class="number">66h</span>,<span class="number">6dh</span>,<span class="number">7dh</span>,<span class="number">07h</span>,<span class="number">7fh</span>,<span class="number">6fh</span> </span><br><span class="line"></span><br><span class="line"><span class="meta">	.code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">28bh</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">10000001b</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">xor</span> <span class="built_in">ax</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">xor</span> <span class="built_in">bx</span>,<span class="built_in">bx</span></span><br><span class="line"><span class="symbol"> f:</span>   <span class="keyword">call</span> readuib</span><br><span class="line">    	<span class="keyword">mov</span> <span class="built_in">bx</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,ledtb[<span class="built_in">bx</span>]</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">288h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">jmp</span> f</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">	.exit</span> <span class="number">0</span></span><br><span class="line">	end start</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="8-2"><a href="#8-2" class="headerlink" title="8.2"></a>8.2</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"> 	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.stack</span></span><br><span class="line"><span class="meta">	.data</span></span><br><span class="line">leddt <span class="built_in">byte</span> <span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span></span><br><span class="line">ledtb <span class="built_in">byte</span> <span class="number">3fh</span>,<span class="number">06h</span>,<span class="number">5bh</span>,<span class="number">4fh</span>,<span class="number">66h</span>,<span class="number">6dh</span>,<span class="number">7dh</span>,<span class="number">07h</span>,<span class="number">7fh</span>,<span class="number">6fh</span></span><br><span class="line"><span class="meta">	.code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">;8255 method cotrol word</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">28bh</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">10000000b</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">     </span><br><span class="line"><span class="symbol">again:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">si</span>,offset leddt</span><br><span class="line">	<span class="keyword">call</span> displed</span><br><span class="line">	<span class="keyword">jmp</span> again</span><br><span class="line"><span class="meta">	.exit</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">displed proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">xor</span> <span class="built_in">bx</span>,<span class="built_in">bx</span></span><br><span class="line">	<span class="comment">;which light </span></span><br><span class="line">	<span class="keyword">mov</span> <span class="number">ah</span>,<span class="number">00001000b</span></span><br><span class="line"><span class="symbol">led1:</span></span><br><span class="line">	<span class="comment">;pa</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bl</span>,[<span class="built_in">si</span>]</span><br><span class="line">	<span class="keyword">inc</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,ledtb[<span class="built_in">bx</span>]</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">288h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">;pb which light to light</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">ah</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">289h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">;delay</span></span><br><span class="line">	<span class="keyword">call</span> delay</span><br><span class="line">	<span class="comment">;next light</span></span><br><span class="line">	<span class="keyword">ror</span> <span class="number">ah</span>,<span class="number">1</span></span><br><span class="line">	<span class="comment">;all lights light,exit and begin nest round</span></span><br><span class="line">	<span class="keyword">cmp</span> <span class="number">ah</span>,<span class="number">10000000b</span></span><br><span class="line">	<span class="keyword">jnz</span> led1</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">displed endp</span><br><span class="line">	</span><br><span class="line">time=<span class="number">20</span></span><br><span class="line">delay proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bx</span>,time</span><br><span class="line"><span class="symbol">delay1:</span></span><br><span class="line">	<span class="keyword">xor</span> <span class="built_in">cx</span>,<span class="built_in">cx</span></span><br><span class="line"><span class="symbol">delay2:</span></span><br><span class="line">	<span class="keyword">loop</span> delay2</span><br><span class="line">	<span class="keyword">dec</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">jnz</span> delay1</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">delay endp</span><br><span class="line">	end start</span><br></pre></td></tr></table></figure>

<h3 id="8-4"><a href="#8-4" class="headerlink" title="8.4"></a>8.4</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">  	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.stack</span></span><br><span class="line"><span class="meta">	.data</span></span><br><span class="line">leddt <span class="built_in">byte</span> <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">ledtb <span class="built_in">byte</span> <span class="number">3fh</span>,<span class="number">06h</span>,<span class="number">5bh</span>,<span class="number">4fh</span>,<span class="number">66h</span>,<span class="number">6dh</span>,<span class="number">7dh</span>,<span class="number">07h</span>,<span class="number">7fh</span>,<span class="number">6fh</span></span><br><span class="line">num 	<span class="built_in">word</span> <span class="number">1</span></span><br><span class="line"><span class="meta">	.code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">;8255 method cotrol word</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">28bh</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">10000000b</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line"><span class="symbol">again:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">si</span>,offset leddt</span><br><span class="line">	<span class="keyword">call</span> displed</span><br><span class="line">	<span class="keyword">call</span> numadd</span><br><span class="line">	<span class="keyword">jmp</span> again</span><br><span class="line"><span class="meta">	.exit</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">displed proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">xor</span> <span class="built_in">bx</span>,<span class="built_in">bx</span></span><br><span class="line">	<span class="comment">;which light </span></span><br><span class="line">	<span class="keyword">mov</span> <span class="number">ah</span>,<span class="number">00001000b</span></span><br><span class="line"><span class="symbol">led1:</span></span><br><span class="line">	<span class="comment">;pa</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bl</span>,[<span class="built_in">si</span>]</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">inc</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,ledtb[<span class="built_in">bx</span>]</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">288h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">;pb which light to light</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">ah</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">289h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">;delay</span></span><br><span class="line">	<span class="keyword">call</span> delay</span><br><span class="line">	<span class="comment">;next light</span></span><br><span class="line">	<span class="keyword">ror</span> <span class="number">ah</span>,<span class="number">1</span></span><br><span class="line">	<span class="comment">;all lights light,exit and begin nest round</span></span><br><span class="line">	<span class="keyword">cmp</span> <span class="number">ah</span>,<span class="number">10000000b</span></span><br><span class="line">	<span class="keyword">jnz</span> led1</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">displed endp</span><br><span class="line">	</span><br><span class="line">time=<span class="number">500</span></span><br><span class="line">delay proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bx</span>,time</span><br><span class="line"><span class="symbol">delay1:</span></span><br><span class="line">	<span class="keyword">xor</span> <span class="built_in">cx</span>,<span class="built_in">cx</span></span><br><span class="line"><span class="symbol">delay2:</span></span><br><span class="line">	<span class="keyword">loop</span> delay2</span><br><span class="line">	<span class="keyword">dec</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">jnz</span> delay1</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">delay endp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">numadd proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">si</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bl</span>,<span class="number">10</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">si</span>,offset leddt</span><br><span class="line">	<span class="keyword">add</span> <span class="built_in">si</span>,<span class="number">3</span></span><br><span class="line">	<span class="keyword">inc</span> num</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,num</span><br><span class="line"></span><br><span class="line">	<span class="keyword">div</span> <span class="built_in">bl</span></span><br><span class="line">	<span class="comment">;high is yushu</span></span><br><span class="line">	<span class="keyword">mov</span> [<span class="built_in">si</span>],<span class="number">ah</span></span><br><span class="line">	<span class="keyword">sub</span> <span class="built_in">si</span>,<span class="number">1</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">call</span> dispbw</span><br><span class="line">	<span class="keyword">call</span> dispcrlf</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">div</span> <span class="built_in">bl</span></span><br><span class="line">	<span class="comment">;high is yushu</span></span><br><span class="line">	<span class="keyword">mov</span> [<span class="built_in">si</span>],<span class="number">ah</span></span><br><span class="line">	<span class="keyword">sub</span> <span class="built_in">si</span>,<span class="number">1</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">call</span> dispbw</span><br><span class="line">	<span class="keyword">call</span> dispcrlf</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">div</span> <span class="built_in">bl</span></span><br><span class="line">	<span class="comment">;high is yushu</span></span><br><span class="line">	<span class="keyword">mov</span> [<span class="built_in">si</span>],<span class="number">ah</span></span><br><span class="line">	<span class="keyword">sub</span> <span class="built_in">si</span>,<span class="number">1</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">call</span> dispbw</span><br><span class="line">	<span class="keyword">call</span> dispcrlf</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">div</span> <span class="built_in">bl</span></span><br><span class="line">	<span class="comment">;high is yushu</span></span><br><span class="line">	<span class="keyword">mov</span> [<span class="built_in">si</span>],<span class="number">ah</span></span><br><span class="line">	<span class="keyword">sub</span> <span class="built_in">si</span>,<span class="number">1</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">call</span> dispbw</span><br><span class="line">	<span class="keyword">call</span> dispcrlf</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">si</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">numadd endp</span><br><span class="line">	end start</span><br></pre></td></tr></table></figure>

<h2 id="10"><a href="#10" class="headerlink" title="10"></a>10</h2><h3 id="10-2"><a href="#10-2" class="headerlink" title="10.2"></a>10.2</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"> 	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.stack</span></span><br><span class="line"><span class="meta">	.data</span></span><br><span class="line">msg <span class="built_in">byte</span> <span class="string">&#x27;press any key to exit&#x27;</span>,<span class="number">10</span>,<span class="number">13</span>,<span class="number">0</span></span><br><span class="line"><span class="meta">	.code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line"><span class="symbol">again:</span>	</span><br><span class="line">	<span class="comment">;active DAC	</span></span><br><span class="line">	<span class="keyword">xor</span> <span class="built_in">ax</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">298h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">298h</span></span><br><span class="line">	<span class="keyword">in</span> <span class="built_in">al</span>,<span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">call</span> delay</span><br><span class="line">	<span class="keyword">call</span> dispuib</span><br><span class="line">	<span class="keyword">call</span> dispcrlf</span><br><span class="line">	<span class="keyword">call</span> readkey</span><br><span class="line">	<span class="keyword">jz</span> again</span><br><span class="line"><span class="meta">	.exit</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">timer=<span class="number">100</span></span><br><span class="line">delay proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bx</span>,timer</span><br><span class="line"><span class="symbol">delay1:</span></span><br><span class="line">	<span class="keyword">xor</span> <span class="built_in">cx</span>,<span class="built_in">cx</span></span><br><span class="line"><span class="symbol">delay2:</span></span><br><span class="line">	<span class="keyword">loop</span> delay2</span><br><span class="line">	<span class="keyword">dec</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">jnz</span> delay1</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">delay endp</span><br><span class="line">	end start</span><br></pre></td></tr></table></figure>

<h3 id="10-3"><a href="#10-3" class="headerlink" title="10.3"></a>10.3</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"> 	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.stack</span></span><br><span class="line"><span class="meta">	.data</span></span><br><span class="line"><span class="meta">	.code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="comment">;init 8255</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">28bh</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">0</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="comment">;pc7=0</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">0</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	</span><br><span class="line"><span class="symbol">again:</span></span><br><span class="line">	<span class="comment">;active DAC	</span></span><br><span class="line">	<span class="keyword">xor</span> <span class="built_in">ax</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">298h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span> </span><br><span class="line">	<span class="comment">;pc7</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">28ah</span></span><br><span class="line"><span class="symbol">start1:</span>	</span><br><span class="line">	<span class="keyword">call</span> delay</span><br><span class="line">	<span class="keyword">in</span> <span class="built_in">al</span>,<span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">test</span> <span class="built_in">al</span>,<span class="number">10000000b</span></span><br><span class="line">	<span class="keyword">jz</span> start1</span><br><span class="line"></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">298h</span></span><br><span class="line">	<span class="keyword">in</span> <span class="built_in">al</span>,<span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">call</span> delay</span><br><span class="line">	<span class="keyword">call</span> dispuib</span><br><span class="line">	<span class="keyword">call</span> dispcrlf</span><br><span class="line">	<span class="keyword">call</span> readkey</span><br><span class="line">	<span class="keyword">jz</span> again</span><br><span class="line"><span class="meta">	.exit</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">timer=<span class="number">1000</span></span><br><span class="line">delay proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bx</span>,timer</span><br><span class="line"><span class="symbol">delay1:</span></span><br><span class="line">	<span class="keyword">xor</span> <span class="built_in">cx</span>,<span class="built_in">cx</span></span><br><span class="line"><span class="symbol">delay2:</span></span><br><span class="line">	<span class="keyword">loop</span> delay2</span><br><span class="line">	<span class="keyword">dec</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">jnz</span> delay1</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">delay endp</span><br><span class="line">	end start</span><br></pre></td></tr></table></figure>

<h3 id="10-4"><a href="#10-4" class="headerlink" title="10.4"></a>10.4</h3><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">	include io<span class="number">.</span><span class="keyword">inc</span></span><br><span class="line"><span class="meta">	.model</span> small</span><br><span class="line"><span class="meta">	.stack</span></span><br><span class="line"><span class="meta">	.data</span></span><br><span class="line">temp		<span class="built_in">byte</span> <span class="number">0</span></span><br><span class="line">intseg	<span class="built_in">word</span> <span class="number">0</span></span><br><span class="line">intoff	<span class="built_in">word</span> <span class="number">0</span></span><br><span class="line"><span class="meta">	.code</span></span><br><span class="line"><span class="symbol">start:</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="comment">;int</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">350bh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">mov</span> intseg,<span class="built_in">es</span></span><br><span class="line">	<span class="keyword">mov</span> intoff,<span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">cli</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="built_in">seg</span> new0Bh</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,offset new0Bh</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">250Bh</span></span><br><span class="line">	<span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="comment">;open IRQ3	</span></span><br><span class="line">	<span class="keyword">in</span> <span class="built_in">al</span>,<span class="number">21h</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">and</span> <span class="built_in">al</span>,<span class="number">0f7h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">21h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line"><span class="symbol">again:</span>  </span><br><span class="line">      <span class="keyword">mov</span> <span class="built_in">al</span>,temp</span><br><span class="line">	<span class="keyword">call</span> delay</span><br><span class="line">	<span class="keyword">call</span> dispuib</span><br><span class="line">      <span class="keyword">call</span> dispcrlf   </span><br><span class="line">      <span class="keyword">call</span> readkey</span><br><span class="line">      <span class="keyword">jz</span> again</span><br><span class="line"></span><br><span class="line">       <span class="keyword">cli</span></span><br><span class="line">       <span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">       <span class="keyword">out</span> <span class="number">21h</span>,<span class="built_in">al</span></span><br><span class="line">       <span class="keyword">mov</span> <span class="built_in">ds</span>,intseg</span><br><span class="line">       <span class="keyword">mov</span> <span class="built_in">dx</span>,intoff</span><br><span class="line">       <span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">250Bh</span></span><br><span class="line">       <span class="keyword">int</span> <span class="number">21h</span></span><br><span class="line">       <span class="keyword">sti</span></span><br><span class="line"><span class="meta">       .exit</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">new0Bh proc</span><br><span class="line">	<span class="keyword">sti</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ax</span>,@data</span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">;active DAC	</span></span><br><span class="line">	<span class="keyword">xor</span> <span class="built_in">ax</span>,<span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">298h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="built_in">dx</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">dx</span>,<span class="number">298h</span></span><br><span class="line">	<span class="keyword">in</span> <span class="built_in">al</span>,<span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">mov</span> temp,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">call</span> delay</span><br><span class="line">	</span><br><span class="line">	<span class="comment">;EOI</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">al</span>,<span class="number">20h</span></span><br><span class="line">	<span class="keyword">out</span> <span class="number">20h</span>,<span class="built_in">al</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ds</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">dx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">ax</span></span><br><span class="line">	<span class="keyword">iret</span></span><br><span class="line">new0Bh endp</span><br><span class="line"></span><br><span class="line">timer=<span class="number">100</span></span><br><span class="line">delay proc</span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">push</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">mov</span> <span class="built_in">bx</span>,timer</span><br><span class="line"><span class="symbol">delay1:</span></span><br><span class="line">	<span class="keyword">xor</span> <span class="built_in">cx</span>,<span class="built_in">cx</span></span><br><span class="line"><span class="symbol">delay2:</span></span><br><span class="line">	<span class="keyword">loop</span> delay2</span><br><span class="line">	<span class="keyword">dec</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">jnz</span> delay1</span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">cx</span></span><br><span class="line">	<span class="keyword">pop</span> <span class="built_in">bx</span></span><br><span class="line">	<span class="keyword">ret</span></span><br><span class="line">delay endp</span><br><span class="line">	end start</span><br></pre></td></tr></table></figure>

<h2 id="打印"><a href="#打印" class="headerlink" title="打印"></a>打印</h2><p><strong>打印的时候只能打印出一页，这样不好。我们可以这样手动全选打印的区域，右键选择打印就可以了。应该是hexo自己的问题，因为别的网页都可以正常打印全部，不知道这是一个bug还是feature。</strong></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://myblog.cuimouren.cn/2021/06/24/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E4%BA%8C-%E7%BA%BF%E6%80%A7%E8%A1%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="../../images/avatar.gif">
      <meta itemprop="name" content="崔文耀">
      <meta itemprop="description" content="Hello, here is wenyao's space, how do you come in???">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这里是文耀的space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="../../2021/06/24/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E4%BA%8C-%E7%BA%BF%E6%80%A7%E8%A1%A8/" class="post-title-link" itemprop="url">数据结构 二 线性表</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-24 16:13:56" itemprop="dateCreated datePublished" datetime="2021-06-24T16:13:56+08:00">2021-06-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-07-03 14:54:37" itemprop="dateModified" datetime="2021-07-03T14:54:37+08:00">2021-07-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">数据结构</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%BA%BF%E6%80%A7%E8%A1%A8/" itemprop="url" rel="index"><span itemprop="name">线性表</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="线性表-新的实现"><a href="#线性表-新的实现" class="headerlink" title="线性表 新的实现"></a>线性表 新的实现</h1><p><strong>更新日期：202107021044</strong></p>
<p>链表在ADT一节中已经实现过了，不过实现的并不是特别的完善，只是一个ADT的使用例子而已，现在正式地将链表进行实现。<br><strong>本系列参考数据结构严蔚敏c语言版、c primer plus、STL进行实现</strong></p>
<h2 id="ADT"><a href="#ADT" class="headerlink" title="ADT"></a>ADT</h2><ol>
<li>构造一个空线性表</li>
<li>销毁一个线性表</li>
<li>清空线性表</li>
<li>判断线性表是否为空</li>
<li>获得线性表中元素的个数</li>
<li>获得特定位置元素</li>
<li>返回第一个满足关系的元素位置</li>
<li>返回某元素的前驱</li>
<li>返回某元素的后继</li>
<li>再特定位置插入元素</li>
<li>删除特定位置的元素</li>
<li>使用特定的函数遍历所有元素</li>
</ol>
<h2 id="线性表的顺序实现"><a href="#线性表的顺序实现" class="headerlink" title="线性表的顺序实现"></a>线性表的顺序实现</h2><h3 id="接口说明"><a href="#接口说明" class="headerlink" title="接口说明"></a>接口说明</h3><p>由于c语言不支持c++那样的引用操作，所以我的实现和教材上略有不同。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//线性表 重新实现</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Item</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">&#125; Item;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">LinearList</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">//存放元素</span></span><br><span class="line">    Item *items;</span><br><span class="line">    <span class="comment">//当前长度</span></span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line">    <span class="comment">//当前分配的存储容量</span></span><br><span class="line">    <span class="keyword">int</span> listsize;</span><br><span class="line">&#125; * LinearList;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InitLinearList</span><span class="params">(LinearList(*List), <span class="keyword">int</span> initsize)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//销毁</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DestroyLinearList</span><span class="params">(LinearList(*List))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//清空</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ClearLinearList</span><span class="params">(LinearList(*List))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否为空</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">EmptyLinearList</span><span class="params">(LinearList(*List))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//full</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">FullLinearList</span><span class="params">(LinearList(*List))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获得元素</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">GetItemLinearList</span><span class="params">(LinearList(*List), <span class="keyword">int</span> location, Item *itemsave)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定位第一个满足条件的元素</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LocateLinearList</span><span class="params">(LinearList(*List), <span class="keyword">bool</span> (*fun)(Item item))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//插入</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InsertLinearList</span><span class="params">(LinearList(*List), <span class="keyword">int</span> location, Item *item)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DeleteLinearList</span><span class="params">(LinearList(*List), <span class="keyword">int</span> location)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">TraverseLinearList</span><span class="params">(LinearList(*List), <span class="keyword">void</span> (*fun)(Item item))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AutoFillLinearList</span><span class="params">(LinearList(*List))</span></span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="接口实现"><a href="#接口实现" class="headerlink" title="接口实现"></a>接口实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;linearlist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InitLinearList</span><span class="params">(LinearList(*List), <span class="keyword">int</span> initsize)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//根据下面的论断更正后 List 是指向 LinearList 的指针。</span></span><br><span class="line">    <span class="comment">//malloc (*List)    因为这里重新给 (*List) 分配内存了，所以 现在的List 不指向传进来的参数的List的指向，所以相当于这一切的初始化白做了。</span></span><br><span class="line">    <span class="comment">//这就是为什么书上的函数都是直接取变量的地址了，这样在函数中再反取地址就可以直接更改源数据了。</span></span><br><span class="line">    <span class="comment">//也可以在函数中自己重新定义一个一样的数据，完成之后赋值给传进来的参数，但是这样在有些情况写太费了，不好。</span></span><br><span class="line">    (*List) = (struct LinearList *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct LinearList));</span><br><span class="line">    <span class="comment">//malloc items</span></span><br><span class="line">    (*List)-&gt;items = (Item *)<span class="built_in">malloc</span>(initsize * <span class="keyword">sizeof</span>(Item));</span><br><span class="line">    <span class="keyword">if</span> (!(*List)-&gt;items)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;你要的空间太大了，分配不了\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        (*List)-&gt;length = <span class="number">0</span>;</span><br><span class="line">        (*List)-&gt;listsize = initsize;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;初始化成功,容量为%d\n&quot;</span>, (*List)-&gt;listsize);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//销毁</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DestroyLinearList</span><span class="params">(LinearList(*List))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">free</span>((*List)-&gt;items);</span><br><span class="line">    (*List)-&gt;items = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">free</span>((*List));</span><br><span class="line">    (*List) = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> ((*List) == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;销毁成功\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;销毁失败\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//清空</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ClearLinearList</span><span class="params">(LinearList(*List))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    (*List)-&gt;length = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;清空成功\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否为空</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">EmptyLinearList</span><span class="params">(LinearList(*List))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*List)-&gt;length == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;空\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不空\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">FullLinearList</span><span class="params">(LinearList(*List))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*List)-&gt;length == (*List)-&gt;listsize)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;满了\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;没有满\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//获得元素</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">GetItemLinearList</span><span class="params">(LinearList(*List), <span class="keyword">int</span> location, Item *itemsave)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (location &lt; <span class="number">0</span> || location &gt;= (*List)-&gt;length)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;范围超限\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        *itemsave = (*List)-&gt;items[location];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定位第一个满足条件的元素</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LocateLinearList</span><span class="params">(LinearList(*List), <span class="keyword">bool</span> (*fun)(Item item))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= (*List)-&gt;length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (fun((*List)-&gt;items[i]))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;第一个满足条件的元素在%d\n&quot;</span>, i);</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;没有元素满足条件\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//插入  这个函数有问题 内存</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InsertLinearList</span><span class="params">(LinearList(*List), <span class="keyword">int</span> location, Item *item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;InsertLinearList\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (FullLinearList(List))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//自动申请扩容</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;满了，自动申请扩容.\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (List == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;List is NULL\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (*List == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;*List is NULL\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ((*List)-&gt;items == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;(*List)-&gt;items is NULL\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        (*List)-&gt;items = (Item *)<span class="built_in">realloc</span>((*List)-&gt;items, ((*List)-&gt;listsize + <span class="number">1</span>) * <span class="keyword">sizeof</span>(Item));</span><br><span class="line">        <span class="keyword">if</span> ((*List)-&gt;items)</span><br><span class="line">        &#123;</span><br><span class="line">            (*List)-&gt;listsize++;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;自动申请扩容, 成功,当前容量为%d\n&quot;</span>, (*List)-&gt;listsize);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;自动申请扩容, 失败，插入失败\n&quot;</span>);</span><br><span class="line">            (*List)-&gt;items = <span class="literal">NULL</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    (*List)-&gt;length++;</span><br><span class="line">    <span class="keyword">if</span> (location &lt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        location = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (location &gt;= (*List)-&gt;length)</span><br><span class="line">    &#123;</span><br><span class="line">        location = (*List)-&gt;length - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = (*List)-&gt;length - <span class="number">1</span>; i &gt;= location + <span class="number">1</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        (*List)-&gt;items[i] = (*List)-&gt;items[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    (*List)-&gt;items[location] = *item;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;插入成功,当前容量为%d,可用容量为%d\n&quot;</span>, (*List)-&gt;listsize, (*List)-&gt;listsize - (*List)-&gt;length);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DeleteLinearList</span><span class="params">(LinearList(*List), <span class="keyword">int</span> location)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (location &lt; <span class="number">0</span> || location &gt;= (*List)-&gt;length)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;删除的范围错误\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = location; i &lt;= (*List)-&gt;length - <span class="number">2</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            (*List)-&gt;items[i] = (*List)-&gt;items[i + <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        (*List)-&gt;length--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;删除成功\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">TraverseLinearList</span><span class="params">(LinearList(*List), <span class="keyword">void</span> (*fun)(Item item))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= (*List)-&gt;length - <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        fun((*List)-&gt;items[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AutoFillLinearList</span><span class="params">(LinearList(*List))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> listsize = (*List)-&gt;listsize;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= listsize * <span class="number">2</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        srand((<span class="keyword">double</span>)time(<span class="literal">NULL</span>) * i);</span><br><span class="line">        Item item;</span><br><span class="line">        item.value = rand() % ((*List)-&gt;listsize);</span><br><span class="line">        item.value = i;</span><br><span class="line">        InsertLinearList(List, i, &amp;item);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">KuoRong</span><span class="params">(LinearList *List)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (FullLinearList(List))</span><br><span class="line">    &#123;</span><br><span class="line">        (*List)-&gt;items = (Item *)<span class="built_in">realloc</span>((*List)-&gt;items, (*List)-&gt;listsize + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> ((*List)-&gt;items)</span><br><span class="line">        &#123;</span><br><span class="line">            (*List)-&gt;listsize++;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;自动申请扩容, 成功,当前容量为%d\n&quot;</span>, (*List)-&gt;listsize);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;自动申请扩容, 失败，插入失败\n&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    (*List)-&gt;length++;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="接口使用"><a href="#接口使用" class="headerlink" title="接口使用"></a>接口使用</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;linearlist.c&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">fun1</span><span class="params">(Item item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (item.value &gt;= <span class="number">100</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun2</span><span class="params">(Item item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;item: %d\n&quot;</span>, item.value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LinearList List = <span class="literal">NULL</span>;</span><br><span class="line">    Item itemsave;</span><br><span class="line">    InitLinearList(&amp;List, <span class="number">10</span>);</span><br><span class="line">    AutoFillLinearList(&amp;List);</span><br><span class="line">    GetItemLinearList(&amp;List, <span class="number">1</span>, &amp;itemsave);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;item: %d\n&quot;</span>, itemsave.value);</span><br><span class="line">    TraverseLinearList(&amp;List, (*fun2));</span><br><span class="line">    DestroyLinearList(&amp;List);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="线性表的链性实现"><a href="#线性表的链性实现" class="headerlink" title="线性表的链性实现"></a>线性表的链性实现</h2><h3 id="接口说明-1"><a href="#接口说明-1" class="headerlink" title="接口说明"></a>接口说明</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//链表</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AUTOFILLSIZE 10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Item</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">&#125; Item;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    Item item;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span></span><br><span class="line">    <span class="comment">//先实现单向链表</span></span><br><span class="line">    <span class="comment">//struct Node * prev;</span></span><br><span class="line">&#125; Node, *LinkList;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InitLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//销毁</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DestroyLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//清空</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ClearLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否为空</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">EmptyLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//full</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">FullLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获得元素</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">GetItemLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>), <span class="keyword">int</span> location, Item *itemsave)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定位第一个满足条件的元素</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LocateLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>), <span class="keyword">bool</span> (*fun)(Item item))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//插入</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InsertLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>), <span class="keyword">int</span> location, Item *item)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DeleteLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>), <span class="keyword">int</span> location)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">TraverseLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>), <span class="keyword">void</span> (*fun)(Item item))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AutoFillLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>))</span></span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="接口实现-1"><a href="#接口实现-1" class="headerlink" title="接口实现"></a>接口实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;linklist.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InitLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    (*<span class="built_in">list</span>) = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;初始化LinkList成功\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//销毁</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DestroyLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LinkList p = (*<span class="built_in">list</span>);</span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        LinkList q = p-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">        p = q;</span><br><span class="line">    &#125;</span><br><span class="line">    (*<span class="built_in">list</span>) = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;销毁LinkList成功\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//清空</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ClearLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    DestroyLinkList(<span class="built_in">list</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否为空</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">EmptyLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*<span class="built_in">list</span>) == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;链表空\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;链表不空\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//full</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">FullLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LinkList p = (LinkList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;满了\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不满\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获得元素</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">GetItemLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>), <span class="keyword">int</span> location, Item *itemsave)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LinkList p = (*<span class="built_in">list</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= location - <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;没有找到这个元素\n&quot;</span>);</span><br><span class="line">            itemsave = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//现在p指向location元素</span></span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;没有找到这个元素\n&quot;</span>);</span><br><span class="line">        <span class="comment">//直接改变itemsave时改变形参，对外面的实参没有任何影响。</span></span><br><span class="line">        <span class="comment">//itemsave = NULL;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//这里itemsave肯定要提前申请好内存</span></span><br><span class="line">        <span class="comment">//为了兼容性，直接改变itemsave的指向即可，不需要其事先拥有内存。</span></span><br><span class="line">        <span class="comment">//直接改变itemsave时改变形参，对外面的实参没有任何影响。  只有 *itemsave=    才会有作用。</span></span><br><span class="line">        <span class="comment">//假如要不申请内存 直接改变传入的实参的指针指向的话需要使用二重指针。不过这样有点麻烦了。不如申请内存了事</span></span><br><span class="line">        *itemsave = p-&gt;item;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;找到了，第%d元素的值为%d\n&quot;</span>, location, p-&gt;item.value);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定位第一个满足条件的元素</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LocateLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>), <span class="keyword">bool</span> (*fun)(Item item))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LinkList p = (*<span class="built_in">list</span>);</span><br><span class="line">    <span class="keyword">int</span> location = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (fun(p-&gt;item))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;第一个满足条件的元素为第%d\n&quot;</span>, location);</span><br><span class="line">            <span class="keyword">return</span> location;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;没有满足条件的元素\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获得元素个数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">CountLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LinkList p = (*<span class="built_in">list</span>);</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//插入</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InsertLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>), <span class="keyword">int</span> location, Item *item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (FullLinkList(<span class="built_in">list</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;满了，无法插入\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    LinkList <span class="keyword">new</span> = (LinkList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    <span class="keyword">new</span>-&gt;item = *item;</span><br><span class="line">    <span class="keyword">new</span>-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    LinkList p = (*<span class="built_in">list</span>);</span><br><span class="line">    <span class="comment">//本为空</span></span><br><span class="line">    <span class="keyword">if</span> (EmptyLinkList(<span class="built_in">list</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        (*<span class="built_in">list</span>) = <span class="keyword">new</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;插入成功\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//头插 要移动头节点</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (location &lt;= <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        location = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//new-&gt;next=p;</span></span><br><span class="line">        <span class="comment">//p=new;</span></span><br><span class="line">        <span class="keyword">new</span>-&gt;next = (*<span class="built_in">list</span>);</span><br><span class="line">        (*<span class="built_in">list</span>) = <span class="keyword">new</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;插入成功\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//尾插</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (location &gt;= CountLinkList(<span class="built_in">list</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        location = CountLinkList(<span class="built_in">list</span>);</span><br><span class="line">        <span class="keyword">while</span> (p-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        p-&gt;next = <span class="keyword">new</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;插入成功\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//中间插</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span> (location != <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            location--;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//插到p后面</span></span><br><span class="line">        <span class="keyword">new</span>-&gt;next = p-&gt;next;</span><br><span class="line">        p-&gt;next = <span class="keyword">new</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;插入成功\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;插入失败\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DeleteLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>), <span class="keyword">int</span> location)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (EmptyLinkList(<span class="built_in">list</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;空，无法删除\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (location &lt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        location = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (location &gt;= CountLinkList(<span class="built_in">list</span>) - <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        location = CountLinkList(<span class="built_in">list</span>) - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//删除第零个元素</span></span><br><span class="line">    <span class="keyword">if</span> (location == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        location = <span class="number">0</span>;</span><br><span class="line">        LinkList p = (*<span class="built_in">list</span>);</span><br><span class="line">        (*<span class="built_in">list</span>) = (*<span class="built_in">list</span>)-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;删除成功\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (location &lt;= CountLinkList(<span class="built_in">list</span>) - <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        LinkList p = (*<span class="built_in">list</span>);</span><br><span class="line">        <span class="keyword">while</span> (location != <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            location--;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//删除p-&gt;next</span></span><br><span class="line">        LinkList del = p-&gt;next;</span><br><span class="line">        p-&gt;next = p-&gt;next-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(del);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;删除成功\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">TraverseLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>), <span class="keyword">void</span> (*fun)(Item item))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LinkList p = (*<span class="built_in">list</span>);</span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        fun(p-&gt;item);</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AutoFillLinkList</span><span class="params">(LinkList(*<span class="built_in">list</span>))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= AUTOFILLSIZE; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        Item item;</span><br><span class="line">        item.value = i;</span><br><span class="line">        InsertLinkList(<span class="built_in">list</span>, i, &amp;item);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="接口使用-1"><a href="#接口使用-1" class="headerlink" title="接口使用"></a>接口使用</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;linklist.c&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">(Item item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;item: %d\n&quot;</span>, item.value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LinkList <span class="built_in">list</span>;</span><br><span class="line">    Item itemsave; <span class="comment">//= (Item *)malloc(sizeof(Item));</span></span><br><span class="line">    InitLinkList(&amp;<span class="built_in">list</span>);</span><br><span class="line">    AutoFillLinkList(&amp;<span class="built_in">list</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//由于是值传递，所以传入指针的值，在函数中进行更改不会改变实参的数据。</span></span><br><span class="line">    GetItemLinkList(&amp;<span class="built_in">list</span>, <span class="number">2</span>, &amp;itemsave);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;item: %d\n&quot;</span>, itemsave.value);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TraverseLinkList(&amp;list,(*fun));</span></span><br><span class="line">    <span class="comment">//DeleteLinkList(&amp;list,5);</span></span><br><span class="line">    <span class="comment">//TraverseLinkList(&amp;list,(*fun));</span></span><br><span class="line">    <span class="comment">//DestroyLinkList(&amp;list);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="旧的实现"><a href="#旧的实现" class="headerlink" title="旧的实现"></a>旧的实现</h1><p>我觉得之前的这个实现不优雅，所以重现实现一遍，旧代码封存。</p>
<h2 id="线性表的ADT"><a href="#线性表的ADT" class="headerlink" title="线性表的ADT"></a>线性表的ADT</h2><ol>
<li>构造一个空的线性表 </li>
<li>销毁—个线性表</li>
<li>清空一个线性表中的所有元素，重置为空表 </li>
<li>判断是否为空表 </li>
<li>判断是否已满 </li>
<li>确定元素个数 </li>
<li>返回表的容量 </li>
<li>增加容量 </li>
<li>减少容量</li>
<li>将容量减少到当前实际使用的大小 </li>
<li>得到线性表第i个元素的值</li>
<li>返回第一个满足特定要求的元素的位置 定位元素 </li>
<li>返回最后一个满足特定要求的元素的位置 定位元素 </li>
<li>返回某元素的前驱 15. 返回一个元素的后继</li>
<li>在第i个位置之前插入新的元素，使其称为新的第i个元素 </li>
<li>删除第i个元素</li>
<li>使用特定的函数遍历线性表中每一个元素 </li>
<li>对线性表进行排序，排序规则为默认的升序 </li>
<li>对线性表进行排序，自定义排序规则 </li>
<li>将两个线性表合并</li>
<li>将一个线性表复制为另一个线性表</li>
</ol>
<p><strong>其实链表最重要的是学会链表的思想，即使用指针将处于分散内存的数据连接起来，以及相关数据结点的定义和操作，学会了这些才能为之后的树和图打下基础，也可以自己实现更加高级的数据结构</strong></p>
<h2 id="线性表的顺序实现-1"><a href="#线性表的顺序实现-1" class="headerlink" title="线性表的顺序实现"></a>线性表的顺序实现</h2><h3 id="接口说明-2"><a href="#接口说明-2" class="headerlink" title="接口说明"></a>接口说明</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//线性表的顺序实现</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdint.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_ITEM_COUNT 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//这是链表的数据部分</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">&#125; Item;</span><br><span class="line"></span><br><span class="line"><span class="comment">//顺序性的链表中的一个结点的定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">//位置 指名是第几个元素</span></span><br><span class="line">    <span class="keyword">int</span> location;</span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line"><span class="comment">//顺序性的链表的定义 List 是指向顺序表的一个指针</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Data</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">//存储数据</span></span><br><span class="line">    Item *items;</span><br><span class="line">    <span class="comment">//存储的数据大小</span></span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">    <span class="comment">//最大可以容纳的数据大小</span></span><br><span class="line">    <span class="keyword">int</span> capacity;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Data</span> <span class="title">ListStruct</span>;</span></span><br><span class="line"><span class="keyword">typedef</span> ListStruct *List;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化一个空的顺序表</span></span><br><span class="line"><span class="comment">//输入链表，希望获取的容量的大小。</span></span><br><span class="line"><span class="comment">//成功则返回true,反之则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Initialize</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">int</span> capacity)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//销毁一个顺序表</span></span><br><span class="line"><span class="comment">//输入一个顺序表，释放其所有内存</span></span><br><span class="line"><span class="comment">//成功则返回true,反之则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Destroy</span><span class="params">(List *<span class="built_in">list</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//清空一个顺序表</span></span><br><span class="line"><span class="comment">//清空一个顺序表，但是不要释放其内存</span></span><br><span class="line"><span class="comment">//成功则返回true,反之则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Clear</span><span class="params">(List *<span class="built_in">list</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否为空表</span></span><br><span class="line"><span class="comment">//空表则返回true,反之则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Empty</span><span class="params">(List *<span class="built_in">list</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否已满</span></span><br><span class="line"><span class="comment">//满则返回true,反之则返回false</span></span><br><span class="line"><span class="comment">//对于顺序表来讲满的话就不能添加元素了，因为申请的内存已经确定了，</span></span><br><span class="line"><span class="comment">//但是链表还可以增加，因为可以再申请内存</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Full</span><span class="params">(List *<span class="built_in">list</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//确定元素个数</span></span><br><span class="line"><span class="comment">//返回元素的个数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Count</span><span class="params">(List *<span class="built_in">list</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//确定当前容量</span></span><br><span class="line"><span class="comment">//返回当前容量</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Capacity</span><span class="params">(List *<span class="built_in">list</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//增加容量为</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">AddCapacityTo</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">int</span> addcapacity)</span></span>;</span><br><span class="line"><span class="comment">//减少容量为</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">SubCapacityTo</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">int</span> subcapacity)</span></span>;</span><br><span class="line"><span class="comment">//将容量减少到当前实际使用的大小</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Shrink_To_Fit</span><span class="params">(List *<span class="built_in">list</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//得到第i个元素 成功返回true</span></span><br><span class="line"><span class="comment">//将得到的item返回给 item_to_save</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">At</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">int</span> i, Item *item_to_save)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回第一个满足要求的元素的位置，并保存这个元素</span></span><br><span class="line"><span class="comment">//将得到的item返回给 item_to_save    位置返回给location</span></span><br><span class="line"><span class="comment">//若不存在则返回-1</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LocateFirst</span><span class="params">(List *<span class="built_in">list</span>, Item *item_to_save, <span class="keyword">bool</span> (*fun)(Item item))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回最后一个满足要求的元素的位置，并保存这个元素</span></span><br><span class="line"><span class="comment">//将得到的item返回给 item_to_save    位置返回给location</span></span><br><span class="line"><span class="comment">//若不存在则返回-1</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LocateLast</span><span class="params">(List *<span class="built_in">list</span>, Item *item_to_save, <span class="keyword">bool</span> (*fun)(Item item))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回元素node的前驱 存放在Node*previous</span></span><br><span class="line"><span class="comment">//若没有则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Previous</span><span class="params">(List *<span class="built_in">list</span>, Node *node, Node *previous)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回元素node的后继 存放在Node*success</span></span><br><span class="line"><span class="comment">//若没有则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Success</span><span class="params">(List *<span class="built_in">list</span>, Node *node, Node *success)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在第i个位置之前插入新的元素，使其称为新的第i个元素</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Insert</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">int</span> location, Item item)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除第i个元素</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Delete</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">int</span> location)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用特定的函数遍历顺序表中的每一个元素</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Traverse</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">void</span> (*fun)(Item item))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//对线性表进行升序排序</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Sort_Up</span><span class="params">(List *<span class="built_in">list</span>)</span></span>;</span><br><span class="line"><span class="comment">//对线性表进行降序排序</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Sort_Down</span><span class="params">(List *<span class="built_in">list</span>)</span></span>;</span><br><span class="line"><span class="comment">//自定义函数排序</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Sort_DIY</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">bool</span> (*fun)(Item cur, Item next))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//合并两个线性表(简单拼接不排序)返回新的list</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Merge</span><span class="params">(List *list1, List *list2, List *<span class="built_in">list</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//复制线性表</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Copy</span><span class="params">(List *list_tobe_copied, List *List_copied_to)</span></span>;</span><br></pre></td></tr></table></figure>

<h3 id="接口实现-2"><a href="#接口实现-2" class="headerlink" title="接口实现"></a>接口实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;list.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//顺序性的链表的定义 List 是指向顺序表的一个指针</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">typedef struct</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    //存储数据</span></span><br><span class="line"><span class="comment">    Item *items;</span></span><br><span class="line"><span class="comment">    //存储的数据大小</span></span><br><span class="line"><span class="comment">    int size;</span></span><br><span class="line"><span class="comment">    //最大可以容纳的数据大小</span></span><br><span class="line"><span class="comment">    int capacity;</span></span><br><span class="line"><span class="comment">&#125; *List;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//初始化一个空的顺序表</span></span><br><span class="line"><span class="comment">//输入链表，希望获取的容量的大小。</span></span><br><span class="line"><span class="comment">//成功则返回true,反之则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Initialize</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">int</span> capacity)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//List是指向顺序表的指针，list是指向该指针的指针</span></span><br><span class="line">    (*<span class="built_in">list</span>) = (ListStruct *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ListStruct));</span><br><span class="line">    (*<span class="built_in">list</span>)-&gt;capacity = capacity;</span><br><span class="line">    (*<span class="built_in">list</span>)-&gt;size = <span class="number">0</span>;</span><br><span class="line">    (*<span class="built_in">list</span>)-&gt;items = (Item *)<span class="built_in">malloc</span>(capacity * <span class="keyword">sizeof</span>(Item));</span><br><span class="line">    <span class="keyword">if</span> ((*<span class="built_in">list</span>)-&gt;items != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;初始化成功！！！   表的可用容量为%d\n&quot;</span>, (*<span class="built_in">list</span>)-&gt;capacity);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;初始化失败！！！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//销毁一个顺序表</span></span><br><span class="line"><span class="comment">//输入一个顺序表，释放其所有内存</span></span><br><span class="line"><span class="comment">//成功则返回true,反之则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Destroy</span><span class="params">(List *<span class="built_in">list</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">free</span>((*<span class="built_in">list</span>)-&gt;items);</span><br><span class="line">    <span class="built_in">free</span>(*<span class="built_in">list</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;销毁顺序表成功！！！\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//清空一个顺序表</span></span><br><span class="line"><span class="comment">//清空一个顺序表，但是不要释放其内存</span></span><br><span class="line"><span class="comment">//成功则返回true,反之则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Clear</span><span class="params">(List *<span class="built_in">list</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    (*<span class="built_in">list</span>)-&gt;size = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;已清空表，当前表中元素个数为%d,表的可用容量为%d\n&quot;</span>, (*<span class="built_in">list</span>)-&gt;size, (*<span class="built_in">list</span>)-&gt;capacity - (*<span class="built_in">list</span>)-&gt;size);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否为空表</span></span><br><span class="line"><span class="comment">//空表则返回true,反之则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Empty</span><span class="params">(List *<span class="built_in">list</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*<span class="built_in">list</span>)-&gt;size == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;空表！！！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不是空表！！！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否已满</span></span><br><span class="line"><span class="comment">//满则返回true,反之则返回false</span></span><br><span class="line"><span class="comment">//对于顺序表来讲满的话就不能添加元素了，因为申请的内存已经确定了，</span></span><br><span class="line"><span class="comment">//但是链表还可以增加，因为可以再申请内存</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Full</span><span class="params">(List *<span class="built_in">list</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*<span class="built_in">list</span>)-&gt;size == (*<span class="built_in">list</span>)-&gt;capacity)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;满了！！！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;还没有满！！！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//确定元素个数</span></span><br><span class="line"><span class="comment">//返回元素的个数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Count</span><span class="params">(List *<span class="built_in">list</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;当前表中元素个数为%d\n&quot;</span>, (*<span class="built_in">list</span>)-&gt;size);</span><br><span class="line">    <span class="keyword">return</span> (*<span class="built_in">list</span>)-&gt;size;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//确定表的容量</span></span><br><span class="line"><span class="comment">//返回表的容量</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Capacity</span><span class="params">(List *<span class="built_in">list</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;表的容量为%d ,表的可用容量为%d\n&quot;</span>, (*<span class="built_in">list</span>)-&gt;capacity, (*<span class="built_in">list</span>)-&gt;capacity - (*<span class="built_in">list</span>)-&gt;size);</span><br><span class="line">    <span class="keyword">return</span> (*<span class="built_in">list</span>)-&gt;capacity;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//增加容量为</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">AddCapacityTo</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">int</span> addcapacity)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> curcapacity = (*<span class="built_in">list</span>)-&gt;capacity;</span><br><span class="line">    <span class="keyword">if</span> (addcapacity &gt;= curcapacity)</span><br><span class="line">    &#123;</span><br><span class="line">        (*<span class="built_in">list</span>)-&gt;items = (Item *)<span class="built_in">realloc</span>((*<span class="built_in">list</span>)-&gt;items, addcapacity * <span class="keyword">sizeof</span>(Item));</span><br><span class="line">        (*<span class="built_in">list</span>)-&gt;capacity = addcapacity;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;容量增加成功！！！\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;表的容量为%d ,表的可用容量为%d\n&quot;</span>, (*<span class="built_in">list</span>)-&gt;capacity, (*<span class="built_in">list</span>)-&gt;capacity - (*<span class="built_in">list</span>)-&gt;size);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;容量增加函数不可以减小容量\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;表的容量为%d ,表的可用容量为%d\n&quot;</span>, (*<span class="built_in">list</span>)-&gt;capacity, (*<span class="built_in">list</span>)-&gt;capacity - (*<span class="built_in">list</span>)-&gt;size);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//减少容量为</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">SubCapacityTo</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">int</span> subcapacity)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> curcapacity = (*<span class="built_in">list</span>)-&gt;capacity;</span><br><span class="line">    <span class="keyword">if</span> (subcapacity &lt;= curcapacity &amp;&amp; subcapacity &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        (*<span class="built_in">list</span>)-&gt;items = (Item *)<span class="built_in">realloc</span>((*<span class="built_in">list</span>)-&gt;items, subcapacity * <span class="keyword">sizeof</span>(Item));</span><br><span class="line">        (*<span class="built_in">list</span>)-&gt;capacity = subcapacity;</span><br><span class="line">        <span class="keyword">if</span> ((*<span class="built_in">list</span>)-&gt;size &gt; subcapacity)</span><br><span class="line">        &#123;</span><br><span class="line">            (*<span class="built_in">list</span>)-&gt;size = subcapacity;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;容量减少成功！！！\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;表的容量为%d ,表的可用容量为%d\n&quot;</span>, (*<span class="built_in">list</span>)-&gt;capacity, (*<span class="built_in">list</span>)-&gt;capacity - (*<span class="built_in">list</span>)-&gt;size);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (subcapacity &lt;= <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;容量只可以为正数\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;表的容量为%d ,表的可用容量为%d\n&quot;</span>, (*<span class="built_in">list</span>)-&gt;capacity, (*<span class="built_in">list</span>)-&gt;capacity - (*<span class="built_in">list</span>)-&gt;size);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;容量减少函数不可以增加容量\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;表的容量为%d ,表的可用容量为%d\n&quot;</span>, (*<span class="built_in">list</span>)-&gt;capacity, (*<span class="built_in">list</span>)-&gt;capacity - (*<span class="built_in">list</span>)-&gt;size);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//将容量减少到当前实际使用的大小</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Shrink_To_Fit</span><span class="params">(List *<span class="built_in">list</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    (*<span class="built_in">list</span>)-&gt;items = (Item *)<span class="built_in">realloc</span>((*<span class="built_in">list</span>)-&gt;items, (*<span class="built_in">list</span>)-&gt;size * <span class="keyword">sizeof</span>(Item));</span><br><span class="line">    <span class="comment">//表为空的情况下fit也应该成立</span></span><br><span class="line">    <span class="keyword">if</span> ((*<span class="built_in">list</span>)-&gt;items != <span class="literal">NULL</span> || ((*<span class="built_in">list</span>)-&gt;items == <span class="literal">NULL</span> &amp;&amp; (*<span class="built_in">list</span>)-&gt;size == <span class="number">0</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        (*<span class="built_in">list</span>)-&gt;capacity = (*<span class="built_in">list</span>)-&gt;size;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;fit成功！！！表的容量为%d ,表的可用容量为%d\n&quot;</span>, (*<span class="built_in">list</span>)-&gt;capacity, (*<span class="built_in">list</span>)-&gt;capacity - (*<span class="built_in">list</span>)-&gt;size);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;fit失败！！！表的容量为%d ,表的可用容量为%d\n&quot;</span>, (*<span class="built_in">list</span>)-&gt;capacity, (*<span class="built_in">list</span>)-&gt;capacity - (*<span class="built_in">list</span>)-&gt;size);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//得到第i个元素 成功返回true</span></span><br><span class="line"><span class="comment">//将得到的item返回给 item_to_save</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">At</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">int</span> location, Item *item_to_save)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (location &lt; <span class="number">0</span> || location &gt;= (*<span class="built_in">list</span>)-&gt;size)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;AT超限！！！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    *item_to_save = (*<span class="built_in">list</span>)-&gt;items[location];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;这就是你AT的元素\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回第一个满足要求的元素的位置，并保存这个元素</span></span><br><span class="line"><span class="comment">//将得到的item返回给 item_to_save    位置返回给location</span></span><br><span class="line"><span class="comment">//若不存在则返回-1</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LocateFirst</span><span class="params">(List *<span class="built_in">list</span>, Item *item_to_save, <span class="keyword">bool</span> (*fun)(Item item))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> location = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= (*<span class="built_in">list</span>)-&gt;size - <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (fun((*<span class="built_in">list</span>)-&gt;items[i]))</span><br><span class="line">        &#123;</span><br><span class="line">            location = i;</span><br><span class="line">            *item_to_save = (*<span class="built_in">list</span>)-&gt;items[i];</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (location != <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;找到了，第%d个元素满足条件\n&quot;</span>, location);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;没有找到满足条件的元素\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> location;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回最后一个满足要求的元素的位置，并保存这个元素</span></span><br><span class="line"><span class="comment">//将得到的item返回给 item_to_save    位置返回给location</span></span><br><span class="line"><span class="comment">//若不存在则返回-1</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LocateLast</span><span class="params">(List *<span class="built_in">list</span>, Item *item_to_save, <span class="keyword">bool</span> (*fun)(Item item))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> location = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = (*<span class="built_in">list</span>)-&gt;size - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (fun((*<span class="built_in">list</span>)-&gt;items[i]))</span><br><span class="line">        &#123;</span><br><span class="line">            location = i;</span><br><span class="line">            *item_to_save = (*<span class="built_in">list</span>)-&gt;items[i];</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (location != <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;找到了，第%d个元素满足条件\n&quot;</span>, location);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;没有找到满足条件的元素\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> location;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回元素node的前驱 存放在Node*previous</span></span><br><span class="line"><span class="comment">//若没有则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Previous</span><span class="params">(List *<span class="built_in">list</span>, Node *node, Node *previous)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (node-&gt;location &gt;= <span class="number">1</span> &amp;&amp; node-&gt;location &lt;= (*<span class="built_in">list</span>)-&gt;size - <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        previous-&gt;location = node-&gt;location - <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;找到了前驱！！！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;没有前驱！！！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回元素node的后继 存放在Node*success</span></span><br><span class="line"><span class="comment">//若没有则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Success</span><span class="params">(List *<span class="built_in">list</span>, Node *node, Node *success)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (node-&gt;location &gt;= <span class="number">0</span> &amp;&amp; node-&gt;location &lt;= (*<span class="built_in">list</span>)-&gt;size - <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        success-&gt;location = node-&gt;location + <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;找到了后继！！！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;没有后继！！！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在第i个位置之前插入新的元素，使其称为新的第i个元素</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Insert</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">int</span> location, Item item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*<span class="built_in">list</span>)-&gt;size == (*<span class="built_in">list</span>)-&gt;capacity)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;满了，不能插入！！！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (location &lt; <span class="number">0</span> || location &gt; (*<span class="built_in">list</span>)-&gt;size)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;插入位置不合法！！！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((*<span class="built_in">list</span>)-&gt;size &lt; (*<span class="built_in">list</span>)-&gt;capacity)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = (*<span class="built_in">list</span>)-&gt;size; i != location; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            (*<span class="built_in">list</span>)-&gt;items[i] = (*<span class="built_in">list</span>)-&gt;items[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        (*<span class="built_in">list</span>)-&gt;items[location] = item;</span><br><span class="line">        (*<span class="built_in">list</span>)-&gt;size++;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;插入成功！！！\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;表的大小为%d ,表的容量为%d ,表的可用容量为%d\n&quot;</span>, (*<span class="built_in">list</span>)-&gt;size, (*<span class="built_in">list</span>)-&gt;capacity, (*<span class="built_in">list</span>)-&gt;capacity - (*<span class="built_in">list</span>)-&gt;size);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除第i个元素</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Delete</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">int</span> location)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (location &lt; <span class="number">0</span> || location &gt;= (*<span class="built_in">list</span>)-&gt;size)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;插入位置不合法！！！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = location; i &lt;= (*<span class="built_in">list</span>)-&gt;size - <span class="number">2</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            (*<span class="built_in">list</span>)-&gt;items[i] = (*<span class="built_in">list</span>)-&gt;items[i + <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        (*<span class="built_in">list</span>)-&gt;size--;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;删除成功！！！\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;表的大小为%d ,表的容量为%d ,表的可用容量为%d\n&quot;</span>, (*<span class="built_in">list</span>)-&gt;size, (*<span class="built_in">list</span>)-&gt;capacity, (*<span class="built_in">list</span>)-&gt;capacity - (*<span class="built_in">list</span>)-&gt;size);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用特定的函数遍历顺序表中的每一个元素</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Traverse</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">void</span> (*fun)(Item item))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= (*<span class="built_in">list</span>)-&gt;size - <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        fun((*<span class="built_in">list</span>)-&gt;items[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//对线性表进行升序排序</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Sort_Up</span><span class="params">(List *<span class="built_in">list</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = (*<span class="built_in">list</span>)-&gt;size;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n - <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= n - <span class="number">1</span> - i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> ((*<span class="built_in">list</span>)-&gt;items[j].value &gt; (*<span class="built_in">list</span>)-&gt;items[j - <span class="number">1</span>].value)</span><br><span class="line">            &#123;</span><br><span class="line">                Item temp = (*<span class="built_in">list</span>)-&gt;items[j];</span><br><span class="line">                (*<span class="built_in">list</span>)-&gt;items[j] = (*<span class="built_in">list</span>)-&gt;items[j - <span class="number">1</span>];</span><br><span class="line">                (*<span class="built_in">list</span>)-&gt;items[j - <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//对线性表进行降序排序</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Sort_Down</span><span class="params">(List *<span class="built_in">list</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = (*<span class="built_in">list</span>)-&gt;size;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n - <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= n - <span class="number">1</span> - i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> ((*<span class="built_in">list</span>)-&gt;items[j].value &lt; (*<span class="built_in">list</span>)-&gt;items[j - <span class="number">1</span>].value)</span><br><span class="line">            &#123;</span><br><span class="line">                Item temp = (*<span class="built_in">list</span>)-&gt;items[j];</span><br><span class="line">                (*<span class="built_in">list</span>)-&gt;items[j] = (*<span class="built_in">list</span>)-&gt;items[j - <span class="number">1</span>];</span><br><span class="line">                (*<span class="built_in">list</span>)-&gt;items[j - <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//自定义函数排序</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Sort_DIY</span><span class="params">(List *<span class="built_in">list</span>, <span class="keyword">bool</span> (*fun)(Item cur, Item next))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = (*<span class="built_in">list</span>)-&gt;size;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n - <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= n - <span class="number">2</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (fun((*<span class="built_in">list</span>)-&gt;items[j], (*<span class="built_in">list</span>)-&gt;items[j + <span class="number">1</span>]))</span><br><span class="line">            &#123;</span><br><span class="line">                Item temp = (*<span class="built_in">list</span>)-&gt;items[j];</span><br><span class="line">                (*<span class="built_in">list</span>)-&gt;items[j] = (*<span class="built_in">list</span>)-&gt;items[j + <span class="number">1</span>];</span><br><span class="line">                (*<span class="built_in">list</span>)-&gt;items[j + <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//合并两个线性表(简单拼接不排序)返回新的list</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Merge</span><span class="params">(List *list1, List *list2, List *<span class="built_in">list</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> size = (*<span class="built_in">list</span>)-&gt;size;</span><br><span class="line">    <span class="keyword">int</span> size1 = (*list1)-&gt;size;</span><br><span class="line">    <span class="keyword">int</span> size2 = (*list2)-&gt;size;</span><br><span class="line">    <span class="keyword">int</span> capacity = (*<span class="built_in">list</span>)-&gt;capacity;</span><br><span class="line">    <span class="keyword">int</span> capacity1 = (*list1)-&gt;capacity;</span><br><span class="line">    <span class="keyword">int</span> capacity2 = (*list2)-&gt;capacity;</span><br><span class="line">    <span class="keyword">if</span> (capacity &lt; size1 + size2)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;目的表太小了！！！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> cur = <span class="number">0</span>;</span><br><span class="line">        (*<span class="built_in">list</span>)-&gt;size = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= size1 - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            (*<span class="built_in">list</span>)-&gt;items[cur++] = (*list1)-&gt;items[i];</span><br><span class="line">            (*<span class="built_in">list</span>)-&gt;size++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= size2 - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            (*<span class="built_in">list</span>)-&gt;items[cur++] = (*list2)-&gt;items[i];</span><br><span class="line">            (*<span class="built_in">list</span>)-&gt;size++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//复制线性表</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Copy</span><span class="params">(List *list_tobe_copied, List *List_copied_to)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> size1 = (*list_tobe_copied)-&gt;size;</span><br><span class="line">    <span class="keyword">int</span> size2 = (*List_copied_to)-&gt;size;</span><br><span class="line">    <span class="keyword">int</span> capacity1 = (*list_tobe_copied)-&gt;capacity;</span><br><span class="line">    <span class="keyword">int</span> capacity2 = (*List_copied_to)-&gt;capacity;</span><br><span class="line">    <span class="keyword">if</span> (capacity2 &lt; size1)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;目标顺序表容量太小了，装不下！！！\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        Clear(List_copied_to);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= size1 - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            (*List_copied_to)-&gt;size++;</span><br><span class="line">            (*List_copied_to)-&gt;items[i] = (*list_tobe_copied)-&gt;items[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="接口使用-2"><a href="#接口使用-2" class="headerlink" title="接口使用"></a>接口使用</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;list.c&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_CAPACITY 100</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">fun1</span><span class="params">(Item item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (item.value &gt;= <span class="number">10</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun2</span><span class="params">(Item item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;元素： %d\n&quot;</span>, item.value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">fun_sort</span><span class="params">(Item item1, Item item2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (item1.value &gt; item2.value)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    List mylist;</span><br><span class="line">    Item myitem1;</span><br><span class="line">    myitem1.value = <span class="number">0</span>;</span><br><span class="line">    Item item_to_save;</span><br><span class="line">    Node node1;</span><br><span class="line">    node1.location = <span class="number">1</span>;</span><br><span class="line">    Node nodeprevious;</span><br><span class="line">    Node nodesuccess;</span><br><span class="line">    Initialize(&amp;mylist, MAX_CAPACITY);</span><br><span class="line">    <span class="comment">//Destroy(&amp;mylist);</span></span><br><span class="line">    Clear(&amp;mylist);</span><br><span class="line">    Insert(&amp;mylist, <span class="number">0</span>, myitem1);</span><br><span class="line">    Delete(&amp;mylist, <span class="number">0</span>);</span><br><span class="line">    Empty(&amp;mylist);</span><br><span class="line">    Full(&amp;mylist);</span><br><span class="line">    Count(&amp;mylist);</span><br><span class="line">    Capacity(&amp;mylist);</span><br><span class="line">    AddCapacityTo(&amp;mylist, MAX_CAPACITY + <span class="number">1</span>);</span><br><span class="line">    SubCapacityTo(&amp;mylist, <span class="number">10</span>);</span><br><span class="line">    <span class="comment">//Shrink_To_Fit(&amp;mylist);</span></span><br><span class="line">    At(&amp;mylist, <span class="number">0</span>, &amp;myitem1);</span><br><span class="line">    LocateFirst(&amp;mylist, &amp;item_to_save, (*fun1));</span><br><span class="line">    LocateLast(&amp;mylist, &amp;item_to_save, (*fun1));</span><br><span class="line">    Previous(&amp;mylist, &amp;node1, &amp;nodeprevious);</span><br><span class="line">    Success(&amp;mylist, &amp;node1, &amp;nodesuccess);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        myitem1.value = i;</span><br><span class="line">        Insert(&amp;mylist, <span class="number">0</span>, myitem1);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//Sort_Up(&amp;mylist);</span></span><br><span class="line">    Sort_DIY(&amp;mylist, (*fun_sort));</span><br><span class="line">    Traverse(&amp;mylist, (*fun2));</span><br><span class="line"></span><br><span class="line">    List mylist1;</span><br><span class="line">    List mylist2;</span><br><span class="line">    Initialize(&amp;mylist1, <span class="number">10</span>);</span><br><span class="line">    Initialize(&amp;mylist2, <span class="number">10</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        srand((<span class="keyword">int</span>)time(<span class="literal">NULL</span>) * i);</span><br><span class="line">        myitem1.value = rand() % <span class="number">100</span>;</span><br><span class="line">        Insert(&amp;mylist1, <span class="number">0</span>, myitem1);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        srand((<span class="keyword">int</span>)time(<span class="literal">NULL</span>) * i);</span><br><span class="line">        myitem1.value = rand() % <span class="number">10</span>;</span><br><span class="line">        Insert(&amp;mylist2, <span class="number">0</span>, myitem1);</span><br><span class="line">    &#125;</span><br><span class="line">    AddCapacityTo(&amp;mylist, <span class="number">100</span>);</span><br><span class="line">    Merge(&amp;mylist1, &amp;mylist2, &amp;mylist);</span><br><span class="line">    Traverse(&amp;mylist, (*fun2));</span><br><span class="line"></span><br><span class="line">    List mylist3;</span><br><span class="line">    Initialize(&amp;mylist3, <span class="number">100</span>);</span><br><span class="line">    Copy(&amp;mylist, &amp;mylist3);</span><br><span class="line">    Traverse(&amp;mylist3, (*fun2));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="线性表的链性实现-1"><a href="#线性表的链性实现-1" class="headerlink" title="线性表的链性实现"></a>线性表的链性实现</h2><h3 id="接口说明-3"><a href="#接口说明-3" class="headerlink" title="接口说明"></a>接口说明</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//list.h</span></span><br><span class="line"><span class="comment">//线性表的链性实现</span></span><br><span class="line">#<span class="keyword">include</span> &lt;stdbool.h&gt;</span><br><span class="line">#<span class="keyword">include</span> &lt;stdlib.h&gt;</span><br><span class="line">#<span class="keyword">include</span> &lt;stdint.h&gt;</span><br><span class="line">#<span class="keyword">include</span> &lt;<span class="built_in">string</span>.h&gt;</span><br><span class="line">#<span class="keyword">include</span> &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//这是链表的数据部分</span></span><br><span class="line">typedef <span class="keyword">struct</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> value;</span><br><span class="line">&#125; Item;</span><br><span class="line"></span><br><span class="line"><span class="comment">//顺序性的链表中的一个结点的定义</span></span><br><span class="line"><span class="keyword">struct</span> node</span><br><span class="line">&#123;</span><br><span class="line">    Item item;</span><br><span class="line">    <span class="keyword">struct</span> node *next;</span><br><span class="line">    <span class="keyword">struct</span> node *prev;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">typedef <span class="keyword">struct</span> node Node;</span><br><span class="line"></span><br><span class="line"><span class="comment">//List指针指向Node结点</span></span><br><span class="line">typedef Node *List;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化一个空的顺序表</span></span><br><span class="line"><span class="comment">//输入链表，希望获取的容量的大小。</span></span><br><span class="line"><span class="comment">//成功则返回true,反之则返回false</span></span><br><span class="line"><span class="built_in">bool</span> <span class="constructor">Initialize(List <span class="operator">*</span><span class="params">list</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//销毁一个链表</span></span><br><span class="line"><span class="comment">//输入一个链表，释放其所有内存</span></span><br><span class="line"><span class="comment">//成功则返回true,反之则返回false</span></span><br><span class="line"><span class="built_in">bool</span> <span class="constructor">Destroy(List <span class="operator">*</span><span class="params">list</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否为空表</span></span><br><span class="line"><span class="comment">//空表则返回true,反之则返回false</span></span><br><span class="line"><span class="built_in">bool</span> <span class="constructor">Empty(List <span class="operator">*</span><span class="params">list</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否已满</span></span><br><span class="line"><span class="comment">//满则返回true,反之则返回false</span></span><br><span class="line"><span class="comment">//对于顺序表来讲满的话就不能添加元素了，因为申请的内存已经确定了，</span></span><br><span class="line"><span class="comment">//但是链表还可以增加，因为可以再申请内存</span></span><br><span class="line"><span class="built_in">bool</span> <span class="constructor">Full(List <span class="operator">*</span><span class="params">list</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//确定元素个数</span></span><br><span class="line"><span class="comment">//返回元素的个数</span></span><br><span class="line"><span class="built_in">int</span> <span class="constructor">Count(List <span class="operator">*</span><span class="params">list</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//得到第i个元素 成功返回true</span></span><br><span class="line"><span class="comment">//将得到的item返回给 item_to_save</span></span><br><span class="line"><span class="built_in">bool</span> <span class="constructor">At(List <span class="operator">*</span><span class="params">list</span>, <span class="params">int</span> <span class="params">i</span>, Item <span class="operator">*</span><span class="params">item_to_save</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回第一个满足要求的元素的位置，并保存这个元素</span></span><br><span class="line"><span class="comment">//将得到的item返回给 item_to_save    位置返回给location</span></span><br><span class="line"><span class="comment">//若不存在则返回-1</span></span><br><span class="line"><span class="built_in">int</span> <span class="constructor">LocateFirst(List <span class="operator">*</span><span class="params">list</span>, Item <span class="operator">*</span><span class="params">item_to_save</span>, <span class="params">bool</span> (<span class="operator">*</span><span class="params">fun</span>)</span>(Item item));</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回最后一个满足要求的元素的位置，并保存这个元素</span></span><br><span class="line"><span class="comment">//将得到的item返回给 item_to_save    位置返回给location</span></span><br><span class="line"><span class="comment">//若不存在则返回-1</span></span><br><span class="line"><span class="built_in">int</span> <span class="constructor">LocateLast(List <span class="operator">*</span><span class="params">list</span>, Item <span class="operator">*</span><span class="params">item_to_save</span>, <span class="params">bool</span> (<span class="operator">*</span><span class="params">fun</span>)</span>(Item item));</span><br><span class="line"></span><br><span class="line"><span class="comment">//在第i个位置之前插入新的元素，使其称为新的第i个元素</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="built_in">bool</span> <span class="constructor">Insert(List <span class="operator">*</span><span class="params">list</span>, <span class="params">int</span> <span class="params">location</span>, Item <span class="params">item</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除第i个元素</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="built_in">bool</span> <span class="constructor">Delete(List <span class="operator">*</span><span class="params">list</span>, <span class="params">int</span> <span class="params">location</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用特定的函数遍历顺序表中的每一个元素</span></span><br><span class="line">void <span class="constructor">Traverse(List <span class="operator">*</span><span class="params">list</span>, <span class="params">void</span> (<span class="operator">*</span><span class="params">fun</span>)</span>(Item item));</span><br><span class="line"></span><br><span class="line"><span class="comment">//自定义函数排序</span></span><br><span class="line">void <span class="constructor">Sort_DIY(List <span class="operator">*</span><span class="params">list</span>, <span class="params">bool</span> (<span class="operator">*</span><span class="params">fun</span>)</span>(Item cur, Item next));</span><br><span class="line"></span><br><span class="line"><span class="comment">//合并两个线性表(简单拼接不排序)返回新的list</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="built_in">bool</span> <span class="constructor">Merge(List <span class="operator">*</span><span class="params">list1</span>, List <span class="operator">*</span><span class="params">list2</span>, List <span class="operator">*</span><span class="params">list</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//复制线性表</span></span><br><span class="line"><span class="built_in">bool</span> <span class="constructor">Copy(List <span class="operator">*</span><span class="params">list_tobe_copied</span>, List <span class="operator">*</span>List_copied_to)</span>;</span><br></pre></td></tr></table></figure>

<h4 id="接口实现-3"><a href="#接口实现-3" class="headerlink" title="接口实现"></a>接口实现</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//list.c</span></span><br><span class="line"><span class="comment">#include &quot;list.h&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化一个空的顺序表</span></span><br><span class="line"><span class="comment">//输入链表，希望获取的容量的大小。</span></span><br><span class="line"><span class="comment">//成功则返回true,反之则返回false</span></span><br><span class="line"><span class="keyword">bool</span> Initialize(<span class="keyword">List</span> *<span class="keyword">list</span>)</span><br><span class="line">&#123;</span><br><span class="line">    *<span class="keyword">list</span> = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (*<span class="keyword">list</span> == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">&quot;初始化成功\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">&quot;初始化失败\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//销毁一个链表</span></span><br><span class="line"><span class="comment">//输入一个链表，释放其所有内存</span></span><br><span class="line"><span class="comment">//成功则返回true,反之则返回false</span></span><br><span class="line"><span class="keyword">bool</span> Destroy(<span class="keyword">List</span> *<span class="keyword">list</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//先找到链表的头</span></span><br><span class="line">    <span class="keyword">List</span> head = *(<span class="keyword">list</span>);</span><br><span class="line">    <span class="comment">//若为空则说明链表为空</span></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">while</span> (head-&gt;prev != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        head = head-&gt;prev;</span><br><span class="line">    &#125;</span><br><span class="line">    printf(<span class="string">&quot;到了head\n&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span> (head-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">        free(head-&gt;prev);</span><br><span class="line">    &#125;</span><br><span class="line">    free(head);</span><br><span class="line">    *<span class="keyword">list</span> = <span class="literal">NULL</span>;</span><br><span class="line">    printf(<span class="string">&quot;链表已经销毁了\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否为空表</span></span><br><span class="line"><span class="comment">//空表则返回true,反之则返回false</span></span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">Empty</span>(<span class="keyword">List</span> *<span class="keyword">list</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//先找到链表的头</span></span><br><span class="line">    <span class="keyword">List</span> head = *(<span class="keyword">list</span>);</span><br><span class="line">    <span class="comment">//若为空则说明链表为空</span></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">&quot;链表空\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">&quot;链表不空\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否已满</span></span><br><span class="line"><span class="comment">//满则返回true,反之则返回false</span></span><br><span class="line"><span class="comment">//对于顺序表来讲满的话就不能添加元素了，因为申请的内存已经确定了，</span></span><br><span class="line"><span class="comment">//但是链表还可以增加，因为可以再申请内存</span></span><br><span class="line"><span class="keyword">bool</span> Full(<span class="keyword">List</span> *<span class="keyword">list</span>)</span><br><span class="line">&#123;</span><br><span class="line">    Node *test;</span><br><span class="line">    test = (Node *)malloc(sizeof(Node));</span><br><span class="line">    <span class="keyword">if</span> (test != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">&quot;还可以申请空间，所以链表不满\n&quot;</span>);</span><br><span class="line">        free(test);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">&quot;不可以申请空间，所以链表满了\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//确定元素个数</span></span><br><span class="line"><span class="comment">//返回元素的个数</span></span><br><span class="line"><span class="keyword">int</span> Count(<span class="keyword">List</span> *<span class="keyword">list</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">List</span> head = *<span class="keyword">list</span>;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">&quot;元素个数为0\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (head-&gt;prev != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        head = head-&gt;prev;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        count++;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    printf(<span class="string">&quot;元素个数为%d\n&quot;</span>, count);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//得到第i个元素 成功返回true</span></span><br><span class="line"><span class="comment">//将得到的item返回给 item_to_save</span></span><br><span class="line"><span class="keyword">bool</span> At(<span class="keyword">List</span> *<span class="keyword">list</span>, <span class="keyword">int</span> i, Item *item_to_save)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> count = Count(<span class="keyword">list</span>);</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= count)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">&quot;范围超标\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//经过上面的判断，现在的链表肯定不空。</span></span><br><span class="line">    <span class="keyword">List</span> head = *(<span class="keyword">list</span>);</span><br><span class="line">    <span class="keyword">while</span> (head-&gt;prev != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        head = head-&gt;prev;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> n = i;</span><br><span class="line">    <span class="keyword">while</span> (i &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    printf(<span class="string">&quot;第%d个元素为%d\n&quot;</span>, n, head-&gt;item.value);</span><br><span class="line">    *item_to_save = head-&gt;item;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回第一个满足要求的元素的位置，并保存这个元素</span></span><br><span class="line"><span class="comment">//将得到的item返回给 item_to_save    位置返回给location</span></span><br><span class="line"><span class="comment">//若不存在则返回-1</span></span><br><span class="line"><span class="keyword">int</span> LocateFirst(<span class="keyword">List</span> *<span class="keyword">list</span>, Item *item_to_save, <span class="keyword">bool</span> (*fun)(Item item))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">List</span> head = *<span class="keyword">list</span>;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">&quot;没有找到。\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (head-&gt;prev != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        head = head-&gt;prev;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> location = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (fun(head-&gt;item))</span><br><span class="line">        &#123;</span><br><span class="line">            *item_to_save = head-&gt;item;</span><br><span class="line">            printf(<span class="string">&quot;找到了，在第%d个元素\n&quot;</span>, location);</span><br><span class="line">            <span class="keyword">return</span> location;</span><br><span class="line">        &#125;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">        location++;</span><br><span class="line">    &#125;</span><br><span class="line">    printf(<span class="string">&quot;没有找到。\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回最后一个满足要求的元素的位置，并保存这个元素</span></span><br><span class="line"><span class="comment">//将得到的item返回给 item_to_save    位置返回给location</span></span><br><span class="line"><span class="comment">//若不存在则返回-1</span></span><br><span class="line"><span class="keyword">int</span> LocateLast(<span class="keyword">List</span> *<span class="keyword">list</span>, Item *item_to_save, <span class="keyword">bool</span> (*fun)(Item item))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">List</span> tail = *<span class="keyword">list</span>;</span><br><span class="line">    <span class="keyword">if</span> (tail == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">&quot;没有找到。\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (tail-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        tail = tail-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> location = Count(<span class="keyword">list</span>) - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (tail != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (fun(tail-&gt;item))</span><br><span class="line">        &#123;</span><br><span class="line">            *item_to_save = tail-&gt;item;</span><br><span class="line">            printf(<span class="string">&quot;找到了，在第%d个元素\n&quot;</span>, location);</span><br><span class="line">            <span class="keyword">return</span> location;</span><br><span class="line">        &#125;</span><br><span class="line">        tail = tail-&gt;prev;</span><br><span class="line">        location--;</span><br><span class="line">    &#125;</span><br><span class="line">    printf(<span class="string">&quot;没有找到。\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在第i个位置之前插入新的元素，使其称为新的第i个元素</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="keyword">bool</span> Insert(<span class="keyword">List</span> *<span class="keyword">list</span>, <span class="keyword">int</span> location, Item item)</span><br><span class="line">&#123;</span><br><span class="line">    printf(<span class="string">&quot;插入到第%d个\n&quot;</span>, location);</span><br><span class="line">    <span class="keyword">if</span> (location &lt; <span class="number">0</span> || location &gt; Count(<span class="keyword">list</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//printf(&quot;插入的范围超限\n&quot;);</span></span><br><span class="line">        location = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (location &gt; Count(<span class="keyword">list</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//printf(&quot;插入的范围超限\n&quot;);</span></span><br><span class="line">        location = Count(<span class="keyword">list</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">List</span> head = *<span class="keyword">list</span>;</span><br><span class="line">    <span class="keyword">List</span> <span class="keyword">new</span> = (<span class="keyword">List</span>)malloc(sizeof(Node));</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">new</span> == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">&quot;满了,无法插入\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">new</span>-&gt;item = item;</span><br><span class="line">    <span class="keyword">new</span>-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">new</span>-&gt;prev = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//链表本为空  空就是虚无缥缈的，所以找到一个新的元素给它安家</span></span><br><span class="line">        *<span class="keyword">list</span> = <span class="keyword">new</span>;</span><br><span class="line">        printf(<span class="string">&quot;插入成功\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//链表本来就不空</span></span><br><span class="line">    <span class="keyword">while</span> (head-&gt;prev != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        head = head-&gt;prev;</span><br><span class="line">    &#125;</span><br><span class="line">    *<span class="keyword">list</span> = head;</span><br><span class="line">    <span class="keyword">int</span> i = location;</span><br><span class="line">    <span class="keyword">List</span> p = head;</span><br><span class="line">    <span class="comment">//头插</span></span><br><span class="line">    <span class="keyword">if</span> (location == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">new</span>-&gt;next = p;</span><br><span class="line">        p-&gt;prev = <span class="keyword">new</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//尾插</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (location = Count(<span class="keyword">list</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        p = head;</span><br><span class="line">        <span class="keyword">while</span> (p-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        p-&gt;next = <span class="keyword">new</span>;</span><br><span class="line">        <span class="keyword">new</span>-&gt;prev = p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//插在中间</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        p = head;</span><br><span class="line">        <span class="keyword">while</span> (i &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            i--;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//插在p前面</span></span><br><span class="line">        p-&gt;prev-&gt;next = <span class="keyword">new</span>;</span><br><span class="line">        <span class="keyword">new</span>-&gt;prev = p-&gt;prev;</span><br><span class="line">        <span class="keyword">new</span>-&gt;next = p;</span><br><span class="line">        p-&gt;prev = <span class="keyword">new</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    printf(<span class="string">&quot;插入成功\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除第i个元素</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="keyword">bool</span> Delete(<span class="keyword">List</span> *<span class="keyword">list</span>, <span class="keyword">int</span> location)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (location &lt; <span class="number">0</span> || location &gt;= Count(<span class="keyword">list</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">&quot;删除的范围超限\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//经过上面的判断，现在的链表肯定不空。</span></span><br><span class="line">    <span class="keyword">List</span> head = *(<span class="keyword">list</span>);</span><br><span class="line">    <span class="keyword">while</span> (head-&gt;prev != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        head = head-&gt;prev;</span><br><span class="line">    &#125;</span><br><span class="line">    *<span class="keyword">list</span> = head;</span><br><span class="line">    <span class="keyword">int</span> n = location;</span><br><span class="line">    <span class="keyword">while</span> (n &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//删除第一个</span></span><br><span class="line">    <span class="keyword">if</span> (head-&gt;prev == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        *<span class="keyword">list</span> = head-&gt;next;</span><br><span class="line">        free(head);</span><br><span class="line">        printf(<span class="string">&quot;删除成功\n&quot;</span>);</span><br><span class="line">        Count(<span class="keyword">list</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        head-&gt;prev-&gt;next = head-&gt;next;</span><br><span class="line">        free(head);</span><br><span class="line">        printf(<span class="string">&quot;删除成功\n&quot;</span>);</span><br><span class="line">        Count(<span class="keyword">list</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用特定的函数遍历顺序表中的每一个元素</span></span><br><span class="line"><span class="keyword">void</span> Traverse(<span class="keyword">List</span> *<span class="keyword">list</span>, <span class="keyword">void</span> (*fun)(Item item))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">List</span> head = *<span class="keyword">list</span>;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">&quot;空，无法遍历\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (head-&gt;prev != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        head = head-&gt;prev;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        fun(head-&gt;item);</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//自定义函数排序</span></span><br><span class="line"><span class="keyword">void</span> Sort_DIY(<span class="keyword">List</span> *<span class="keyword">list</span>, <span class="keyword">bool</span> (*fun)(Item cur, Item next))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">List</span> head = *<span class="keyword">list</span>;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">while</span> (head-&gt;prev != <span class="literal">NULL</span>)</span><br><span class="line">        head = head-&gt;prev;</span><br><span class="line">    <span class="keyword">List</span> p = head;</span><br><span class="line">    <span class="keyword">List</span> l1 = head;</span><br><span class="line">    <span class="keyword">List</span> l2 = head;</span><br><span class="line">    <span class="keyword">while</span> (l1 != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        l2 = head;</span><br><span class="line">        <span class="keyword">while</span> (l2-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (fun(l2-&gt;item, l2-&gt;next-&gt;item))</span><br><span class="line">            &#123;</span><br><span class="line">                Item item = l2-&gt;item;</span><br><span class="line">                l2-&gt;item = l2-&gt;next-&gt;item;</span><br><span class="line">                l2-&gt;next-&gt;item = item;</span><br><span class="line">            &#125;</span><br><span class="line">            l2 = l2-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        l1 = l1-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//合并两个线性表(简单拼接不排序)返回新的list</span></span><br><span class="line"><span class="comment">//成功则返回true</span></span><br><span class="line"><span class="keyword">bool</span> Merge(<span class="keyword">List</span> *list1, <span class="keyword">List</span> *list2, <span class="keyword">List</span> *<span class="keyword">list</span>)</span><br><span class="line">&#123;</span><br><span class="line">    Destroy(<span class="keyword">list</span>);</span><br><span class="line">    <span class="keyword">List</span> p = *<span class="keyword">list</span>;</span><br><span class="line">    <span class="keyword">List</span> p1 = *list1;</span><br><span class="line">    <span class="keyword">List</span> p2 = *list2;</span><br><span class="line">    <span class="keyword">while</span> (p2-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        p2 = p2-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (p1-&gt;prev != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        p1 = p1-&gt;prev;</span><br><span class="line">    &#125;</span><br><span class="line">    p2-&gt;next = p1;</span><br><span class="line">    *<span class="keyword">list</span> = p2;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//复制线性表</span></span><br><span class="line"><span class="keyword">bool</span> Copy(<span class="keyword">List</span> *list_tobe_copied, <span class="keyword">List</span> *List_copied_to)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">List</span> l1 = *list_tobe_copied;</span><br><span class="line">    <span class="keyword">List</span> l2 = *List_copied_to;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= Count(&amp;l1) - <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        Insert(&amp;l2, i, l1-&gt;item);</span><br><span class="line">        l1 = l1-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="接口使用-3"><a href="#接口使用-3" class="headerlink" title="接口使用"></a>接口使用</h4><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//main.c</span></span><br><span class="line">#<span class="keyword">include</span> <span class="string">&quot;list.c&quot;</span></span><br><span class="line">#<span class="keyword">include</span> &lt;time.h&gt;</span><br><span class="line"><span class="built_in">bool</span> fun1(Item item)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (item.value<span class="operator"> == </span><span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        return <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        return <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">void fun2(Item item)</span><br><span class="line">&#123;</span><br><span class="line">    printf(<span class="string">&quot;ITEM：%d\n&quot;</span>, item.value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">bool</span> fun3(Item item1, Item item2)</span><br><span class="line">&#123;</span><br><span class="line">    return (item1.value &gt; item2.value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//生成一个随机的链表</span></span><br><span class="line">List <span class="constructor">RandomList(<span class="params">int</span> <span class="params">size</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    List <span class="built_in">list</span>;</span><br><span class="line">    Item item;</span><br><span class="line">    <span class="constructor">Initialize(&amp;<span class="params">list</span>)</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt;= size - <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        srand((<span class="built_in">int</span>)time(NULL)<span class="operator"> * </span>i);</span><br><span class="line">        item.value = rand<span class="literal">()</span> % <span class="number">10000</span>;</span><br><span class="line">        <span class="constructor">Insert(&amp;<span class="params">list</span>, <span class="params">i</span>, <span class="params">item</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    return <span class="built_in">list</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">int</span> main<span class="literal">()</span></span><br><span class="line">&#123;</span><br><span class="line">    List <span class="built_in">list</span> = <span class="constructor">RandomList(1000000)</span>;</span><br><span class="line">    <span class="comment">//List list1 = RandomList(10);</span></span><br><span class="line">    <span class="comment">//List list2 = RandomList(10);</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    Item item_to_save;</span></span><br><span class="line"><span class="comment">    Item item;</span></span><br><span class="line"><span class="comment">    item.value=0;</span></span><br><span class="line"><span class="comment">    Initialize(&amp;list);</span></span><br><span class="line"><span class="comment">    Destroy(&amp;list);</span></span><br><span class="line"><span class="comment">    Empty(&amp;list);</span></span><br><span class="line"><span class="comment">    Full(&amp;list);</span></span><br><span class="line"><span class="comment">    Count(&amp;list);</span></span><br><span class="line"><span class="comment">    At(&amp;list,0,&amp;item_to_save);</span></span><br><span class="line"><span class="comment">    LocateFirst(&amp;list,&amp;item_to_save,(*fun1));</span></span><br><span class="line"><span class="comment">    LocateLast(&amp;list,&amp;item_to_save,(*fun1));</span></span><br><span class="line"><span class="comment">    Insert(&amp;list,0,item);</span></span><br><span class="line"><span class="comment">    Delete(&amp;list,0);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">    <span class="comment">//Traverse(&amp;list, (*fun2));</span></span><br><span class="line">    Item item;</span><br><span class="line">    item.value = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//while(1)</span></span><br><span class="line">    <span class="constructor">Insert(&amp;<span class="params">list</span>, 0, <span class="params">item</span>)</span>;</span><br><span class="line">    <span class="constructor">Sort_DIY(&amp;<span class="params">list</span>, (<span class="operator">*</span><span class="params">fun3</span>)</span>);</span><br><span class="line">    <span class="constructor">Traverse(&amp;<span class="params">list</span>, (<span class="operator">*</span><span class="params">fun2</span>)</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://myblog.cuimouren.cn/2021/06/24/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E4%B8%80-%E6%8A%BD%E8%B1%A1%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8BADT/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="../../images/avatar.gif">
      <meta itemprop="name" content="崔文耀">
      <meta itemprop="description" content="Hello, here is wenyao's space, how do you come in???">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这里是文耀的space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="../../2021/06/24/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E4%B8%80-%E6%8A%BD%E8%B1%A1%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8BADT/" class="post-title-link" itemprop="url">数据结构 一 抽象数据类型ADT</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-06-24 13:48:40 / 修改时间：15:48:35" itemprop="dateCreated datePublished" datetime="2021-06-24T13:48:40+08:00">2021-06-24</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">数据结构</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/ADT/" itemprop="url" rel="index"><span itemprop="name">ADT</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="抽象数据类型ADT"><a href="#抽象数据类型ADT" class="headerlink" title="抽象数据类型ADT"></a>抽象数据类型ADT</h1><p>计算机科学领域已开发了一种定义新类型的好方法，用 3 个步骤完成从抽象到具体的过程。</p>
<ol>
<li>提供类型属性和相关操作的抽象描述。这些描述既不能依赖特定的实现，也不能依赖特定的编程语言。这种正式的抽象描述被称为抽象数据类型 （ADT）。</li>
<li>开发一个实现 ADT 的编程接口。也就是说，指明如何储存数据和执行所需操作的函数。例如在 C中，可以提供结构定义和操控该结构的函数原型。这些作用于用户定义类型的函数相当于作用于 C 基本类型的内置运算符。需要使用该新类型的程序员可以使用这个接口进行编程。</li>
<li>编写代码实现接口。这一步至关重要，但是使用该新类型的程序员无需了解具体的实现细节。</li>
</ol>
<h2 id="建立ADT的步骤实践-以链表为例"><a href="#建立ADT的步骤实践-以链表为例" class="headerlink" title="建立ADT的步骤实践 以链表为例"></a>建立ADT的步骤实践 以链表为例</h2><h3 id="建立抽象"><a href="#建立抽象" class="headerlink" title="建立抽象"></a>建立抽象</h3><p>链表应该实现以下功能。</p>
<ol>
<li>初始化一个空链表</li>
<li>再链表结尾添加一个新的项</li>
<li>判断链表是否为空</li>
<li>判断链表是否已经满了</li>
<li>确定链表中的元素个数</li>
<li>访问链表中的项 例如数组的 <strong>[]</strong> 运算符和指针的 <strong>-&gt;</strong> 运算符</li>
<li>在链表中的任意位置添加一个项</li>
<li>移除链表中的任意一项</li>
<li>更替链表中的某一项</li>
<li>在链表中搜索一个项 根据某个数据找到对应的项比如最大值</li>
</ol>
<h3 id="建立接口"><a href="#建立接口" class="headerlink" title="建立接口"></a>建立接口</h3><p>数据隐藏是一种从编程的更高层次隐藏数据表示细节的艺术</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TSIZE 100</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">film</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">//电影标题</span></span><br><span class="line">    <span class="keyword">char</span> title[TSIZE];</span><br><span class="line">    <span class="comment">//电影评分</span></span><br><span class="line">    <span class="keyword">int</span> rating;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//定义 item 为链表中的项的类型 这样只要使用item就可以方便的确定链表的数据类型了，也很容易改变。</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">film</span> <span class="title">Item</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//现在必须确定如何在链表中存储这种数据类型 item</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    Item item;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//定义一个结点数据类型</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span> <span class="title">Node</span>;</span></span><br><span class="line"><span class="comment">//定义一个抽象的链表数据类型</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">List</span>;</span></span><br><span class="line"><span class="comment">/*我们也可以这样定义，为链表添加一些信息</span></span><br><span class="line"><span class="comment">typedef struct list</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    Node* head;</span></span><br><span class="line"><span class="comment">    Node* tail;</span></span><br><span class="line"><span class="comment">    int size;</span></span><br><span class="line"><span class="comment">    //更多的信息</span></span><br><span class="line"><span class="comment">&#125;List;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//函数原型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//操作： 初始化一个链表</span></span><br><span class="line"><span class="comment">//条件： plist指向一个链表</span></span><br><span class="line"><span class="comment">//结果： 链表初始化为空</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InitializeList</span><span class="params">(List *plist)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//操作： 判断链表是否为空</span></span><br><span class="line"><span class="comment">//条件： plist指向一个链表</span></span><br><span class="line"><span class="comment">//结果： 如果为空返回true,反之返回false</span></span><br><span class="line"><span class="comment">//说明： const限定是为了防止恶意修改链表</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Empty</span><span class="params">(<span class="keyword">const</span> List *plist)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//操作： 判断链表是否为满</span></span><br><span class="line"><span class="comment">//条件： plist指向一个链表</span></span><br><span class="line"><span class="comment">//结果： 如果为满返回true,反之返回false</span></span><br><span class="line"><span class="comment">//说明： const限定是为了防止恶意修改链表</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Full</span><span class="params">(<span class="keyword">const</span> List *plist)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//操作： 确定链表中的项数</span></span><br><span class="line"><span class="comment">//条件： plist指向一个链表</span></span><br><span class="line"><span class="comment">//结果： 返回链表中的项数</span></span><br><span class="line"><span class="comment">//说明： const限定是为了防止恶意修改链表</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">Count</span><span class="params">(<span class="keyword">const</span> List *plist)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//操作： 在链表的结尾添加一项</span></span><br><span class="line"><span class="comment">//条件： plist指向一个链表</span></span><br><span class="line"><span class="comment">//结果： 若添加成功返回true,失败则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">AddItem</span><span class="params">(Item item, List *plist)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//操作： 遍历链表，将函数作用于链表中的每一项</span></span><br><span class="line"><span class="comment">//条件： plist指向一个链表，pfun是一个无返回值的函数</span></span><br><span class="line"><span class="comment">//结果： 将函数作用于链表中的每一项</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Traverse</span><span class="params">(List *plist, <span class="keyword">void</span> (*pfun)(Item item))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//操作： 清空链表并释放空间</span></span><br><span class="line"><span class="comment">//条件： plist指向一个链表</span></span><br><span class="line"><span class="comment">//结果： 若添加成功返回true,失败则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Clear</span><span class="params">(List *plist)</span></span>;</span><br></pre></td></tr></table></figure>

<h3 id="实现接口"><a href="#实现接口" class="headerlink" title="实现接口"></a>实现接口</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数实现</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//操作： 初始化一个链表</span></span><br><span class="line"><span class="comment">//条件： plist指向一个链表</span></span><br><span class="line"><span class="comment">//结果： 链表初始化为空</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InitializeList</span><span class="params">(List *plist)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    *plist = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//操作： 判断链表是否为空</span></span><br><span class="line"><span class="comment">//条件： plist指向一个链表</span></span><br><span class="line"><span class="comment">//结果： 如果为空返回true,反之返回false</span></span><br><span class="line"><span class="comment">//说明： const限定是为了防止恶意修改链表</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Empty</span><span class="params">(<span class="keyword">const</span> List *plist)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (*plist == <span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//操作： 判断链表是否为满</span></span><br><span class="line"><span class="comment">//条件： plist指向一个链表</span></span><br><span class="line"><span class="comment">//结果： 如果为满返回true,反之返回false</span></span><br><span class="line"><span class="comment">//说明： const限定是为了防止恶意修改链表</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Full</span><span class="params">(<span class="keyword">const</span> List *plist)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node *pt;</span><br><span class="line">    <span class="keyword">bool</span> full;</span><br><span class="line">    pt = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    <span class="keyword">if</span> (pt == <span class="literal">NULL</span>)</span><br><span class="line">        full = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        full = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">free</span>(pt);</span><br><span class="line">    <span class="keyword">return</span> full;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//操作： 确定链表中的项数</span></span><br><span class="line"><span class="comment">//条件： plist指向一个链表</span></span><br><span class="line"><span class="comment">//结果： 返回链表中的项数</span></span><br><span class="line"><span class="comment">//说明： const限定是为了防止恶意修改链表</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">Count</span><span class="params">(<span class="keyword">const</span> List *plist)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    Node *pnode = *plist;</span><br><span class="line">    <span class="keyword">while</span> (pnode != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        count++;</span><br><span class="line">        pnode = pnode-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//操作： 在链表的结尾添加一项</span></span><br><span class="line"><span class="comment">//条件： plist指向一个链表</span></span><br><span class="line"><span class="comment">//结果： 若添加成功返回true,失败则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">AddItem</span><span class="params">(Item item, List *plist)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node *pnew;</span><br><span class="line">    Node *scan = *plist;</span><br><span class="line">    pnew = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    <span class="keyword">if</span> (pnew == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    pnew-&gt;item = item;</span><br><span class="line">    pnew-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (*plist == <span class="literal">NULL</span>)</span><br><span class="line">        *plist = pnew;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        scan = *plist;</span><br><span class="line">        <span class="keyword">while</span> (scan-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            scan = scan-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        scan-&gt;next = pnew;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//操作： 遍历链表，将函数作用于链表中的每一项</span></span><br><span class="line"><span class="comment">//条件： plist指向一个链表，pfun是一个无返回值的函数</span></span><br><span class="line"><span class="comment">//结果： 将函数作用于链表中的每一项</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Traverse</span><span class="params">(List *plist, <span class="keyword">void</span> (*pfun)(Item item))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node *scan = *plist;</span><br><span class="line">    <span class="keyword">while</span> (scan != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        pfun(scan-&gt;item);</span><br><span class="line">        scan = scan-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//操作： 清空链表并释放空间</span></span><br><span class="line"><span class="comment">//条件： plist指向一个链表</span></span><br><span class="line"><span class="comment">//结果： 若添加成功返回true,失败则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Clear</span><span class="params">(List *plist)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node *scan = *plist;</span><br><span class="line">    <span class="keyword">while</span> (*plist != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        *plist = scan-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(scan);</span><br><span class="line">        scan = *plist;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="使用接口"><a href="#使用接口" class="headerlink" title="使用接口"></a>使用接口</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;list.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pfun</span><span class="params">(Item Item)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s %d\n&quot;</span>, Item.title, Item.rating);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    List mylist;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;初始化链表\n&quot;</span>);</span><br><span class="line">    InitializeList(&amp;mylist);</span><br><span class="line">    Item myitem;</span><br><span class="line">    <span class="built_in">strcpy</span>(myitem.title, <span class="string">&quot;cuiwenyaono.1&quot;</span>);</span><br><span class="line">    myitem.rating = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;当前链表内的元素数量为%d\n&quot;</span>, Count(&amp;mylist));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;添加项目\n&quot;</span>);</span><br><span class="line">    AddItem(myitem, &amp;mylist);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;当前链表内的元素数量为%d\n&quot;</span>, Count(&amp;mylist));</span><br><span class="line">    <span class="keyword">if</span> (Empty(&amp;mylist))</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;当前链表为空\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;当前链表不空\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (Full(&amp;mylist))</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;当前链表满了\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;当前链表不满\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;打印链表\n&quot;</span>);</span><br><span class="line">    Traverse(&amp;mylist, (*pfun));</span><br><span class="line">    Clear(&amp;mylist);</span><br><span class="line">    <span class="keyword">if</span> (Empty(&amp;mylist))</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;当前链表为空\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;当前链表不空\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://myblog.cuimouren.cn/2021/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="../../images/avatar.gif">
      <meta itemprop="name" content="崔文耀">
      <meta itemprop="description" content="Hello, here is wenyao's space, how do you come in???">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这里是文耀的space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="../../2021/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" class="post-title-link" itemprop="url">计算机网络期末复习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-19 10:09:40" itemprop="dateCreated datePublished" datetime="2021-06-19T10:09:40+08:00">2021-06-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-06-26 11:10:22" itemprop="dateModified" datetime="2021-06-26T11:10:22+08:00">2021-06-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">期末复习</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">计算机网络</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="计算机网络期末复习"><a href="#计算机网络期末复习" class="headerlink" title="计算机网络期末复习"></a>计算机网络期末复习</h1><h2 id="第一章-概述"><a href="#第一章-概述" class="headerlink" title="第一章 概述"></a>第一章 概述</h2><p>电路交换：整个报文的比特流连续地从源点直达终点，就好像在一个管道中传送。<br>报文交换：整个报文先传送到相邻结点，全部存储下来之后，查找转发表，转发到下一个结点。<br>分组交换：单个分组（整个报文的一部分）传送到相邻结点，存储下来后查找转发表转发到下一个结点。        </p>
<p>广域网：WAN<br>城域网：MAN<br>局域网：LAN<br>个人区域网：PAN</p>
<p>计算机网络的性能指标：      </p>
<ol>
<li>速率<ol>
<li>比特率</li>
</ol>
</li>
<li>带宽<ol>
<li>信号具有的频带宽度（频域）</li>
<li>单位时间内网络通道可以通过的最高数据率</li>
</ol>
</li>
<li>吞吐量<ol>
<li>单位时间内通过某个网络的实际数据量。</li>
</ol>
</li>
<li>时延 总时延=以下四种时延相加<ol>
<li>发送时延=数据帧长度/发送速率</li>
<li>传播时延=信道长度/电磁波在信道上的传输速率</li>
<li>处理时延</li>
<li>排队时延</li>
</ol>
</li>
<li>时延带宽积<ol>
<li>时延带宽积=传播时延*带宽 表示传输管道的体积，链路可以容纳的比特数量。又称为以比特为单位的链路长度</li>
</ol>
</li>
<li>RTT<ol>
<li>双向交互一次需要的时间</li>
</ol>
</li>
<li>利用率<ol>
<li>d=D/(1-U) d代表网络当前时延，D代表网络空闲时的时延，U是网络的利用率</li>
</ol>
</li>
</ol>
<p>计算机网络体系结构：            </p>
<ol>
<li>应用层<ol>
<li>应用层是体系结构中的最高层，其任务是通过应用进程之间的交互来完成特定网络应用。</li>
<li>应用层协议定义的是应用进程间通信和交互的规则。</li>
<li>应用层交互的数据单元称为报文。</li>
<li>应用层举例： DNS,HTTP,SMTP</li>
</ol>
</li>
<li>运输层<ol>
<li>运输层的主要任务就是负责向两台主机中进程的通信提供通用的数据传输服务。</li>
<li>运输层使用下面两种协议：<ol>
<li>传输控制协议TCP  提供面向连接的可靠的数据传输服务，其数据传输的单位是报文段。</li>
<li>用户数据报协议UDP  提供无连接的，尽最大努力交付的数据传输服务，其数据传输的单位是用户数据报。</li>
</ol>
</li>
</ol>
</li>
<li>网络层<ol>
<li>网络层负责为分组交换网上的不同主机提供通信服务。</li>
<li>发送数据的时候，网络层吧运输层产生的报文段或者用户数据报封装成分组或者包进行传送。在TCP/IP协议中由于使用IP协议，所以分组也叫做IP数据报。</li>
<li>网络层还有一个任务就是选择合适的路由，使得源主机运输层传下来的IP数据报能够通过网络中的路由器找到目的主机。</li>
<li>互联网是由大量的异构网络通过路由器相互连接而成的，互联网使用的网络层协议是无连接的网际协议IP和许多种路由选择协议。</li>
</ol>
</li>
<li>数据链路层<ol>
<li>简称链路层，在相邻两个结点之间传送数据时，将网络层交下来的IP数据报封装成帧，在相邻两个结点间的链路上传输帧，每一帧包含数据和必要的控制信息。</li>
<li>在接收数据时，控制信息使得接收端能够知道一个帧从哪个比特开始到哪个比特结束，收到帧之后，提取出数据部分上交给网络层。</li>
<li>控制信息使得接收端能够检测收到的帧中有没有差错，若有差错则丢弃这个帧。</li>
<li>如果需要改正数据中在数据链路层传输时出现的差错就要采用可靠传输协议来纠正出现的差错。</li>
</ol>
</li>
<li>物理层<ol>
<li>物理层传输的数据单位是比特。</li>
</ol>
</li>
</ol>
<h2 id="第二章-物理层"><a href="#第二章-物理层" class="headerlink" title="第二章 物理层"></a>第二章 物理层</h2><ol>
<li><p>物理层的特性</p>
<ol>
<li>机械特性</li>
<li>电气特性</li>
<li>功能特性</li>
<li>过程特性</li>
</ol>
</li>
<li><p>数据通信系统</p>
<ol>
<li>源系统<ol>
<li>源点，产生要传输的数据。</li>
<li>发送器，将要发送的数据进行编码。</li>
</ol>
</li>
<li>传输系统</li>
<li>目的系统<ol>
<li>接收器，将收到的信号进行解码。</li>
<li>终点，从接收器获取收到的数据。</li>
</ol>
</li>
</ol>
</li>
<li><p>信号的分类</p>
<ol>
<li>模拟信号 （连续信号）</li>
<li>数字信号 （离散信号）<ol>
<li>代表不同离散数值的基本波形称为码元。</li>
</ol>
</li>
</ol>
</li>
<li><p>信道的交互方式</p>
<ol>
<li>单向通信。比如广播。</li>
<li>双向交替通信（半双工）</li>
<li>双向同时通信（全双工）</li>
</ol>
</li>
<li><p>常用的编码方式</p>
<ol>
<li>不归零制。 正电平代表1，负电平代表0.</li>
<li>归零制。 正电平代表1，负电平代表0.</li>
<li>曼彻斯特编码。 位于周期中心的向上跳变代表0，位于周期中心的向下跳变代表1，也可以反过来定义。</li>
<li>差分曼彻斯特编码。 在每一位的中心处始终有跳变。位边界开始有跳变代表0，位开始边界没有跳变为1.</li>
</ol>
</li>
<li><p>基本的带通调制方法</p>
<ol>
<li>调幅</li>
<li>调频</li>
<li>调相</li>
</ol>
</li>
<li><p>信道复用技术</p>
<ol>
<li>频分复用</li>
<li>时分复用</li>
<li>波分复用</li>
<li>码分复用（码分多址） CDMA<ol>
<li>CDMA中，每个站被指派一个唯一的m比特码片序列。发送m代表1，发送其反码代表0.</li>
<li>不同的站的码片序列正交内积为0. （这里将0写为-1）</li>
<li>收到</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h2><ol>
<li>数据链路层使用的信道主要有以下两种类型<ol>
<li>点对点信道</li>
<li>广播信道</li>
</ol>
</li>
</ol>
<h3 id="使用点对点信道的数据链路层"><a href="#使用点对点信道的数据链路层" class="headerlink" title="使用点对点信道的数据链路层"></a>使用点对点信道的数据链路层</h3><p>点对点信道的数据链路层在进行通信时的主要步骤有：            </p>
<ol>
<li>结点A的数据链路层吧网络层交下来的IP数据包添加首部和尾部封装成帧。</li>
<li>结点A把封装好的帧发从给结点B的数据链路层。</li>
<li>结点B的数据链路层收到的帧无差错则从收到的帧中提取出IP数据报交给上面的网络层，否则丢弃这个帧。</li>
</ol>
<h4 id="使用点对点信道通信的三个基本问题"><a href="#使用点对点信道通信的三个基本问题" class="headerlink" title="使用点对点信道通信的三个基本问题"></a>使用点对点信道通信的三个基本问题</h4><ol>
<li>封装成帧</li>
<li>透明传输</li>
<li>差错检测</li>
</ol>
<h5 id="封装成帧"><a href="#封装成帧" class="headerlink" title="封装成帧"></a>封装成帧</h5><p>网络层的IP数据报传到数据链路层成为数据链路层的数据部分，添加首部和尾部构成完整的帧。每种数据链路层协议都规定了所能栓送的帧的数据部分长度上限–最大传送单元MTU。即IP数据包&lt;=MTU.<br>在帧的头部添加SOH（0x01)<br>在帧的尾部田间EOT（0x04)</p>
<h5 id="透明传输"><a href="#透明传输" class="headerlink" title="透明传输"></a>透明传输</h5><p>在数据链路层透明传输数据的意思是：无论怎样的比特组合的数据，都能够按照原样没有差错的通过数据链路层。<br>具体解决方法为在发送前：</p>
<ol>
<li>在数据部分出现的一个SOH前面添加一个转义字符ESE（0x1B)</li>
<li>在数据部分出现的一个EOT前面添加一个转义字符ESE（0x1B)</li>
<li>在数据部分出现的一个EOT前面添加一个转义字符ESE（0x1B)<br>在接受到数据之后删除即可。（看见一个转义字符就直接删除，如果有两个转移字符连在一起则只删除前一个）。</li>
</ol>
<h5 id="差错检测"><a href="#差错检测" class="headerlink" title="差错检测"></a>差错检测</h5><p>在数据链路层使用了循环冗余检验CRC进行检错。<br>假设要传输的数据为M=101101，其长度k=6，要获得的冗余码为n位，事先确定的除数P（n+1位）。运算过程为：          </p>
<ol>
<li>将M左移n位。</li>
<li>M除以P得到余数R。</li>
<li>将R作为冗余码拼接到M的后面。</li>
</ol>
<p>这种为了进行检错而添加的冗余码称为帧检验序列。FCS</p>
<p>接收端收到数据M（此时已经变为k+n位）后：        </p>
<ol>
<li>用M除以P得到余数R</li>
<li>若R为零，则传输没有差错（又很小的概率即使出错了仍然为零）。</li>
<li>R不为零，则丢弃这个帧。</li>
</ol>
<h3 id="点对点协议PPP"><a href="#点对点协议PPP" class="headerlink" title="点对点协议PPP"></a>点对点协议PPP</h3><p>PPP协议的帧格式：</p>
<table>
<thead>
<tr>
<th>首部</th>
<th>首部</th>
<th>首部</th>
<th>首部</th>
<th>数据部分</th>
<th>尾部</th>
<th>尾部</th>
</tr>
</thead>
<tbody><tr>
<td>F=0x7E</td>
<td>A=0xFF</td>
<td>C=0x03</td>
<td>协议</td>
<td>IP数据报</td>
<td>FCS</td>
<td>F=0x7E</td>
</tr>
</tbody></table>
<p>F=0x7E为帧定界符，每两个F之间为一个帧。</p>
<p>透明传输的两种方法：</p>
<ol>
<li><p>字节填充：              </p>
<ol>
<li>转移字符定义为0x7D</li>
<li>将0x7E变为两字节0x7D,0x5E</li>
<li>将0x7D变为0x7D,0x5D</li>
<li>若有ASCII控制字符（数值上小于0x20），则加上0x20并前面插入一个0x7D  例如0x03 –&gt; 0x7D,0x23</li>
</ol>
</li>
<li><p>零比特填充</p>
<ol>
<li>PPP在使用SONET/SDH链路时，采用同步传输，使用零比特填充来实现透明传输。</li>
<li>发送端只要发现有5个连续的1则立刻插入一个0</li>
<li>接收端接收端先找到标志字段F确定一个帧的边界。</li>
<li>每发现5个连续地1则删除其后面的0.</li>
</ol>
</li>
</ol>
<h3 id="CSMA-CD协议"><a href="#CSMA-CD协议" class="headerlink" title="CSMA/CD协议"></a>CSMA/CD协议</h3><p>以太网使用面向无连接的工作方式，不必先建立连接，采用尽最大努力的交付，即不可靠的交付。<br>以太网发送的数据帧都是用曼彻斯特编码。          </p>
<p>CSMA/CD协议的要点是：       </p>
<ol>
<li>多点接入：许多计算机连在同一根总线上。</li>
<li>载波监听：发送前和发送中都必须不停地检测信道是否空闲。</li>
<li>碰撞检测：也就是便发送边监听。</li>
</ol>
<p>几个重要的概念：</p>
<ol>
<li>争用期：以太网端到端的往返时间称为争用期，又称为碰撞窗口一个站在发送完数据之后只有通过争用期的考验还没有检测到碰撞才能说明这次发送没有发生碰撞。         </li>
<li>电磁波在1km的电缆的传播时延约为5us,</li>
</ol>
<p>以太网使用截断二进制指数退避来确定碰撞后重传的额时机。      </p>
<ol>
<li>基本的退避时间是争用期（51.2us),对于10Mbit/s的以太网，争用期可以发送512b数据，所以也可以称为512比特时间。</li>
<li>从离散的整数集合[0,1,…,(2^k-1)]中随机选取一个数，记为r,重传应该推迟的时间就是r倍的争用期。其中k=min[重传次数，10]；</li>
<li>当重传16此仍然失败，则丢弃这个帧并向高层汇报。</li>
</ol>
<p>强化碰撞：当发送数据的站发现了碰撞后，除了立刻停止发送数据之外，继续发送32b,或者48b的人为干扰信号，以便让所有用户都知道现在发生了碰撞。     </p>
<p>以太网规定帧间最小间隔为9.6us.</p>
<h4 id="以太网的信道利用率"><a href="#以太网的信道利用率" class="headerlink" title="以太网的信道利用率"></a>以太网的信道利用率</h4><ol>
<li>t=单程端到端的时延。</li>
<li>T=帧的发送时间。</li>
<li>α=t/T</li>
<li>信道的极限利用率=T/(t+T)=1/(1+α)；</li>
</ol>
<h2 id="第四章-网络层"><a href="#第四章-网络层" class="headerlink" title="第四章 网络层"></a>第四章 网络层</h2><p>网络层向上只提供简单灵活的、无连接的、尽最大努力交付的数据报服务。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://myblog.cuimouren.cn/2021/06/18/leedcode-%E5%88%9D%E7%BA%A7%E7%AE%97%E6%B3%95-%E9%93%BE%E8%A1%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="../../images/avatar.gif">
      <meta itemprop="name" content="崔文耀">
      <meta itemprop="description" content="Hello, here is wenyao's space, how do you come in???">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这里是文耀的space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="../../2021/06/18/leedcode-%E5%88%9D%E7%BA%A7%E7%AE%97%E6%B3%95-%E9%93%BE%E8%A1%A8/" class="post-title-link" itemprop="url">leedcode  链表</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-18 16:28:17" itemprop="dateCreated datePublished" datetime="2021-06-18T16:28:17+08:00">2021-06-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-02-24 09:12:59" itemprop="dateModified" datetime="2022-02-24T09:12:59+08:00">2022-02-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E7%AE%97%E6%B3%95/leedcode/" itemprop="url" rel="index"><span itemprop="name">leedcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="leedcode-链表"><a href="#leedcode-链表" class="headerlink" title="leedcode 链表"></a>leedcode 链表</h1><p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/leetbook/read/top-interview-questions-easy/x2t7vj/">链接</a></p>
<h4 id="删除链表中的节点"><a href="#删除链表中的节点" class="headerlink" title="删除链表中的节点"></a>删除链表中的节点</h4><h6 id="题目解析"><a href="#题目解析" class="headerlink" title="题目解析"></a>题目解析</h6><p>请编写一个函数，使其可以删除某个链表中给定的（非末尾）节点。传入函数的唯一参数为 要被删除的节点 。</p>
<h6 id="题目解析-1"><a href="#题目解析-1" class="headerlink" title="题目解析"></a>题目解析</h6><p>懒得解析了</p>
<h4 id="删除链表的倒数第N个节点"><a href="#删除链表的倒数第N个节点" class="headerlink" title="删除链表的倒数第N个节点"></a>删除链表的倒数第N个节点</h4><h6 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h6><p>给你一个链表，删除链表的倒数第 n 个结点，并且返回链表的头结点。</p>
<p>进阶：你能尝试使用一趟扫描实现吗？</p>
<h6 id="题目解析-方法一"><a href="#题目解析-方法一" class="headerlink" title="题目解析 方法一"></a>题目解析 方法一</h6><p>为头节点head建立一个前驱结点heeaad,这样就不怕只有head一个结点的情况了。先遍历一遍链表得到链表的长度，再从heeaad遍历链表，r-&gt;next，指向的是当前应该删除的结点。记住不要让r指向当前应该删除的结点，不然含需要一个r的前驱节点。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getLength</span><span class="params">(ListNode *head)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> length = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (head)</span><br><span class="line">        &#123;</span><br><span class="line">            length++;</span><br><span class="line">            head = head-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> length;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">ListNode *<span class="title">removeNthFromEnd</span><span class="params">(ListNode *head, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> length = <span class="built_in">getLength</span>(head);</span><br><span class="line">        <span class="keyword">if</span> (length == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">        n = length + <span class="number">1</span> - n;                       <span class="comment">//正数</span></span><br><span class="line">        ListNode *heeaad = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>, head); <span class="comment">//声明一个指向head结点的结点，值为零</span></span><br><span class="line">        ListNode *r = <span class="keyword">new</span> ListNode;</span><br><span class="line">        r = heeaad;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            r = r-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//得到当前要删除的为 r-&gt;next</span></span><br><span class="line">        r-&gt;next = r-&gt;next-&gt;next;</span><br><span class="line">        ListNode *ans = heeaad-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> heeaad;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法二"><a href="#题目解析-方法二" class="headerlink" title="题目解析 方法二"></a>题目解析 方法二</h6><p>使用栈，向将链表中的所有数据先存起来，然后依次从前面插入。</p>
<h4 id="反转链表"><a href="#反转链表" class="headerlink" title="反转链表"></a>反转链表</h4><h6 id="题目描述-1"><a href="#题目描述-1" class="headerlink" title="题目描述"></a>题目描述</h6><p>给你单链表的头节点 head ，请你反转链表，并返回反转后的链表。</p>
<h6 id="题目解析-方法一-1"><a href="#题目解析-方法一-1" class="headerlink" title="题目解析 方法一"></a>题目解析 方法一</h6><p>遍历一遍，从左到右依次设置三个指针t1 t2 t3。<br>每一个循环中的装填都是 t2已经设置好指向，t2需要改变指向到t1，t3指向下一轮循环需要改变的结点。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">struct ListNode *<span class="title">reverseList</span><span class="params">(struct ListNode *head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">NULL</span> || head-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode *t1 = <span class="literal">NULL</span>, *t2 = <span class="literal">NULL</span>, *t3 = <span class="literal">NULL</span>;</span><br><span class="line">    t1 = head;</span><br><span class="line">    t2 = head-&gt;next;</span><br><span class="line">    t1-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">        t3 = t2-&gt;next;</span><br><span class="line">        t2-&gt;next = t1;</span><br><span class="line">        <span class="keyword">if</span> (t3 == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> t2;</span><br><span class="line">        &#125;</span><br><span class="line">        t1 = t2;</span><br><span class="line">        t2 = t3;</span><br><span class="line">        t3 = t3-&gt;next;</span><br><span class="line">    &#125; <span class="keyword">while</span> (<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法二-1"><a href="#题目解析-方法二-1" class="headerlink" title="题目解析 方法二"></a>题目解析 方法二</h6><p>递归</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">struct ListNode *<span class="title">reverseList</span><span class="params">(struct ListNode *head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">NULL</span> || head-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">res</span> =</span> <span class="built_in">reverseList</span>(head-&gt;next);</span><br><span class="line">    head-&gt;next-&gt;next = head;</span><br><span class="line">    head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="合并有序链表"><a href="#合并有序链表" class="headerlink" title="合并有序链表"></a>合并有序链表</h4><h6 id="题目描述-2"><a href="#题目描述-2" class="headerlink" title="题目描述"></a>题目描述</h6><p>合并两个递增链表</p>
<h6 id="题目解析-方法一-2"><a href="#题目解析-方法一-2" class="headerlink" title="题目解析 方法一"></a>题目解析 方法一</h6><p>迭代，先设立一个伪头节点，比较l1 l2的大小，将游标指向小的，并后移对应链表l1或l2，直到一个为空</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;random&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">struct ListNode *<span class="title">mergeTwoLists</span><span class="params">(struct ListNode *l1, struct ListNode *l2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">res</span> =</span> (struct ListNode *)<span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(struct ListNode));</span><br><span class="line">    res-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">t</span> =</span> res;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (l1 == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            t-&gt;next = l2;</span><br><span class="line">            <span class="keyword">return</span> res-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (l2 == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            t-&gt;next = l1;</span><br><span class="line">            <span class="keyword">return</span> res-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (l1-&gt;val &lt;= l2-&gt;val)</span><br><span class="line">        &#123;</span><br><span class="line">            t-&gt;next = l1;</span><br><span class="line">            l1 = l1-&gt;next;</span><br><span class="line">            t = t-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            t-&gt;next = l2;</span><br><span class="line">            l2 = l2-&gt;next;</span><br><span class="line">            t = t-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法二-2"><a href="#题目解析-方法二-2" class="headerlink" title="题目解析 方法二"></a>题目解析 方法二</h6><p>递归</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;random&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">struct ListNode *<span class="title">mergeTwoLists</span><span class="params">(struct ListNode *l1, struct ListNode *l2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l1 == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> l2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (l2 == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> l1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (l1-&gt;val &lt;= l2-&gt;val)</span><br><span class="line">    &#123;</span><br><span class="line">        l1-&gt;next = <span class="built_in">mergeTwoLists</span>(l1-&gt;next, l2);</span><br><span class="line">        <span class="keyword">return</span> l1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        l2-&gt;next = <span class="built_in">mergeTwoLists</span>(l2-&gt;next, l1);</span><br><span class="line">        <span class="keyword">return</span> l2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="回文链表"><a href="#回文链表" class="headerlink" title="回文链表"></a>回文链表</h4><h6 id="题目描述-3"><a href="#题目描述-3" class="headerlink" title="题目描述"></a>题目描述</h6><p>判断一个链表是否是回文链表</p>
<h6 id="题目解析-方法一-3"><a href="#题目解析-方法一-3" class="headerlink" title="题目解析 方法一"></a>题目解析 方法一</h6><p>将链表从中间分为两部分，将其中一部分进行反转，顺序比较是否相等。</p>
<p>这个解法和力扣官方解法的快慢指针相同。</p>
<p>在并发环境中这个解法需要进行链表访问的锁定，因为在访问中会进行更改链表。</p>
<p>在程序的最后还需要将链表复原。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;random&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">struct ListNode *<span class="title">reverseList</span><span class="params">(struct ListNode *head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">NULL</span> || head-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">res</span> =</span> <span class="built_in">reverseList</span>(head-&gt;next);</span><br><span class="line">    head-&gt;next-&gt;next = head;</span><br><span class="line">    head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isPalindrome</span><span class="params">(struct ListNode *head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">h</span> =</span> head;</span><br><span class="line">    <span class="keyword">while</span> (h)</span><br><span class="line">    &#123;</span><br><span class="line">        count++;</span><br><span class="line">        h = h-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    count /= <span class="number">2</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">l1</span> =</span> head;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">l2</span> =</span> head;</span><br><span class="line">    <span class="keyword">while</span> (count &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        count--;</span><br><span class="line">        l2 = l2-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    l2 = <span class="built_in">reverseList</span>(l2);</span><br><span class="line">    <span class="keyword">while</span> (l1 &amp;&amp; l2)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (l1-&gt;val != l2-&gt;val)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        l1 = l1-&gt;next;</span><br><span class="line">        l2 = l2-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法二-3"><a href="#题目解析-方法二-3" class="headerlink" title="题目解析 方法二"></a>题目解析 方法二</h6><p>复制到数组里面，这个方法太幼稚了。略。</p>
<h6 id="题目解析-方法三"><a href="#题目解析-方法三" class="headerlink" title="题目解析 方法三"></a>题目解析 方法三</h6><p>递归，使用后序遍历的递归。由于递归天然具有从后向前的特性，所以用来从后向前遍历是再好不过的。在函数外设置一个变量用来指示从前向后遍历进行并比较的结点。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">now</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(struct ListNode *head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">check</span>(head-&gt;next))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (head-&gt;val != now-&gt;val)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        now = now-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isPalindrome</span><span class="params">(struct ListNode *head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    now = head;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">check</span>(head);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="环形链表"><a href="#环形链表" class="headerlink" title="环形链表"></a>环形链表</h4><h6 id="题目描述-4"><a href="#题目描述-4" class="headerlink" title="题目描述"></a>题目描述</h6><p>判断一个链表是否有环，即遍历永远不会结束。</p>
<h6 id="题目解析-方法一-4"><a href="#题目解析-方法一-4" class="headerlink" title="题目解析 方法一"></a>题目解析 方法一</h6><p>这是一个投机的方法。根据是系统分配内存是从小开始分配。不可以在真实环境中使用。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">hasCycle</span><span class="params">(struct ListNode *head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">NULL</span> || head-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (head-&gt;next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (head-&gt;next &lt;= head)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法二-4"><a href="#题目解析-方法二-4" class="headerlink" title="题目解析 方法二"></a>题目解析 方法二</h6><p>使用哈希表记录每一次遍历到的结点地址。遍历时判断是否已经遍历过。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">hasCycle</span><span class="params">(struct ListNode *head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    unordered_set&lt;struct ListNode *&gt; set;</span><br><span class="line">    <span class="keyword">while</span>(head)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(set.<span class="built_in">count</span>(head))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        set.<span class="built_in">insert</span>(head);</span><br><span class="line">        head=head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法三-1"><a href="#题目解析-方法三-1" class="headerlink" title="题目解析 方法三"></a>题目解析 方法三</h6><p>快慢指针</p>
<p>使用两个指针 兔子和乌龟 兔子一次走两步，乌龟一次走一步，直到结尾。若相遇说明有环。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">hasCycle</span><span class="params">(struct ListNode *head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">NULL</span> || head-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> *<span class="title">tu</span>, *<span class="title">gui</span>;</span></span><br><span class="line">    gui = head;</span><br><span class="line">    tu = head-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (tu &amp;&amp; gui)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (tu == gui)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        gui = gui-&gt;next;</span><br><span class="line">        tu = tu-&gt;next;</span><br><span class="line">        <span class="keyword">if</span> (tu == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            tu = tu-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>











      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://myblog.cuimouren.cn/2021/06/17/leedcode-%E5%88%9D%E7%BA%A7%E7%AE%97%E6%B3%95-%E5%AD%97%E7%AC%A6%E4%B8%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="../../images/avatar.gif">
      <meta itemprop="name" content="崔文耀">
      <meta itemprop="description" content="Hello, here is wenyao's space, how do you come in???">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这里是文耀的space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="../../2021/06/17/leedcode-%E5%88%9D%E7%BA%A7%E7%AE%97%E6%B3%95-%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="post-title-link" itemprop="url">leedcode  字符串</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-17 00:04:43" itemprop="dateCreated datePublished" datetime="2021-06-17T00:04:43+08:00">2021-06-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-02-24 09:13:24" itemprop="dateModified" datetime="2022-02-24T09:13:24+08:00">2022-02-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E7%AE%97%E6%B3%95/leedcode/" itemprop="url" rel="index"><span itemprop="name">leedcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="leedcode-字符串"><a href="#leedcode-字符串" class="headerlink" title="leedcode  字符串"></a>leedcode  字符串</h1><p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/leetbook/read/top-interview-questions-easy/x2uudv/">链接</a></p>
<h4 id="反转字符转"><a href="#反转字符转" class="headerlink" title="反转字符转"></a>反转字符转</h4><h6 id="题目说明"><a href="#题目说明" class="headerlink" title="题目说明"></a>题目说明</h6><p>编写一个函数，其作用是将输入的字符串反转过来。输入字符串以字符数组 char[] 的形式给出。</p>
<p>不要给另外的数组分配额外的空间，你必须原地修改输入数组、使用 O(1) 的额外空间解决这一问题。</p>
<p>你可以假设数组中的所有字符都是 ASCII 码表中的可打印字符。</p>
<h6 id="题目解析"><a href="#题目解析" class="headerlink" title="题目解析"></a>题目解析</h6><p>懒得解析了。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">reverseString</span><span class="params">(vector&lt;<span class="keyword">char</span>&gt; &amp;s)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> j = s.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">swap</span>(s[i++], s[j--]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="整数反转"><a href="#整数反转" class="headerlink" title="整数反转"></a>整数反转</h4><h6 id="题目说明-1"><a href="#题目说明-1" class="headerlink" title="题目说明"></a>题目说明</h6><p>给你一个 32 位的有符号整数 x ，返回将 x 中的数字部分反转后的结果。</p>
<p>如果反转后整数超过 32 位的有符号整数的范围 [−231,  231 − 1] ，就返回 0。</p>
<p>假设环境不允许存储 64 位整数（有符号或无符号）。</p>
<h6 id="题目解析-1"><a href="#题目解析-1" class="headerlink" title="题目解析"></a>题目解析</h6><p>将整数的每一位存在一个vector<int>中，倒序再存入一个数字中。或者就不用这样麻烦，直接从最后一位拿出来放在前面就行。</p>
<p>因为只能使用32位整数，所以需要使用下面的方法进行判断是否超界。</p>
<p>我们需要在「推入」数字之前，判断是否满足</p>
<p><strong>INT_MIN=&lt;ans*10+i&lt;=INT_MAX</strong></p>
<p><strong>INT_MAX=2^31-1=2147483647=[INT_MAX]/10*10+7</strong><br>所以可以变为<br><strong>ans*10+i&lt;=[INT_MAX]/10*10+7</strong><br>所以：<br><strong>[ans-[INT_MAX]/10]*10&lt;=7-i</strong><br>当</p>
<ol>
<li>ans&gt;[INT_MAX]/10 左边大于10，绝对大于右边。所以不行。</li>
<li>ans=[INT_MAX]/10 由于原数字符合条件，所以其最高位=1或者2，即7-i&gt;0 左边为零，满足。</li>
<li>ans&lt;[INT_MAX]/10 显然满足</li>
</ol>
<p>综上只需判断<br><strong>ans&lt;=[INT_MAX]/10**即可<br>对于负数同理存在<br>**ans&gt;=[INT_MIN]/10</strong><br>所以判别条件可变为<br><strong>[INT_MIN]&lt;=ans&lt;=[INT_MAX]/10</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        vector&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">        <span class="keyword">int</span> a = x;</span><br><span class="line">        <span class="keyword">while</span> (a != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            v.<span class="built_in">push_back</span>(a % <span class="number">10</span>);</span><br><span class="line">            a /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">long</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : v)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (ans &lt; INT32_MIN / <span class="number">10</span> || ans &gt; INT32_MAX)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            ans *= <span class="number">10</span>;</span><br><span class="line">            ans += i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ans &gt; INT32_MAX)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="字符串中的第一个唯一字符"><a href="#字符串中的第一个唯一字符" class="headerlink" title="字符串中的第一个唯一字符"></a>字符串中的第一个唯一字符</h4><h6 id="题目说明-2"><a href="#题目说明-2" class="headerlink" title="题目说明"></a>题目说明</h6><p>给定一个字符串，找到它的第一个不重复的字符，并返回它的索引。如果不存在，则返回 -1。</p>
<h6 id="题目解析-方法一"><a href="#题目解析-方法一" class="headerlink" title="题目解析 方法一"></a>题目解析 方法一</h6><p>依次存入unordered_multimap&lt;char,int&gt; 第一个是字符，第二个是索引.遍历字符串，设当前字符为，c，则count(c)==1?，相等则返回直至最后没有相等的返回-1；</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">firstUniqChar</span><span class="params">(string s)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        unordered_multimap&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; map;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=s.<span class="built_in">size</span>()<span class="number">-1</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            map.<span class="built_in">insert</span>(&#123;s[i],i&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= s.<span class="built_in">size</span>()<span class="number">-1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">             <span class="keyword">if</span> (map.<span class="built_in">count</span>(s[i]) == <span class="number">1</span>) <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法二"><a href="#题目解析-方法二" class="headerlink" title="题目解析 方法二"></a>题目解析 方法二</h6><p>或者放入unordered_map&lt;char,int&gt;  第一个是字符，第二个是该字符出现的次数。全部插入后，遍历string,寻找map[s[i]]==1;并返回i;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">firstUniqChar</span><span class="params">(string s)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//字符，出现的次数</span></span><br><span class="line">        unordered_map&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; map;</span><br><span class="line">        unordered_map&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= s.<span class="built_in">size</span>() - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//若不存在的话默认为零</span></span><br><span class="line">            map[s[i]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//遍历map</span></span><br><span class="line">        <span class="keyword">int</span> min = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= s.<span class="built_in">size</span>(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (map[s[i]] == <span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


<h6 id="题目解析-方法三"><a href="#题目解析-方法三" class="headerlink" title="题目解析 方法三"></a>题目解析 方法三</h6><p>依次存入unordered_map&lt;char,int&gt; 第一个是字符，第二个是索引.遍历字符串插入，若存在则索引变为-1。遍历map,寻找索引不为-1的最小值。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">firstUniqChar</span><span class="params">(string s)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//字符，索引值</span></span><br><span class="line">        unordered_map&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; map;</span><br><span class="line">        unordered_map&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= s.<span class="built_in">size</span>() - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            it = map.<span class="built_in">find</span>(s[i]);</span><br><span class="line">            <span class="keyword">if</span> (it == map.<span class="built_in">end</span>())</span><br><span class="line">            &#123;</span><br><span class="line">                map.<span class="built_in">insert</span>(&#123;s[i], i&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                map[s[i]] = <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//遍历map</span></span><br><span class="line">        <span class="keyword">int</span> min = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span> (it = map.<span class="built_in">begin</span>(); it != map.<span class="built_in">end</span>(); it++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (it-&gt;second != <span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (it-&gt;second &lt; min)</span><br><span class="line">                    min = it-&gt;second;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (min == s.<span class="built_in">size</span>())</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">return</span> min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法四"><a href="#题目解析-方法四" class="headerlink" title="题目解析 方法四"></a>题目解析 方法四</h6><p>unordered_map&lt;char,int&gt; map;    //字符和索引值<br>deque&lt;pair&lt;char,int&gt;&gt; dq;       //字符和索引值</p>
<p>使用一个额外的队列来查找最前面的为一个那个字符。遍历字符串，若当前字符再map中未出现的话，就插入map并且从后面插入队列。反之，则令该key在map中的值为-1，将队列中从头开始的所有字符在map对应的value==-1的元素全部弹出。则遍历完字符串之后剩下的队列的front就是所求。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">firstUniqChar</span><span class="params">(string s)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; map;</span><br><span class="line">        deque&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt;&gt; dq;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= s.<span class="built_in">size</span>() - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//没找到</span></span><br><span class="line">            <span class="keyword">if</span> (map.<span class="built_in">count</span>(s[i]) == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                map[s[i]] = i;</span><br><span class="line">                dq.<span class="built_in">push_back</span>(&#123;s[i], i&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                map[s[i]] = <span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">while</span> (!dq.<span class="built_in">empty</span>() &amp;&amp; map[dq.<span class="built_in">front</span>().first] == <span class="number">-1</span>)</span><br><span class="line">                    dq.<span class="built_in">pop_front</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dq.<span class="built_in">empty</span>() ? <span class="number">-1</span> : dq.<span class="built_in">front</span>().second;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="有效的字母异位词"><a href="#有效的字母异位词" class="headerlink" title="有效的字母异位词"></a>有效的字母异位词</h4><h6 id="题目说明-3"><a href="#题目说明-3" class="headerlink" title="题目说明"></a>题目说明</h6><p>给定两个字符串 s 和 t ，编写一个函数来判断 t 是否是 s 的字母异位词。（两个字符串排序后相等）</p>
<h6 id="题目解析-方法一-1"><a href="#题目解析-方法一-1" class="headerlink" title="题目解析 方法一"></a>题目解析 方法一</h6><p>先判断两个字符串的长度是否相等，若不想等则返回false,使用两个哈希表&lt;char,int&gt;存储字符和出现的次数，在遍历一个哈希表，查找其对应的字符在两个哈希表中出现的次数是否一样？</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isAnagram</span><span class="params">(string s, string t)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s.<span class="built_in">size</span>() != t.<span class="built_in">size</span>())</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        unordered_map&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; map1;</span><br><span class="line">        unordered_map&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; map2;</span><br><span class="line">        unordered_map&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= s.<span class="built_in">size</span>() - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            map1[s[i]]++;</span><br><span class="line">            map2[t[i]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (it = map1.<span class="built_in">begin</span>(); it != map1.<span class="built_in">end</span>(); it++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (it-&gt;second != map2[it-&gt;first])</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>但是这么简单的问题使用哈希表就有些小题大做了，直接使用一个数组 vector<int> v(26,0),即可，如下：         </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isAnagram</span><span class="params">(string s, string t)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s.<span class="built_in">size</span>() != t.<span class="built_in">size</span>())</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">v</span><span class="params">(<span class="number">26</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : s)</span><br><span class="line">            v[c - <span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : t)</span><br><span class="line">            <span class="keyword">if</span> (--v[c - <span class="string">&#x27;a&#x27;</span>] &lt; <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法二-1"><a href="#题目解析-方法二-1" class="headerlink" title="题目解析 方法二"></a>题目解析 方法二</h6><p>对两个字符串排序之后判断是否相等即可</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isAnagram</span><span class="params">(string s, string t)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s.<span class="built_in">size</span>() != t.<span class="built_in">size</span>())</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="built_in">sort</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>());</span><br><span class="line">        <span class="built_in">sort</span>(t.<span class="built_in">begin</span>(), t.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">return</span> (s == t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="验证回文串"><a href="#验证回文串" class="headerlink" title="验证回文串"></a>验证回文串</h4><h6 id="题目说明-4"><a href="#题目说明-4" class="headerlink" title="题目说明"></a>题目说明</h6><p>给定一个字符串，验证它是否是回文串，只考虑字母和数字字符，可以忽略字母的大小写。</p>
<p>说明：本题中，我们将空字符串定义为有效的回文串。</p>
<h6 id="题目解析-2"><a href="#题目解析-2" class="headerlink" title="题目解析"></a>题目解析</h6><p>先将串中的无关字符舍去并处理相关字符，再使用双指针从前后遍历判断即可。</p>
<p>直接使用双指针在遍历的时候处理也行。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isPalindrome</span><span class="params">(string s)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s.<span class="built_in">empty</span>())</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        vector&lt;<span class="keyword">char</span>&gt; v;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : s)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (c &lt;= <span class="string">&#x27;Z&#x27;</span> &amp;&amp; c &gt;= <span class="string">&#x27;A&#x27;</span>)</span><br><span class="line">                v.<span class="built_in">push_back</span>(c + <span class="number">32</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (c &lt;= <span class="string">&#x27;z&#x27;</span> &amp;&amp; c &gt;= <span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">                v.<span class="built_in">push_back</span>(c);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (c &lt;= <span class="string">&#x27;9&#x27;</span> &amp;&amp; c &gt;= <span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">                v.<span class="built_in">push_back</span>(c);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> j = v.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j)</span><br><span class="line">            <span class="keyword">if</span> (v[i++] != v[j--])</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="字符串转换整数-atoi"><a href="#字符串转换整数-atoi" class="headerlink" title="字符串转换整数 (atoi)"></a>字符串转换整数 (atoi)</h4><h6 id="题目说明-5"><a href="#题目说明-5" class="headerlink" title="题目说明"></a>题目说明</h6><p>请你来实现一个 myAtoi(string s) 函数，使其能将字符串转换成一个 32 位有符号整数（类似 C/C++ 中的 atoi 函数）。</p>
<p>函数 myAtoi(string s) 的算法如下：</p>
<p>读入字符串并丢弃无用的前导空格<br>检查下一个字符（假设还未到字符末尾）为正还是负号，读取该字符（如果有）。 确定最终结果是负数还是正数。 如果两者都不存在，则假定结果为正。<br>读入下一个字符，直到到达下一个非数字字符或到达输入的结尾。字符串的其余部分将被忽略。<br>将前面步骤读入的这些数字转换为整数（即，”123” -&gt; 123， “0032” -&gt; 32）。如果没有读入数字，则整数为 0 。必要时更改符号（从步骤 2 开始）。<br>如果整数数超过 32 位有符号整数范围 [−2^31,  2^31 − 1] ，需要截断这个整数，使其保持在这个范围内。具体来说，小于 −2^31 的整数应该被固定为 −2^31 ，大于 2^31 − 1 的整数应该被固定为 2^31 − 1 。<br>返回整数作为最终结果。<br>注意：</p>
<p>本题中的空白字符只包括空格字符 ‘ ‘ 。<br>除前导空格或数字后的其余字符串外，请勿忽略 任何其他字符。</p>
<h6 id="题目解析-3"><a href="#题目解析-3" class="headerlink" title="题目解析"></a>题目解析</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">myAtoi</span><span class="params">(string s)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">读入字符串并丢弃无用的前导空格</span></span><br><span class="line"><span class="comment">检查下一个字符（假设还未到字符末尾）为正还是负号，读取该字符（如果有）。 确定最终结果是负数还是正数。 如果两者都不存在，则假定结果为正。</span></span><br><span class="line"><span class="comment">读入下一个字符，直到到达下一个非数字字符或到达输入的结尾。字符串的其余部分将被忽略。</span></span><br><span class="line"><span class="comment">将前面步骤读入的这些数字转换为整数（即，&quot;123&quot; -&gt; 123， &quot;0032&quot; -&gt; 32）。如果没有读入数字，则整数为 0 。必要时更改符号（从步骤 2 开始）。</span></span><br><span class="line"><span class="comment">如果整数数超过 32 位有符号整数范围 [−2^31,  2^31 − 1] ，需要截断这个整数，使其保持在这个范围内。具体来说，小于 −2^31 的整数应该被固定为 −2^31 ，大于 2^31 − 1 的整数应该被固定为 2^31 − 1 。</span></span><br><span class="line"><span class="comment">返回整数作为最终结果。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="number">0</span>;     <span class="comment">//正数</span></span><br><span class="line">        <span class="keyword">bool</span> finish_0 = <span class="number">0</span>; <span class="comment">//前导0是否已经处理完</span></span><br><span class="line">        <span class="keyword">long</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span> (s[++a] == <span class="string">&#x27; &#x27;</span>)</span><br><span class="line">            ;</span><br><span class="line">        <span class="comment">//a指向第一个不是空格的地方</span></span><br><span class="line">        <span class="keyword">if</span> (s[a] == <span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            flag = <span class="number">1</span>;</span><br><span class="line">            a++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (s[a] == <span class="string">&#x27;+&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            flag = <span class="number">0</span>;</span><br><span class="line">            a++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//a指向符号位后一位，若没有符号位则指向第一个可能是数字的那一位。</span></span><br><span class="line">        <span class="keyword">int</span> b = a;</span><br><span class="line">        <span class="keyword">for</span> (b = a; b &lt;= s.<span class="built_in">size</span>() - <span class="number">1</span>; b++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">char</span> c = s[b];</span><br><span class="line">            <span class="keyword">if</span> (c &lt;= <span class="string">&#x27;9&#x27;</span> &amp;&amp; c &gt;= <span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        b--;</span><br><span class="line">        cout &lt;&lt; a &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">        <span class="comment">//b指向最后一个数字。</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = a; i &lt;= b; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> digit = s[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            ans = ans * <span class="number">10</span> + digit;</span><br><span class="line">            cout &lt;&lt; digit &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            <span class="keyword">if</span> (ans &gt; INT32_MAX)</span><br><span class="line">            &#123;</span><br><span class="line">                ans = INT32_MAX;</span><br><span class="line">                <span class="keyword">if</span> (flag == <span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    ans++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">        <span class="comment">//负数</span></span><br><span class="line">        <span class="keyword">if</span> (flag == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans = -ans;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ans &gt; INT32_MAX)</span><br><span class="line">        &#123;</span><br><span class="line">            ans = INT32_MAX;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ans &lt; INT32_MIN)</span><br><span class="line">        &#123;</span><br><span class="line">            ans = INT32_MIN;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="实现-strStr"><a href="#实现-strStr" class="headerlink" title="实现 strStr()"></a>实现 strStr()</h4><h6 id="题目说明-6"><a href="#题目说明-6" class="headerlink" title="题目说明"></a>题目说明</h6><p>实现 strStr() 函数。</p>
<p>给你两个字符串 haystack 和 needle ，请你在 haystack 字符串中找出 needle 字符串出现的第一个位置（下标从 0 开始）。如果不存在，则返回  -1 。</p>
<h6 id="题目解析-方法一-2"><a href="#题目解析-方法一-2" class="headerlink" title="题目解析 方法一"></a>题目解析 方法一</h6><p>暴力判断即可，不过还是要节省一点时间的。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">strStr</span><span class="params">(string haystack, string needle)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = haystack.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">int</span> n = needle.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (m == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> j = <span class="number">0</span>; <span class="comment">//mississippi sipp</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">                <span class="keyword">if</span> (m - i &lt; n)</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">if</span> (haystack[i] != needle[<span class="number">0</span>])</span><br><span class="line">                &#123;</span><br><span class="line">                    i++;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (haystack[i + n - <span class="number">1</span>] != needle[n - <span class="number">1</span>])</span><br><span class="line">                &#123;</span><br><span class="line">                    i++;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (m - i &lt; n)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">int</span> a = i; <span class="comment">//m</span></span><br><span class="line">            <span class="keyword">int</span> b = <span class="number">0</span>; <span class="comment">//n</span></span><br><span class="line">            <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (b == n)</span><br><span class="line">                    <span class="keyword">return</span> i;</span><br><span class="line">                <span class="keyword">if</span> (haystack[a++] != needle[b++])</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//没找到</span></span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法二-2"><a href="#题目解析-方法二-2" class="headerlink" title="题目解析 方法二"></a>题目解析 方法二</h6><p><strong>KMP</strong></p>
<p>kmp算法的简单介绍：<br>两个字符串s1,s2,指针t1,t2分别指向两个字符串中的字符。现在要从s1中寻找s2出现的最早的一次，没有出现的话就返回-1.          </p>
<p>普通暴力算法是一个字符一个字符的去匹配，匹配失败了就从头开始并后移一位。<br>kmp的思想是可不可以在匹配失败之后向后多移动几位呢？<br>假设在第n位匹配失败，即s1[n]!=s2[n]则t2前移几位，前移的程度要最大，即移动过后t2之前的字符仍然要保持匹配，再比较t2当前和t1是否对应字符相等即可，重复t2==0仍然匹配失败的话说明此处t1指向的字符是不可能正确的，必须略过，所以t1++，之后又开始了新一轮的比较。知道最后匹配成功则返回 t1-s2.size(),失败的条件不在赘述。<br>前面提到了需要再字符匹配失败之后t2向前移动，但是需要移动几位合适呢？现在t2前面a个字符都是匹配成功的，现在看这a个字符组成字符串a，如果a存在两个<strong>真子串</strong>相等的话(设为a1,a2)，显然a2已经是匹配成功的了，如果此时将a1移动到a2所在的地方那么自然也是匹配成功的了，所以上面提到的将t2前移几位的程度也呼之欲出，即t2要指向子串a1紧紧后面的那一位，这样就最大程度的利用了已知的信息。而这里提到的a1,a2就是a的最长相等真前缀和真后缀，所以问题的重点有落在了怎样求出s2的最长真前缀的长度呢？？？<br>我们用数组 <strong>kmp&lt;int&gt;</strong> 来表示s2每一位对应的最长真前缀的长度。怎么求呢？<br>明显kmp[0]=0,因为只有一个字符并没有真前缀和真后缀。我们这里使用两个指针now和x分别指向a1,a2要进行匹配的字符。<br>如果s2[x]==s2[now]则显然可以匹配的字符数量要加1，即kmp[x]==kmp[x-1]+1;<br>如果不相等的话，就需要查看前面的就要像上面s2和s1进行你匹配是那样指针前移，这里又要移动几位呢？和上面的分析一样，显然kmp[now-1]个字符已经匹配成功，所以需要将**now=kmp[now-1]**在进行s2[x]==s2[now]是否相等的比较了，不成立的话再进行now=kmp[now-1];若now==0,则判断s2[0]==s2[x]，不等的话说明连开头和结尾的字符都不想等，则显然kmp[x]=0;好了，算出了kmp[x]，x++,进行下一论循环即可。<br>哈哈哈，终于写明白了。          </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">strStr</span><span class="params">(string haystack, string needle)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (needle.<span class="built_in">empty</span>())</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (haystack.<span class="built_in">empty</span>())</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function">string <span class="title">s1</span><span class="params">(haystack)</span></span>;</span><br><span class="line">        <span class="function">string <span class="title">s2</span><span class="params">(needle)</span></span>;</span><br><span class="line">        cout &lt;&lt; s1 &lt;&lt; endl</span><br><span class="line">             &lt;&lt; s2 &lt;&lt; endl;</span><br><span class="line">        <span class="comment">//kmp:</span></span><br><span class="line">        <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">kmp</span><span class="params">(s2.size(), <span class="number">0</span>)</span></span>;</span><br><span class="line">        kmp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= s2.<span class="built_in">size</span>() - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (s2[kmp[i - <span class="number">1</span>]] == s2[i])</span><br><span class="line">            &#123;</span><br><span class="line">                kmp[i] = kmp[i - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> x = i;</span><br><span class="line">                <span class="keyword">int</span> now = kmp[i - <span class="number">1</span>];</span><br><span class="line">                <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//aabaaac</span></span><br><span class="line">                    cout &lt;&lt; now &lt;&lt; x &lt;&lt; endl;</span><br><span class="line">                    <span class="keyword">if</span> (s2[now] == s2[x])</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">if</span> (now &gt;= <span class="number">1</span>)</span><br><span class="line">                        now = kmp[now - <span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (now &lt;= <span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        now = <span class="number">-1</span>;</span><br><span class="line">                        <span class="keyword">if</span> (s2[<span class="number">0</span>] == s2[x])</span><br><span class="line">                            now = <span class="number">0</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                kmp[i] = now + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x : kmp)</span><br><span class="line">            cout &lt;&lt; x &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;匹配&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="comment">//匹配</span></span><br><span class="line">        <span class="keyword">int</span> t1 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> t2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;t1: &quot;</span> &lt;&lt; t1 &lt;&lt; <span class="string">&quot; t2: &quot;</span> &lt;&lt; t2 &lt;&lt; endl;</span><br><span class="line">            <span class="comment">//成功</span></span><br><span class="line">            <span class="keyword">if</span> (t2 == s2.<span class="built_in">size</span>())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> t1 - s2.<span class="built_in">size</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//失败</span></span><br><span class="line">            <span class="keyword">if</span> (t1 == s1.<span class="built_in">size</span>() &amp;&amp; t2 != s2.<span class="built_in">size</span>())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//匹配该字符失败</span></span><br><span class="line">            <span class="keyword">if</span> (s1[t1] != s2[t2])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (t2 != <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    t2 = kmp[t2 - <span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    t1++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="comment">//匹配该字符成功</span></span><br><span class="line">            &#123;</span><br><span class="line">                t1++;</span><br><span class="line">                t2++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法三-1"><a href="#题目解析-方法三-1" class="headerlink" title="题目解析 方法三"></a>题目解析 方法三</h6><p>还有一个基于kmp算法的改进版。我们将两个字符串拼接起来为s，并使用一个两串中都不存在的字符’#’作为分隔符（如 s1=”aaa” s2=”aa” 的情况，如果中间没有#的话就不行，因为这种情况无论如何算kmp的时候都会算上两个子串的公共部分）。s=s2+’#’+s1; 别加反了。。。<br>遍历s,根据上面的算法求解s的kmp数组，若kmp[n]==s2.size()且n&gt;=2*s2.size(),这样保证是s1的子串和s2匹配，而不是s2的或者s1和s2中间共有的。结果返回i - 2 * s2.size()即可。        </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">strStr</span><span class="params">(string haystack, string needle)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (needle.<span class="built_in">empty</span>())</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (haystack.<span class="built_in">empty</span>())</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function">string <span class="title">s1</span><span class="params">(haystack)</span></span>;</span><br><span class="line">        <span class="function">string <span class="title">s2</span><span class="params">(needle)</span></span>;</span><br><span class="line">        string s = s2 + <span class="string">&quot;#&quot;</span> + s1;</span><br><span class="line">        cout &lt;&lt; s1 &lt;&lt; endl</span><br><span class="line">             &lt;&lt; s2 &lt;&lt; endl</span><br><span class="line">             &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">        <span class="comment">//kmp:</span></span><br><span class="line">        <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">kmp</span><span class="params">(s.size(), <span class="number">0</span>)</span></span>;</span><br><span class="line">        kmp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= s.<span class="built_in">size</span>() - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[kmp[i - <span class="number">1</span>]] == s[i])</span><br><span class="line">            &#123;</span><br><span class="line">                kmp[i] = kmp[i - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> x = i;</span><br><span class="line">                <span class="keyword">int</span> now = kmp[i - <span class="number">1</span>];</span><br><span class="line">                <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//aabaaac</span></span><br><span class="line">                    <span class="comment">//cout &lt;&lt; now &lt;&lt;&quot; &quot;&lt;&lt; x &lt;&lt;s[now]&lt;&lt;&quot; &quot;&lt;&lt;s[x]&lt;&lt; endl;</span></span><br><span class="line">                    <span class="keyword">if</span> (s[now] == s[x])</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">if</span> (now &gt;= <span class="number">1</span>)</span><br><span class="line">                        now = kmp[now - <span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (now &lt;= <span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        now = <span class="number">-1</span>;</span><br><span class="line">                        <span class="keyword">if</span> (s[<span class="number">0</span>] == s[x])</span><br><span class="line">                            now = <span class="number">0</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                kmp[i] = now + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (kmp[i] == s2.<span class="built_in">size</span>())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//cout&lt;&lt;&quot;相等&quot;&lt;&lt;kmp[i]&lt;&lt;&quot; &quot;&lt;&lt;i&lt;&lt;endl;</span></span><br><span class="line">                <span class="keyword">if</span> (i &gt;= <span class="number">2</span> * s2.<span class="built_in">size</span>())</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//cout&lt;&lt;&quot;匹配&quot;&lt;&lt;kmp[i]&lt;&lt;&quot; &quot;&lt;&lt;i&lt;&lt;endl;</span></span><br><span class="line">                    <span class="keyword">return</span> (i - <span class="number">2</span> * s2.<span class="built_in">size</span>());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="外观数列"><a href="#外观数列" class="headerlink" title="外观数列"></a>外观数列</h4><h6 id="题目说明-7"><a href="#题目说明-7" class="headerlink" title="题目说明"></a>题目说明</h6><p> 给定一个正整数 n ，输出外观数列的第 n 项。</p>
<p>「外观数列」是一个整数序列，从数字 1 开始，序列中的每一项都是对前一项的描述。</p>
<p>你可以将其视作是由递归公式定义的数字字符串序列：</p>
<p>countAndSay(1) = “1”<br>countAndSay(n) 是对 countAndSay(n-1) 的描述，然后转换成另一个数字字符串。</p>
<ol>
<li><pre><code>1
</code></pre>
</li>
<li><pre><code>11
</code></pre>
</li>
<li><pre><code>21
</code></pre>
</li>
<li><pre><code>1211
</code></pre>
</li>
<li><pre><code>111221
</code></pre>
第一项是数字 1<br>描述前一项，这个数是 1 即 “ 一 个 1 ”，记作 “11”<br>描述前一项，这个数是 11 即 “ 二 个 1 ” ，记作 “21”<br>描述前一项，这个数是 21 即 “ 一 个 2 + 一 个 1 ” ，记作 “1211”<br>描述前一项，这个数是 1211 即 “ 一 个 1 + 一 个 2 + 二 个 1 ” ，记作 “111221”        </li>
</ol>
<h6 id="题目解析-4"><a href="#题目解析-4" class="headerlink" title="题目解析"></a>题目解析</h6><p>很好理解题意，就是遍历并且判断数量即可。<br>使用一个数组vector&lt;vector<int>&gt; v来保存结果。       </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">countAndSay</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        string s = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        vector&lt;vector&lt;<span class="keyword">int</span>&gt;&gt; v;</span><br><span class="line">        <span class="comment">//cout&lt;&lt;&quot;1&quot;&lt;&lt;endl;</span></span><br><span class="line">        vector&lt;<span class="keyword">int</span>&gt; temp;</span><br><span class="line">        v.<span class="built_in">push_back</span>(temp);</span><br><span class="line">        v[<span class="number">0</span>].<span class="built_in">push_back</span>(<span class="number">1</span>); <span class="comment">//1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//每一轮循环pushback进去一个temp来申请内存空间。v[i]</span></span><br><span class="line">            v.<span class="built_in">push_back</span>(temp);</span><br><span class="line">            <span class="comment">//遍历v[i-1] 并得到结果</span></span><br><span class="line">            <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (j &lt;= v[i - <span class="number">1</span>].<span class="built_in">size</span>() - <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">int</span> num = v[i - <span class="number">1</span>][j];</span><br><span class="line">                <span class="keyword">int</span> k = j;</span><br><span class="line">                <span class="keyword">while</span> (k &lt;= v[i - <span class="number">1</span>].<span class="built_in">size</span>() - <span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (v[i - <span class="number">1</span>][k] == num)</span><br><span class="line">                    &#123;</span><br><span class="line">                        k++;</span><br><span class="line">                        count++;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                j = k;</span><br><span class="line">                v[i].<span class="built_in">push_back</span>(count);</span><br><span class="line">                v[i].<span class="built_in">push_back</span>(num);</span><br><span class="line">            &#125;</span><br><span class="line">            s.<span class="built_in">clear</span>();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= v[i].<span class="built_in">size</span>() - <span class="number">1</span>; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">char</span> c = v[i][j] + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                s.<span class="built_in">push_back</span>(c);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//cout &lt;&lt; s&lt;&lt;endl;;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="最长公共前缀"><a href="#最长公共前缀" class="headerlink" title="最长公共前缀"></a>最长公共前缀</h4><h6 id="题目说明-8"><a href="#题目说明-8" class="headerlink" title="题目说明"></a>题目说明</h6><p>编写一个函数来查找字符串数组中的最长公共前缀。</p>
<p>如果不存在公共前缀，返回空字符串 “”。</p>
<h6 id="题目解析-方法一-3"><a href="#题目解析-方法一-3" class="headerlink" title="题目解析 方法一"></a>题目解析 方法一</h6><p>纵向扫描，若不符合条件则退出。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">longestCommonPrefix</span><span class="params">(vector&lt;string&gt; &amp;strs)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        string s = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">int</span> min = INT32_MAX; <span class="comment">//记录最短的长度</span></span><br><span class="line">        <span class="keyword">int</span> strnum = strs.<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;string&gt;::iterator it;</span><br><span class="line">        <span class="comment">//就一个串 或者没有串</span></span><br><span class="line">        <span class="keyword">if</span> (strs.<span class="built_in">size</span>() &lt;= <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> strs[<span class="number">0</span>];</span><br><span class="line">        <span class="comment">//判断是否存在空字符串</span></span><br><span class="line">        <span class="keyword">for</span> (it = strs.<span class="built_in">begin</span>(); it != strs.<span class="built_in">end</span>(); it++)</span><br><span class="line">        &#123;</span><br><span class="line">            min = (min &lt; it-&gt;<span class="built_in">size</span>()) ? min : it-&gt;<span class="built_in">size</span>();</span><br><span class="line">            cout &lt;&lt; min &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (min == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;至少两个字符串，而且没有空串&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> v = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (index = <span class="number">0</span>; index &lt;= min - <span class="number">1</span>; index++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//记录当前要比较的字符</span></span><br><span class="line">            <span class="keyword">char</span> c = strs[<span class="number">0</span>][index];</span><br><span class="line">            <span class="keyword">int</span> flag = <span class="number">0</span>; <span class="comment">//不存在不相等的。</span></span><br><span class="line">            <span class="keyword">for</span> (v = <span class="number">0</span>; v &lt;= strnum - <span class="number">1</span>; v++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (strs[v][index] != c)</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//当前字符串通过考核</span></span><br><span class="line">            <span class="keyword">if</span> (flag == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                s.<span class="built_in">push_back</span>(c);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//未通过</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法二-3"><a href="#题目解析-方法二-3" class="headerlink" title="题目解析 方法二"></a>题目解析 方法二</h6><p>横向扫描，遍历字符串数组，得到相邻字符串的公共前缀，在用这个公共前缀与下一个字符串进行比较。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">longestCommonPrefix</span><span class="params">(vector&lt;string&gt; &amp;strs)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        string s = strs[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> strnum = strs.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= strnum - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            s = <span class="built_in">CommonPrefix</span>(s, strs[i]);</span><br><span class="line">            cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">string <span class="title">CommonPrefix</span><span class="params">(string &amp;s1, string &amp;s2)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        string s = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">int</span> len = (s1.<span class="built_in">size</span>() &gt; s2.<span class="built_in">size</span>()) ? s2.<span class="built_in">size</span>() : s1.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (len == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= len - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (s1[i] == s2[i])</span><br><span class="line">                s.<span class="built_in">push_back</span>(s1[i]);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法三-2"><a href="#题目解析-方法三-2" class="headerlink" title="题目解析 方法三"></a>题目解析 方法三</h6><p>分治</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">longestCommonPrefix</span><span class="params">(vector&lt;string&gt; &amp;strs)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        string s = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (strs.<span class="built_in">size</span>() == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        <span class="keyword">if</span> (strs.<span class="built_in">size</span>() == <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> strs[<span class="number">0</span>];</span><br><span class="line">        s = <span class="built_in">Prefix</span>(strs, <span class="number">0</span>, strs.<span class="built_in">size</span>()); <span class="comment">//前闭后开</span></span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">string <span class="title">Prefix</span><span class="params">(vector&lt;string&gt; strs, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (begin + end) / <span class="number">2</span>;</span><br><span class="line">        <span class="comment">//就一个字符串</span></span><br><span class="line">        <span class="keyword">if</span> (end - begin == <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> strs[begin];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (end - begin == <span class="number">2</span>) <span class="comment">//正好两个串</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">CommonPrefix</span>(strs[begin], strs[begin + <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">CommonPrefix</span>(<span class="built_in">Prefix</span>(strs, begin, mid), <span class="built_in">Prefix</span>(strs, mid, end));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">string <span class="title">CommonPrefix</span><span class="params">(string s1, string s2)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        string s = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">int</span> len = (s1.<span class="built_in">size</span>() &gt; s2.<span class="built_in">size</span>()) ? s2.<span class="built_in">size</span>() : s1.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (len == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= len - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (s1[i] == s2[i])</span><br><span class="line">                s.<span class="built_in">push_back</span>(s1[i]);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>






      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://myblog.cuimouren.cn/2021/06/15/C++-STL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="../../images/avatar.gif">
      <meta itemprop="name" content="崔文耀">
      <meta itemprop="description" content="Hello, here is wenyao's space, how do you come in???">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这里是文耀的space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="../../2021/06/15/C++-STL/" class="post-title-link" itemprop="url">C++ STL</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-15 15:00:20" itemprop="dateCreated datePublished" datetime="2021-06-15T15:00:20+08:00">2021-06-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-09-28 19:00:43" itemprop="dateModified" datetime="2021-09-28T19:00:43+08:00">2021-09-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/c/" itemprop="url" rel="index"><span itemprop="name">c++</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/c/stl/" itemprop="url" rel="index"><span itemprop="name">stl</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="C-STL"><a href="#C-STL" class="headerlink" title="C++ STL"></a>C++ STL</h1><p><a target="_blank" rel="noopener" href="http://c.biancheng.net/stl/">c语言中文网的STL教程</a></p>
<p>stl 是一个将算法与底层抽象实现相分离的库，通过它我们可以很轻松地，高效地实现很多复杂的算法。但是学习stl不仅仅要学习其使用方式，更重要的是学习其底层实现，若是掌握了其底层实现逻辑，则不仅拥有了扎实的数据结构的基本功，更是在c++修仙之路上修炼了一本武林秘籍。</p>
<p>c++ stl 的头文件有：   </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;iterator&gt;      </span><br><span class="line">&lt;functional&gt;    </span><br><span class="line">&lt;vector&gt;    </span><br><span class="line">&lt;deque&gt;     </span><br><span class="line">&lt;list&gt;      </span><br><span class="line">&lt;queue&gt;     </span><br><span class="line">&lt;stack&gt;     </span><br><span class="line">&lt;set&gt;       </span><br><span class="line">&lt;map&gt;       </span><br><span class="line">&lt;algorithm&gt;     </span><br><span class="line">&lt;numeric&gt;       </span><br><span class="line">&lt;memory&gt;        </span><br><span class="line">&lt;utility&gt;      </span><br></pre></td></tr></table></figure>

<p>stl提供三种标准容器，分别为序列容器，排序容器，哈希容器。后两种也称为关联容器。     </p>
<table>
<thead>
<tr>
<th>容器种类</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>序列容器</td>
<td>主要包括vector，list，deque。元素在容器中的位置和元素的值没有关系，容器是非排序的。将元素插入时，指定在什么位置，元素就会在什么位置</td>
</tr>
<tr>
<td>排序容器</td>
<td>包含set,multiset,map,multimap.元素默认是从大到小排好的，插入元素时元素会自动插入到适当的位置。关联容器在查找时有着很好的性能。</td>
</tr>
<tr>
<td>哈希容器</td>
<td>unordered_set,unordered_map,unordered_multiset,unordered_multimap。和排序容器不同，哈希容器中元素的位置是未排序的，元素的位置有哈希函数确定。</td>
</tr>
</tbody></table>
<p><strong>迭代器</strong></p>
<p>stl标准库为每一种容器定义了一种迭代器，不同的容器迭代器不同，其功能强弱也不同。</p>
<ol>
<li>前向迭代器(forward iterator)<br>假设p是一个前向迭代器，则p支持p++,++p,*p操作，可以用相互赋值，可以使用==与!=进行比较。</li>
<li>双向迭代器(bidirectional iterator)<br>相比于前向迭代器，可以进行–p和p–操作。</li>
<li>随机访问迭代器(random acccess iterator)<br>除了双向迭代器的所有操作还支持以下操作：<ol>
<li>p+=i</li>
<li>p-=i</li>
<li>p+i</li>
<li>p-i</li>
<li>p[i]</li>
</ol>
</li>
</ol>
<p><strong>不同容器的迭代器</strong></p>
<table>
<thead>
<tr>
<th>容器</th>
<th>迭代器</th>
</tr>
</thead>
<tbody><tr>
<td>array</td>
<td>随机</td>
</tr>
<tr>
<td>vector</td>
<td>随机</td>
</tr>
<tr>
<td>deque</td>
<td>随机</td>
</tr>
<tr>
<td>list</td>
<td>双向</td>
</tr>
<tr>
<td>set/multiset</td>
<td>双向</td>
</tr>
<tr>
<td>map/multimap</td>
<td>双向</td>
</tr>
<tr>
<td>forward_list</td>
<td>前向</td>
</tr>
<tr>
<td>unordered_set/unordered_multiset</td>
<td>前向</td>
</tr>
<tr>
<td>unordered_map/unordered_multimap</td>
<td>前向</td>
</tr>
<tr>
<td>stack</td>
<td>不支持</td>
</tr>
<tr>
<td>queue</td>
<td>不支持</td>
</tr>
</tbody></table>
<p><strong>迭代器的定义方式</strong></p>
<table>
<thead>
<tr>
<th>迭代器类型</th>
<th>具体格式</th>
</tr>
</thead>
<tbody><tr>
<td>正向迭代器</td>
<td>容器类名::iterator  迭代器名</td>
</tr>
<tr>
<td>常量正向迭代器</td>
<td>容器类名::const_iterator  迭代器名;</td>
</tr>
<tr>
<td>反向迭代器</td>
<td>容器类名::reverse_iterator  迭代器名</td>
</tr>
<tr>
<td>常量反向迭代器</td>
<td>容器类名::const_reverse_iterator  迭代器名</td>
</tr>
</tbody></table>
<h2 id="序列式容器"><a href="#序列式容器" class="headerlink" title="序列式容器"></a>序列式容器</h2><h4 id="array"><a href="#array" class="headerlink" title="array"></a>array</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;array&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    array&lt;<span class="keyword">int</span>, 4&gt; myarray&#123;&#125;;</span><br><span class="line">    <span class="comment">//初始化 myarray 容器为 &#123;0,1,2,3&#125;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; myarray.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        myarray.<span class="built_in">at</span>(i) = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//使用 get() 重载函数输出指定位置元素</span></span><br><span class="line">    cout &lt;&lt; get&lt;<span class="number">3</span>&gt;(myarray) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; myarray[<span class="number">3</span>] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//正向迭代器</span></span><br><span class="line">    array&lt;<span class="keyword">int</span>, 4&gt;::iterator it;</span><br><span class="line">    <span class="keyword">if</span> (!myarray.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = myarray.<span class="built_in">begin</span>(); it &lt;= myarray.<span class="built_in">end</span>() - <span class="number">1</span>; it++)</span><br><span class="line">            cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//反向迭代器</span></span><br><span class="line">    array&lt;<span class="keyword">int</span>, 4&gt;::reverse_iterator it_r;</span><br><span class="line">    <span class="keyword">if</span> (!myarray.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it_r = myarray.<span class="built_in">rend</span>() - <span class="number">1</span>; it_r &gt;= myarray.<span class="built_in">rbegin</span>(); it_r--)</span><br><span class="line">            cout &lt;&lt; *it_r &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//随机访问</span></span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">1</span>;</span><br><span class="line">    cout &lt;&lt; myarray[index] &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; myarray[index + <span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//返回容器中第一个元素的直接引用，该函数不适用于空的 array 容器。</span></span><br><span class="line">    cout &lt;&lt; myarray.<span class="built_in">front</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//返回容器中最后一个元素的直接应用，该函数同样不适用于空的 array 容器。</span></span><br><span class="line">    cout &lt;&lt; myarray.<span class="built_in">back</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//返回一个指向容器首个元素的指针。利用该指针，可实现复制容器中所有元素等类似功能。</span></span><br><span class="line">    <span class="keyword">int</span> *p = myarray.<span class="built_in">data</span>();</span><br><span class="line">    cout &lt;&lt; *p &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//将值赋值给容器中的每个元素。</span></span><br><span class="line">    myarray.<span class="built_in">fill</span>(<span class="number">9</span>);</span><br><span class="line">    <span class="keyword">if</span> (!myarray.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = myarray.<span class="built_in">begin</span>(); it &lt;= myarray.<span class="built_in">end</span>() - <span class="number">1</span>; it++)</span><br><span class="line">            cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//交换 array1 和 array2 容器中的所有元素，但前提是它们具有相同的长度和类型。</span></span><br><span class="line">    array&lt;<span class="keyword">int</span>, 10&gt; array1;</span><br><span class="line">    array1.<span class="built_in">fill</span>(<span class="number">1</span>);</span><br><span class="line">    array&lt;<span class="keyword">int</span>, 10&gt; array2;</span><br><span class="line">    array2.<span class="built_in">fill</span>(<span class="number">2</span>);</span><br><span class="line">    array&lt;<span class="keyword">int</span>, 10&gt;::iterator it_10;</span><br><span class="line">    <span class="keyword">if</span> (!array1.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it_10 = array1.<span class="built_in">begin</span>(); it_10 &lt;= array1.<span class="built_in">end</span>() - <span class="number">1</span>; it_10++)</span><br><span class="line">            cout &lt;&lt; *it_10 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">if</span> (!array2.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it_10 = array2.<span class="built_in">begin</span>(); it_10 &lt;= array2.<span class="built_in">end</span>() - <span class="number">1</span>; it_10++)</span><br><span class="line">            cout &lt;&lt; *it_10 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//交换</span></span><br><span class="line">    array1.<span class="built_in">swap</span>(array2);</span><br><span class="line">    <span class="keyword">if</span> (!array1.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it_10 = array1.<span class="built_in">begin</span>(); it_10 &lt;= array1.<span class="built_in">end</span>() - <span class="number">1</span>; it_10++)</span><br><span class="line">            cout &lt;&lt; *it_10 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">if</span> (!array2.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it_10 = array2.<span class="built_in">begin</span>(); it_10 &lt;= array2.<span class="built_in">end</span>() - <span class="number">1</span>; it_10++)</span><br><span class="line">            cout &lt;&lt; *it_10 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="vector"><a href="#vector" class="headerlink" title="vector"></a>vector</h4><p>vector 容器是 STL 中最常用的容器之一，它和 array 容器非常类似，都可以看做是对 C++ 普通数组的“升级版”。不同之处在于，array 实现的是静态数组（容量固定的数组），而 vector 实现的是一个动态数组，即可以进行元素的插入和删除，在此过程中，vector 会动态调整所占用的内存空间，整个过程无需人工干预。vector 常被称为向量容器，因为该容器擅长在尾部插入或删除元素，在常量时间内就可以完成，时间复杂度为O(1)；而对于在容器头部或者中部插入或删除元素，则花费时间要长一些（移动元素需要耗费时间），时间复杂度为线性阶O(n)。</p>
<p>还需注意的是，如果调用 reserve() 来增加容器容量，之前创建好的任何迭代器（例如开始迭代器和结束迭代器）都可能会失效，这是因为，为了增加容器的容量，vector<T> 容器的元素可能已经被复制或移到了新的内存地址。所以后续再使用这些迭代器时，最好重新生成一下。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;array&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="keyword">double</span>&gt; v0&#123;<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>&#125;;</span><br><span class="line">    <span class="comment">//获取当前容量</span></span><br><span class="line">    cout &lt;&lt; v0.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//申请100个元素空间，增加容器的容量。</span></span><br><span class="line">    <span class="comment">//如果vector的容量在执行此语句之前，已经大于或等于100个元素，那么这条语句什么也不做；</span></span><br><span class="line">    v0.<span class="built_in">reserve</span>(<span class="number">100</span>);</span><br><span class="line">    cout &lt;&lt; v0.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//减少内存到当前元素实际使用的的大小</span></span><br><span class="line">    v0.<span class="built_in">shrink_to_fit</span>();</span><br><span class="line">    cout &lt;&lt; v0.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//实际使用元素个数</span></span><br><span class="line">    cout &lt;&lt; v0.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//迭代器</span></span><br><span class="line">    vector&lt;<span class="keyword">double</span>&gt;::iterator it1;</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v0.<span class="built_in">begin</span>(); it1 &lt;= v0.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//反向迭代器在array中示范过，不再赘述。</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//指定元素个数，其默认值都为0</span></span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">double</span>&gt; <span class="title">v1</span><span class="params">(<span class="number">100</span>)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v1.<span class="built_in">begin</span>(); it1 &lt;= v1.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//指定默认值为10</span></span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">double</span>&gt; <span class="title">v2</span><span class="params">(<span class="number">100</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v2.<span class="built_in">begin</span>(); it1 &lt;= v2.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//使用已经存在的vector创建新的vector</span></span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">double</span>&gt; <span class="title">v3</span><span class="params">(v2)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v3.<span class="built_in">begin</span>(); it1 &lt;= v3.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//也可以只取一部分</span></span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">double</span>&gt; <span class="title">v4</span><span class="params">(v2.data(), v2.data() + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v4.<span class="built_in">begin</span>(); it1 &lt;= v4.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//使用下标访问</span></span><br><span class="line">    cout &lt;&lt; v0[<span class="number">0</span>] &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; v0.<span class="built_in">at</span>(<span class="number">0</span>) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//返回第一个元素的引用</span></span><br><span class="line">    cout &lt;&lt; v0.<span class="built_in">front</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//返回最后一个元素的引用</span></span><br><span class="line">    cout &lt;&lt; v0.<span class="built_in">back</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//替换原有的元素</span></span><br><span class="line">    v0.<span class="built_in">assign</span>(v1.<span class="built_in">data</span>(), v1.<span class="built_in">data</span>() + <span class="number">5</span>);</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v0.<span class="built_in">begin</span>(); it1 &lt;= v0.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//在尾部插入元素</span></span><br><span class="line">    v0.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v0.<span class="built_in">begin</span>(); it1 &lt;= v0.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//从尾部移除元素</span></span><br><span class="line">    v0.<span class="built_in">pop_back</span>();</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v0.<span class="built_in">begin</span>(); it1 &lt;= v0.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//在指定位置插入一个或者多个元素</span></span><br><span class="line">    it1 = v0.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="comment">//在指定位置插入元素，返回指向该元素的迭代器</span></span><br><span class="line">    cout &lt;&lt; *it1 &lt;&lt; endl;</span><br><span class="line">    it1 = v0.<span class="built_in">insert</span>(it1, <span class="number">1</span>);</span><br><span class="line">    cout &lt;&lt; *it1 &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v0.<span class="built_in">begin</span>(); it1 &lt;= v0.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//在指定位置前插入多个元素 插入两个4</span></span><br><span class="line">    it1 = v0.<span class="built_in">begin</span>();</span><br><span class="line">    v0.<span class="built_in">insert</span>(it1, <span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v0.<span class="built_in">begin</span>(); it1 &lt;= v0.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//在指定为之前插入指定元素，同assign</span></span><br><span class="line">    <span class="comment">//事实证明，是先将源内存区域的数据复制下来再插入进入。</span></span><br><span class="line">    it1 = v0.<span class="built_in">begin</span>();</span><br><span class="line">    v0.<span class="built_in">insert</span>(it1, v0.<span class="built_in">data</span>(), v0.<span class="built_in">data</span>() + <span class="number">7</span>);</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v0.<span class="built_in">begin</span>(); it1 &lt;= v0.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//删除指定的元素</span></span><br><span class="line">    it1 = v0.<span class="built_in">begin</span>();</span><br><span class="line">    v0.<span class="built_in">erase</span>(it1);</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v0.<span class="built_in">begin</span>(); it1 &lt;= v0.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//依次删除所有元素 注意这里，删除迭代器指向的元素之后，后面的元素会自动前移，所以不需要更新迭代器。</span></span><br><span class="line">    it1 = v0.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">while</span> (it1 != v0.<span class="built_in">end</span>())</span><br><span class="line">        v0.<span class="built_in">erase</span>(it1);</span><br><span class="line">    <span class="keyword">if</span> (v0.<span class="built_in">empty</span>())</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;空了&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//删除指定区间的元素 前闭后开</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">10</span>; i++)</span><br><span class="line">        v0.<span class="built_in">push_back</span>(i);</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v0.<span class="built_in">begin</span>(); it1 &lt;= v0.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    it1 = v0.<span class="built_in">begin</span>();</span><br><span class="line">    v0.<span class="built_in">erase</span>(it1, it1 + <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v0.<span class="built_in">begin</span>(); it1 &lt;= v0.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//清理元素 元素没有了，但是容量还在 事实证明擦除的内存被写入了-4.8367e-26</span></span><br><span class="line">    <span class="keyword">int</span> re_size = v0.<span class="built_in">size</span>();</span><br><span class="line">    it1 = v0.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= re_size; i++)</span><br><span class="line">        cout &lt;&lt; *(it1 + i) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; v0.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; v0.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    v0.<span class="built_in">clear</span>();</span><br><span class="line">    cout &lt;&lt; v0.<span class="built_in">capacity</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; v0.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">if</span> (v0.<span class="built_in">empty</span>())</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;空了&quot;</span> &lt;&lt; endl;</span><br><span class="line">    v0.<span class="built_in">reserve</span>(<span class="number">100</span>);</span><br><span class="line">    it1 = v0.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= re_size; i++)</span><br><span class="line">        cout &lt;&lt; *(it1 + i) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//交换元素</span></span><br><span class="line">    v0.<span class="built_in">clear</span>();</span><br><span class="line">    v1.<span class="built_in">clear</span>();</span><br><span class="line">    v0.<span class="built_in">push_back</span>(<span class="number">0</span>);</span><br><span class="line">    v1.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    it1 = v0.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v0.<span class="built_in">begin</span>(); it1 &lt;= v0.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    it1 = v1.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!v1.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v1.<span class="built_in">begin</span>(); it1 &lt;= v1.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    v0.<span class="built_in">swap</span>(v1);</span><br><span class="line">    it1 = v0.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v0.<span class="built_in">begin</span>(); it1 &lt;= v0.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    it1 = v1.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!v1.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v1.<span class="built_in">begin</span>(); it1 &lt;= v1.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//再指定位置直接生成一个元素 emplace 一次只可以插入一个元素，效率比insert高</span></span><br><span class="line">    it1 = v0.<span class="built_in">begin</span>();</span><br><span class="line">    v0.<span class="built_in">emplace</span>(it1, <span class="number">2</span>);</span><br><span class="line">    it1 = v0.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v0.<span class="built_in">begin</span>(); it1 &lt;= v0.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//相当于 push_back</span></span><br><span class="line">    v0.<span class="built_in">emplace_back</span>(<span class="number">3</span>);</span><br><span class="line">    it1 = v0.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!v0.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it1 = v0.<span class="built_in">begin</span>(); it1 &lt;= v0.<span class="built_in">end</span>() - <span class="number">1</span>; it1++)</span><br><span class="line">            cout &lt;&lt; *it1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="deque-双队列容器"><a href="#deque-双队列容器" class="headerlink" title="deque 双队列容器"></a>deque 双队列容器</h4><p>和 vector 相比，额外增加了实现在容器头部添加和删除元素的成员函数，同时删除了 capacity()、reserve() 和 data() 成员函数。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;array&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    deque&lt;<span class="keyword">int</span>&gt; dq&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    deque&lt;<span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line">    it = dq.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!dq.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = dq.<span class="built_in">begin</span>(); it &lt;= dq.<span class="built_in">end</span>() - <span class="number">1</span>; it++)</span><br><span class="line">            cout &lt;&lt; *it;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//相vector额外怎增加了从头删除与加入元素的额方法。</span></span><br><span class="line">    dq.<span class="built_in">push_front</span>(<span class="number">1</span>);</span><br><span class="line">    it = dq.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!dq.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = dq.<span class="built_in">begin</span>(); it &lt;= dq.<span class="built_in">end</span>() - <span class="number">1</span>; it++)</span><br><span class="line">            cout &lt;&lt; *it;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    dq.<span class="built_in">pop_front</span>();</span><br><span class="line">    it = dq.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!dq.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = dq.<span class="built_in">begin</span>(); it &lt;= dq.<span class="built_in">end</span>() - <span class="number">1</span>; it++)</span><br><span class="line">            cout &lt;&lt; *it;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="list-双链表容器"><a href="#list-双链表容器" class="headerlink" title="list 双链表容器"></a>list 双链表容器</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;array&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">demo</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a &lt;= b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">list&lt;<span class="keyword">int</span>&gt; <span class="title">l</span><span class="params">(<span class="number">10</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">    list&lt;<span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line">    it = l.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!l.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = l.<span class="built_in">begin</span>(); it != l.<span class="built_in">end</span>(); it++)</span><br><span class="line">            cout &lt;&lt; *it;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//好多和vector重复的函数就不再赘述。</span></span><br><span class="line">    <span class="comment">//由于是双向链表，故前后都可以插入删除，和deque一样。</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//删除所有指定大小的元素</span></span><br><span class="line">    l.<span class="built_in">remove</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (l.<span class="built_in">empty</span>())</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;你把0都删除了，我空了&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="function">list&lt;<span class="keyword">int</span>&gt; <span class="title">l2</span><span class="params">(<span class="number">5</span>, <span class="number">2</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//将一个 list 容器中的元素插入到另一个容器的指定位置。</span></span><br><span class="line">    <span class="comment">//当begin==end 时，为空，所以下面也可以换成 l.end()</span></span><br><span class="line">    l.<span class="built_in">splice</span>(l.<span class="built_in">begin</span>(), l2);</span><br><span class="line">    it = l.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!l.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = l.<span class="built_in">begin</span>(); it != l.<span class="built_in">end</span>(); it++)</span><br><span class="line">            cout &lt;&lt; *it;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    l = &#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">1</span>&#125;;</span><br><span class="line">    it = l.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!l.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = l.<span class="built_in">begin</span>(); it != l.<span class="built_in">end</span>(); it++)</span><br><span class="line">            cout &lt;&lt; *it;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//删除容器中相邻的重复元素，只保留一个。 可见只比较相邻的，若要实现真正的unique需要结合sort()进行排序</span></span><br><span class="line">    l.<span class="built_in">unique</span>();</span><br><span class="line">    it = l.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!l.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = l.<span class="built_in">begin</span>(); it != l.<span class="built_in">end</span>(); it++)</span><br><span class="line">            cout &lt;&lt; *it;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//使用一个二元谓语函数作为参数删除 此函数的作用是自定义前后两个元素的关系。</span></span><br><span class="line">    <span class="comment">//此例时若前一个元素值比后一个小则删除掉前一个</span></span><br><span class="line">    l.<span class="built_in">unique</span>(demo);</span><br><span class="line">    it = l.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!l.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = l.<span class="built_in">begin</span>(); it != l.<span class="built_in">end</span>(); it++)</span><br><span class="line">            cout &lt;&lt; *it;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//排序</span></span><br><span class="line">    l.<span class="built_in">sort</span>();</span><br><span class="line">    l.<span class="built_in">unique</span>();</span><br><span class="line">    it = l.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!l.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = l.<span class="built_in">begin</span>(); it != l.<span class="built_in">end</span>(); it++)</span><br><span class="line">            cout &lt;&lt; *it;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//合并两个事先已排好序的 list 容器，并且合并之后的 list 容器依然是有序的。 事实证明合并前的list必须都排好序。</span></span><br><span class="line">    l2 = &#123;<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">31</span>, <span class="number">54</span>, <span class="number">234</span>, <span class="number">2</span>, <span class="number">523</span>, <span class="number">42</span>, <span class="number">42</span>, <span class="number">10</span>&#125;;</span><br><span class="line">    l.<span class="built_in">merge</span>(l2);</span><br><span class="line">    it = l.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!l.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = l.<span class="built_in">begin</span>(); it != l.<span class="built_in">end</span>(); it++)</span><br><span class="line">            cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    l.<span class="built_in">sort</span>();</span><br><span class="line">    l2.<span class="built_in">sort</span>();</span><br><span class="line">    l.<span class="built_in">merge</span>(l2);</span><br><span class="line">    l.<span class="built_in">unique</span>();</span><br><span class="line">    it = l.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!l.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = l.<span class="built_in">begin</span>(); it != l.<span class="built_in">end</span>(); it++)</span><br><span class="line">            cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//反转容器内元素的顺序</span></span><br><span class="line">    l.<span class="built_in">reverse</span>();</span><br><span class="line">    it = l.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!l.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = l.<span class="built_in">begin</span>(); it != l.<span class="built_in">end</span>(); it++)</span><br><span class="line">            cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//条件删除 remove_if</span></span><br><span class="line">    <span class="comment">//现在我对泛型不太了解，明日有精力了再写。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="forward-list"><a href="#forward-list" class="headerlink" title="forward_list"></a>forward_list</h4><p>其实就是单链表，相比于双向链表list,forward_list 更加有效率，但是不能进行逆向遍历的操作。当一个操作list与forward_list都可以做的时候，应该优先选用forward_list.</p>
<h4 id="string"><a href="#string" class="headerlink" title="string"></a>string</h4><h2 id="关联式容器"><a href="#关联式容器" class="headerlink" title="关联式容器"></a>关联式容器</h2><p>关联式容器再存储元素的时候还会给每一个元素配备一个键，整体以键值相配对的方式进行存储，可以通过键值直接索引到元素无需遍历整个容器，再存储元素的时候会默认按照各个元素的大小做升序排列。关联式容器在更删改查的效率更高。关联式容器在底层使用红黑树进行实现。</p>
<p>关联式容器包括：    </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">map</span><br><span class="line">multimap</span><br><span class="line">set</span><br><span class="line">multiset</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>容器</th>
<th>特点</th>
</tr>
</thead>
<tbody><tr>
<td>map</td>
<td>元素的键是唯一的，根据各元素键的大小进行升序排序</td>
</tr>
<tr>
<td>set</td>
<td>元素的键是唯一的,根据各元素键的大小进行升序排序</td>
</tr>
<tr>
<td>multimap</td>
<td>和map的区别在于键可以重复</td>
</tr>
<tr>
<td>multiset</td>
<td>和set的区别在于键可以重复</td>
</tr>
</tbody></table>
<h4 id="map"><a href="#map" class="headerlink" title="map"></a>map</h4><p>map容器存储的都是pair对象。</p>
<p><strong>pair&lt;const K, T&gt;</strong></p>
<p>键是不可以修改的。值是可以修改的。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//声明</span></span><br><span class="line">    map&lt;<span class="keyword">int</span>, string&gt; mymap&#123;&#123;<span class="number">3</span>, <span class="string">&quot;三&quot;</span>&#125;, &#123;<span class="number">4</span>, <span class="string">&quot;四&quot;</span>&#125;&#125;;</span><br><span class="line">    <span class="comment">//插入元素 可以像数组一样进行 [] 运算</span></span><br><span class="line">    mymap[<span class="number">1</span>] = <span class="string">&quot;一&quot;</span>;</span><br><span class="line">    mymap[<span class="number">2</span>] = <span class="string">&quot;二&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//迭代器</span></span><br><span class="line">    map&lt;<span class="keyword">int</span>, string&gt;::iterator it;</span><br><span class="line">    <span class="comment">//遍历</span></span><br><span class="line">    it = mymap.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!mymap.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = mymap.<span class="built_in">begin</span>(); it != mymap.<span class="built_in">end</span>(); it++)</span><br><span class="line">            cout &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//试着插入一个重复的键值 事实证明重复插入就取代了之前的</span></span><br><span class="line">    mymap[<span class="number">1</span>] = <span class="string">&quot;新一&quot;</span>;</span><br><span class="line">    it = mymap.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!mymap.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = mymap.<span class="built_in">begin</span>(); it != mymap.<span class="built_in">end</span>(); it++)</span><br><span class="line">            cout &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//下面介绍相比与vector特有的成员函数。</span></span><br><span class="line">    <span class="comment">//根据键查找元素，返回一个指向结果元素的迭代器。</span></span><br><span class="line">    it = mymap.<span class="built_in">find</span>(<span class="number">1</span>);</span><br><span class="line">    cout &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//返回一个指向当前 map 容器中第一个大于或等于 key 的键值对的双向迭代器.</span></span><br><span class="line">    it = mymap.<span class="built_in">lower_bound</span>(<span class="number">2</span>);</span><br><span class="line">    cout &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//返回一个指向当前 map 容器中第一个大于 key 的键值对的迭代器</span></span><br><span class="line">    it = mymap.<span class="built_in">upper_bound</span>(<span class="number">2</span>);</span><br><span class="line">    cout &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//返回一个范围 两个it组成的一个pair,该范围中包含的键为 key 的键值对.</span></span><br><span class="line">    <span class="comment">//因为map中元素的唯一性，所以该范围最多包含一个键值对。前闭后开。</span></span><br><span class="line">    pair&lt;map&lt;<span class="keyword">int</span>, string&gt;::iterator, map&lt;<span class="keyword">int</span>, string&gt;::iterator&gt; pair;</span><br><span class="line">    pair = mymap.<span class="built_in">equal_range</span>(<span class="number">2</span>);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;范围low: &quot;</span> &lt;&lt; pair.first-&gt;first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; pair.first-&gt;second &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;范围high: &quot;</span> &lt;&lt; pair.second-&gt;first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; pair.second-&gt;second &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//可以像数组一样进行 [] 运算 若不存在的话就插入一个key,其value为空。</span></span><br><span class="line">    cout &lt;&lt; mymap[<span class="number">8</span>] &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; mymap[<span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//at找到 map 容器中 key 键对应的值，如果找不到，该函数会引发 out_of_range 异常。</span></span><br><span class="line">    cout &lt;&lt; mymap.<span class="built_in">at</span>(<span class="number">2</span>) &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">if</span> (!mymap.<span class="built_in">at</span>(<span class="number">8</span>).<span class="built_in">empty</span>())</span><br><span class="line">        cout &lt;&lt; mymap.<span class="built_in">at</span>(<span class="number">8</span>) &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//else cout&lt;&lt;&quot;该key没有对应&quot;&lt;&lt;endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//插入 若插入的元素已经存在的话则会插入失败，所以需要删除在插入或者修改。</span></span><br><span class="line">    mymap.<span class="built_in">insert</span>(&#123;<span class="number">5</span>, <span class="string">&quot;五&quot;</span>&#125;);</span><br><span class="line">    mymap.<span class="built_in">insert</span>(&#123;<span class="number">5</span>, <span class="string">&quot;肆虐五&quot;</span>&#125;);</span><br><span class="line">    it = mymap.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!mymap.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = mymap.<span class="built_in">begin</span>(); it != mymap.<span class="built_in">end</span>(); it++)</span><br><span class="line">            cout &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//删除</span></span><br><span class="line">    mymap.<span class="built_in">erase</span>(<span class="number">8</span>);</span><br><span class="line">    it = mymap.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">if</span> (!mymap.<span class="built_in">empty</span>())</span><br><span class="line">        <span class="keyword">for</span> (it = mymap.<span class="built_in">begin</span>(); it != mymap.<span class="built_in">end</span>(); it++)</span><br><span class="line">            cout &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//交换两个容器的内容 swap() 不在赘述</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//统计key出现的次数</span></span><br><span class="line">    cout &lt;&lt; mymap.<span class="built_in">count</span>(<span class="number">1</span>) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="multimap"><a href="#multimap" class="headerlink" title="multimap"></a>multimap</h4><p>multimap 比 map 除了可以拥有重复的额值之外，没有什么不同的。略过。</p>
<h4 id="set"><a href="#set" class="headerlink" title="set"></a>set</h4><p>和 map、multimap 容器不同，使用 set 容器存储的各个键值对，要求键 key 和值 value 必须相等。</p>
<p>其余和map没啥不同，set就是集合，所以也不可以重复。</p>
<h4 id="multiset"><a href="#multiset" class="headerlink" title="multiset"></a>multiset</h4><p>multiset 比 set 除了可以拥有重复的额值之外，没有什么不同的。略过。</p>
<h2 id="无序关联式容器"><a href="#无序关联式容器" class="headerlink" title="无序关联式容器"></a>无序关联式容器</h2><p>无序关联式容器，又称哈希容器。和关联式容器一样，此类容器存储的也是键值对元素；不同之处在于，关联式容器默认情况下会对存储的元素做升序排序，而无序关联式容器不会。和其它类容器相比，无序关联式容器擅长通过指定键查找对应的值，而遍历容器中存储元素的效率不如关联式容器。</p>
<p>关联式容器的底层实现采用的树存储结构，更确切的说是红黑树结构；<br>无序容器的底层实现采用的是哈希表的存储结构。</p>
<p>无序容器内部存储的键值对是无序的，各键值对的存储位置取决于该键值对中的键，<br>和关联式容器相比，无序容器擅长通过指定键查找对应的值（平均时间复杂度为 O(1)）；但对于使用迭代器遍历容器中存储的元素，无序容器的执行效率则不如关联式容器。</p>
<p>包含有 4 个具体容器，分别为 unordered_map、unordered_multimap、unordered_set 以及 unordered_multiset。</p>
<h2 id="c-的常用算法"><a href="#c-的常用算法" class="headerlink" title="c++ 的常用算法"></a>c++ 的常用算法</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://myblog.cuimouren.cn/2021/06/13/leedcode-%E5%88%9D%E7%BA%A7%E7%AE%97%E6%B3%95-%E6%95%B0%E7%BB%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="../../images/avatar.gif">
      <meta itemprop="name" content="崔文耀">
      <meta itemprop="description" content="Hello, here is wenyao's space, how do you come in???">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这里是文耀的space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="../../2021/06/13/leedcode-%E5%88%9D%E7%BA%A7%E7%AE%97%E6%B3%95-%E6%95%B0%E7%BB%84/" class="post-title-link" itemprop="url">leedcode  数组</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-13 22:10:08" itemprop="dateCreated datePublished" datetime="2021-06-13T22:10:08+08:00">2021-06-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-02-24 09:13:19" itemprop="dateModified" datetime="2022-02-24T09:13:19+08:00">2022-02-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/%E7%AE%97%E6%B3%95/leedcode/" itemprop="url" rel="index"><span itemprop="name">leedcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="leedcode-数组"><a href="#leedcode-数组" class="headerlink" title="leedcode  数组"></a>leedcode  数组</h1><p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/leetbook/read/top-interview-questions-easy/x2i30g/">链接</a></p>
<h4 id="删除排序数组中的重复项"><a href="#删除排序数组中的重复项" class="headerlink" title="删除排序数组中的重复项"></a>删除排序数组中的重复项</h4><h6 id="题目说明"><a href="#题目说明" class="headerlink" title="题目说明"></a>题目说明</h6><p>给你一个<strong>有序数组</strong>nums请你原地删除重复出现的元素，使每个元素只出现一次，返回删除后数组的新长度。不要使用额外的数组空间，你必须在原地修改输入数组 并在使用 O(1) 额外空间的条件下完成。</p>
<h6 id="题目解析"><a href="#题目解析" class="headerlink" title="题目解析"></a>题目解析</h6><p>使用两个索引，i和j<br>i指向基元素<br>j指向比较元素<br>若两个元素不相等的话就说明中间与元素i相等的元素全部略过了，之后只要将元素j的值赋予元素i的下一个元素就行。<br>别忘了更新索引的值。<br>最后结果就是i的值加一。<br>本题不需要删除多余重复的额元素。<br>由0到i就是得到新的数组。            </p>
<h6 id="ac代码"><a href="#ac代码" class="headerlink" title="ac代码"></a>ac代码</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">removeDuplicates</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> j=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> n=nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(j&lt;=n<span class="number">-1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[j]!=nums[i])</span><br><span class="line">            &#123;</span><br><span class="line">                nums[++i]=nums[j];</span><br><span class="line">            &#125;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ++i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="买卖股票的最佳时机"><a href="#买卖股票的最佳时机" class="headerlink" title="买卖股票的最佳时机"></a>买卖股票的最佳时机</h4><h6 id="题目说明-1"><a href="#题目说明-1" class="headerlink" title="题目说明"></a>题目说明</h6><p>给定一个数组 prices ，其中 prices[i] 是一支给定股票第 i 天的价格。<br>设计一个算法来计算你所能获取的最大利润。你可以尽可能地完成更多的交易（多次买卖一支股票）。<br>注意：你不能同时参与多笔交易（你必须在再次购买前出售掉之前的股票）。</p>
<h6 id="题目解析-1"><a href="#题目解析-1" class="headerlink" title="题目解析"></a>题目解析</h6><p>贪心，就和骑自行车上坡一样，怎样最费力，就是抓住每一个上坡的机会去上坡。当然也可以倒着来就是从后往前抓住每一个可以下坡的机会进行下坡。</p>
<h6 id="ac代码-1"><a href="#ac代码-1" class="headerlink" title="ac代码"></a>ac代码</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; prices)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(i=prices.<span class="built_in">size</span>()<span class="number">-1</span>;i&gt;=<span class="number">1</span>;i--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(prices[i<span class="number">-1</span>]&lt;prices[i])<span class="comment">//买入</span></span><br><span class="line">                count+=prices[i]-prices[i<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="旋转数组"><a href="#旋转数组" class="headerlink" title="旋转数组"></a>旋转数组</h4><h6 id="题目说明-2"><a href="#题目说明-2" class="headerlink" title="题目说明"></a>题目说明</h6><p>给定一个数组，将数组中的元素向右移动 k 个位置，其中 k 是非负数。</p>
<h6 id="题目解析-方法一"><a href="#题目解析-方法一" class="headerlink" title="题目解析 方法一"></a>题目解析 方法一</h6><p>将k mod n 变为实际需要移动的次数，然后循环右移k次即可。<br>但是这样时间复杂度太高了。<br>代码：  </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    void rotate(vector&lt;int&gt;&amp; nums, int k) &#123;</span><br><span class="line">        int <span class="attribute">n</span>=nums.size();</span><br><span class="line">        <span class="attribute">k</span>=k%n;</span><br><span class="line">        <span class="keyword">if</span>(<span class="attribute">k</span>==0)</span><br><span class="line">            return;</span><br><span class="line">        int <span class="attribute">temp</span>=0;</span><br><span class="line">        <span class="keyword">for</span>(int <span class="attribute">i</span>=1;i&lt;=k;i++)//右移k个单位</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(int <span class="attribute">j</span>=n-1;j&gt;=0;j--)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="attribute">j</span>==n-1)</span><br><span class="line">                    <span class="attribute">temp</span>=nums[j];</span><br><span class="line">                <span class="keyword">else</span> </span><br><span class="line">                &#123;</span><br><span class="line">                    nums[j+1]=nums[j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            nums[0]=temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法二"><a href="#题目解析-方法二" class="headerlink" title="题目解析 方法二"></a>题目解析 方法二</h6><p>和方法一类似都是移动元素，只不过这个是一步到位的移动，时间复杂度相比来讲小了不少，但是怎样保证不重复移动是一问题。设n与k的最大公约数为m，<br>则只移动前m个元素就不会重复移动了。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">rotate</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n=nums.<span class="built_in">size</span>();</span><br><span class="line">        k=k%n;</span><br><span class="line">        <span class="keyword">if</span>(k==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">//找到k与n的最大公约数m</span></span><br><span class="line">        <span class="keyword">int</span> m=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(m=k;m&gt;=<span class="number">1</span>;m--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(k%m==<span class="number">0</span>&amp;&amp;n%m==<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=m<span class="number">-1</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//对于这些元素开头的元素序列进行轮换。</span></span><br><span class="line">            <span class="keyword">int</span> prev=i;</span><br><span class="line">            <span class="keyword">int</span> next=(prev+k)%n;</span><br><span class="line">            <span class="keyword">int</span> temp1=nums[i];</span><br><span class="line">            <span class="keyword">int</span> temp2=temp1;</span><br><span class="line">            <span class="keyword">do</span>&#123;            </span><br><span class="line">                temp2=nums[next];</span><br><span class="line">                nums[next]=temp1;</span><br><span class="line">                <span class="comment">//nums[prev]=temp1;</span></span><br><span class="line">                temp1=temp2;</span><br><span class="line">                prev=next;</span><br><span class="line">                next=(prev+k)%n;</span><br><span class="line">            &#125;<span class="keyword">while</span>(prev!=i);<span class="comment">//这轮元素又回到头了</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法三"><a href="#题目解析-方法三" class="headerlink" title="题目解析 方法三"></a>题目解析 方法三</h6><p>该方法基于如下的事实：当我们将数组的元素向右移动 kk 次后，尾部 k\bmod nkmodn 个元素会移动至数组头部，其余元素向后移动 k\bmod nkmodn 个位置。该方法为数组的翻转：我们可以先将所有元素翻转，这样尾部的 k\bmod nkmodn 个元素就被移至数组头部，然后我们再翻转 [0, (k mod n) -1]区间的元素和 [(k mod n), n-1]区间的元素即能得到最后的答案。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">rotate</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n=nums.<span class="built_in">size</span>();</span><br><span class="line">        k=k%n;</span><br><span class="line">        <span class="keyword">if</span>(k==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="built_in">rotate1</span>(nums,<span class="number">0</span>,n<span class="number">-1</span>);</span><br><span class="line">        <span class="built_in">rotate1</span>(nums,<span class="number">0</span>,k<span class="number">-1</span>);</span><br><span class="line">        <span class="built_in">rotate1</span>(nums,k,n<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">rotate1</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=begin;i&lt;=(begin+end)/<span class="number">2</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> sum=begin+end;</span><br><span class="line">            <span class="keyword">int</span> temp=nums[i];</span><br><span class="line">            nums[i]=nums[sum-i];</span><br><span class="line">            nums[sum-i]=temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="存在重复元素"><a href="#存在重复元素" class="headerlink" title="存在重复元素"></a>存在重复元素</h4><h6 id="题目说明-3"><a href="#题目说明-3" class="headerlink" title="题目说明"></a>题目说明</h6><p>给定一个整数数组，判断是否存在重复元素。如果存在一值在数组中出现至少两次，函数返回 true 。如果数组中每个元素都不相同，则返回 false 。</p>
<h6 id="题目解析-方法一-1"><a href="#题目解析-方法一-1" class="headerlink" title="题目解析 方法一"></a>题目解析 方法一</h6><p>排序后遍历数组如果存在某一个数与其后面的数相等则说明重复的。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">containsDuplicate</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> n=nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">0</span>||n==<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(),nums.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=nums.<span class="built_in">size</span>()<span class="number">-2</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i]==nums[i+<span class="number">1</span>])</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法二-1"><a href="#题目解析-方法二-1" class="headerlink" title="题目解析 方法二"></a>题目解析 方法二</h6><p>使用哈希表一个一个寻找和插入。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">containsDuplicate</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        unordered_set&lt;<span class="keyword">int</span>&gt; s;  <span class="comment">//#include &lt;unordered_set&gt;</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> x:nums)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(s.<span class="built_in">find</span>(x)!=s.<span class="built_in">end</span>())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            s.<span class="built_in">insert</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="只出现一次的数字"><a href="#只出现一次的数字" class="headerlink" title="只出现一次的数字"></a>只出现一次的数字</h4><h6 id="题目说明-4"><a href="#题目说明-4" class="headerlink" title="题目说明"></a>题目说明</h6><p>给定一个非空整数数组，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现了一次的元素。</p>
<h6 id="题目解析-方法一-2"><a href="#题目解析-方法一-2" class="headerlink" title="题目解析 方法一"></a>题目解析 方法一</h6><p>排序数组，遍历数组依次加减，所得就是答案。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(),nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">bool</span> flag=<span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> x:nums)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(flag)</span><br><span class="line">            &#123;</span><br><span class="line">                flag=<span class="literal">false</span>;</span><br><span class="line">                sum+=x;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                flag=<span class="literal">true</span>;</span><br><span class="line">                sum-=x;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法二-2"><a href="#题目解析-方法二-2" class="headerlink" title="题目解析 方法二"></a>题目解析 方法二</h6><p>遍历数组，使用集合存储数字，若由则删除，没有则存储。最后剩下的就是所要。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        unordered_set&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> x:nums)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(s.<span class="built_in">find</span>(x)!=s.<span class="built_in">end</span>())</span><br><span class="line">            &#123;</span><br><span class="line">                s.<span class="built_in">erase</span>(x);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                s.<span class="built_in">insert</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> x:s)</span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法三-1"><a href="#题目解析-方法三-1" class="headerlink" title="题目解析 方法三"></a>题目解析 方法三</h6><p>使用哈希表存储每个数字和该数字出现的次数。遍历数组即可得到每个数字出现的次数，并更新哈希表，最后遍历哈希表，得到只出现一次的数字。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; s;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> x:nums)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(s.<span class="built_in">find</span>(x)!=s.<span class="built_in">end</span>())</span><br><span class="line">            &#123;</span><br><span class="line">                s.<span class="built_in">erase</span>(x);</span><br><span class="line">                s.<span class="built_in">insert</span>(x,<span class="number">2</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                s.<span class="built_in">insert</span>(x,<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> num=<span class="number">0</span>;</span><br><span class="line">        unordered_map&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;::iterator x;</span><br><span class="line">        <span class="keyword">for</span>(x=s.<span class="built_in">begin</span>();x!=s.<span class="built_in">end</span>();x++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(x-&gt;second==<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                num=x-&gt;second;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;    </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法四"><a href="#题目解析-方法四" class="headerlink" title="题目解析 方法四"></a>题目解析 方法四</h6><p>异或运算</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans=<span class="number">0</span>;  <span class="comment">//任何数与0异或不表，与1异或取反</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> x:nums)</span><br><span class="line">            ans^=x;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="两个数组的交集"><a href="#两个数组的交集" class="headerlink" title="两个数组的交集"></a>两个数组的交集</h4><h6 id="题目说明-5"><a href="#题目说明-5" class="headerlink" title="题目说明"></a>题目说明</h6><p>给定两个数组，编写一个函数来计算它们的交集。<br>输出结果中每个元素出现的次数，应与元素在两个数组中出现次数的最小值一致。<br>我们可以不考虑输出结果的顺序。</p>
<h6 id="题目解析-方法一-3"><a href="#题目解析-方法一-3" class="headerlink" title="题目解析 方法一"></a>题目解析 方法一</h6><p>先对像个数组进行排序，之后遍历两个数组，找到相同的数则判断这个数再两个数组中出现的次数的最小值，再结果中插入该最小值次数的该数，两个数组都跳过同样的数，继续遍历。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">intersect</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums1, vector&lt;<span class="keyword">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="keyword">int</span>&gt; num;</span><br><span class="line">        <span class="built_in">sort</span>(nums1.<span class="built_in">begin</span>(),nums1.<span class="built_in">end</span>());</span><br><span class="line">        <span class="built_in">sort</span>(nums2.<span class="built_in">begin</span>(),nums2.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">int</span> last=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=nums1.<span class="built_in">size</span>()<span class="number">-1</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=last;j&lt;=nums2.<span class="built_in">size</span>()<span class="number">-1</span>;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(nums1[i]==nums2[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//计算个数</span></span><br><span class="line">                    <span class="keyword">int</span> n1=<span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">int</span> n2=<span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> x=i;x&lt;=nums1.<span class="built_in">size</span>()<span class="number">-1</span>;x++)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">if</span>(nums1[x]==nums1[i])</span><br><span class="line">                            n1++;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> x=j;x&lt;=nums2.<span class="built_in">size</span>()<span class="number">-1</span>;x++)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">if</span>(nums2[x]==nums2[j])</span><br><span class="line">                            n2++;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span>(n1&gt;n2)</span><br><span class="line">                        n1=n2;</span><br><span class="line">                    <span class="keyword">else</span> n2=n1;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">1</span>;x&lt;=n1;x++)</span><br><span class="line">                        num.<span class="built_in">push_back</span>(nums1[i]);</span><br><span class="line"></span><br><span class="line">                    i+=n1<span class="number">-1</span>;</span><br><span class="line">                    last=j+n2;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>这样实现有些繁琐，逻辑上也有点幼稚，其实想一想就是双指针。<br>从头遍历两个数组直至结尾，若相等则两个指针都向后移动一位，否则移动对应值较小的哪一个指针。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">intersect</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums1, vector&lt;<span class="keyword">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="keyword">int</span>&gt; num;</span><br><span class="line">        <span class="built_in">sort</span>(nums1.<span class="built_in">begin</span>(),nums1.<span class="built_in">end</span>());</span><br><span class="line">        <span class="built_in">sort</span>(nums2.<span class="built_in">begin</span>(),nums2.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> j=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i!=nums1.<span class="built_in">size</span>()&amp;&amp;j!=nums2.<span class="built_in">size</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums1[i]==nums2[j])</span><br><span class="line">            &#123;</span><br><span class="line">                num.<span class="built_in">push_back</span>(nums1[i]);</span><br><span class="line">                i++;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(nums1[i]&lt;nums2[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> </span><br><span class="line">                &#123;</span><br><span class="line">                    j++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h6 id="题目解析-方法二-3"><a href="#题目解析-方法二-3" class="headerlink" title="题目解析 方法二"></a>题目解析 方法二</h6><p>使用hash_map记录数据与其出现的次数,先将nums1数组中的数据全部存入到hashmap中，遍历nums2,并查找hashmap中的元素，若没有则舍去，若有，则看其value是否为零，不为零的话则value-1,并且将这个数加入结果数组中。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">intersect</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt; &amp;nums1, vector&lt;<span class="keyword">int</span>&gt; &amp;nums2)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        vector&lt;<span class="keyword">int</span>&gt; num;</span><br><span class="line">        <span class="keyword">if</span> (nums1.<span class="built_in">empty</span>() || nums2.<span class="built_in">empty</span>())</span><br><span class="line">            <span class="keyword">return</span> num;</span><br><span class="line">        unordered_map&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; map;</span><br><span class="line">        unordered_map&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;::iterator x;</span><br><span class="line">        <span class="keyword">if</span> (nums1.<span class="built_in">size</span>() &lt; nums2.<span class="built_in">size</span>())</span><br><span class="line">            nums1.<span class="built_in">swap</span>(nums2);</span><br><span class="line">        vector&lt;<span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line">        it = nums1.<span class="built_in">begin</span>();</span><br><span class="line">        <span class="keyword">for</span> (it = nums1.<span class="built_in">begin</span>(); it != nums1.<span class="built_in">end</span>(); it++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">            x = map.<span class="built_in">find</span>(*it);</span><br><span class="line">            <span class="comment">//找到了</span></span><br><span class="line">            <span class="keyword">if</span> (x != map.<span class="built_in">end</span>())</span><br><span class="line">                count = x-&gt;second;</span><br><span class="line">            count++;</span><br><span class="line">            map.<span class="built_in">erase</span>(*it);</span><br><span class="line">            map.<span class="built_in">insert</span>(&#123;*it, count&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (it = nums2.<span class="built_in">begin</span>(); it != nums2.<span class="built_in">end</span>(); it++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">            x = map.<span class="built_in">find</span>(*it);</span><br><span class="line">            <span class="keyword">if</span> (x != map.<span class="built_in">end</span>())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (x-&gt;second != <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    x-&gt;second--;</span><br><span class="line">                    num.<span class="built_in">push_back</span>(*it);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="大数加一"><a href="#大数加一" class="headerlink" title="大数加一"></a>大数加一</h4><h6 id="题目说明-6"><a href="#题目说明-6" class="headerlink" title="题目说明"></a>题目说明</h6><p>给定一个由 整数 组成的 非空 数组所表示的非负整数，在该数的基础上加一。</p>
<p>最高位数字存放在数组的首位， 数组中每个元素只存储单个数字。</p>
<p>你可以假设除了整数 0 之外，这个整数不会以零开头。</p>
<h6 id="题目解析-2"><a href="#题目解析-2" class="headerlink" title="题目解析"></a>题目解析</h6><p>从后往前遍历判断是否进位即可，就是加法器。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">plusOne</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt; &amp;digits)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        vector&lt;<span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line">        <span class="keyword">int</span> carry = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (it = digits.<span class="built_in">end</span>() - <span class="number">1</span>; it &gt;= digits.<span class="built_in">begin</span>(); it--)</span><br><span class="line">        &#123;</span><br><span class="line">            *it += carry;</span><br><span class="line">            carry = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (*it == <span class="number">10</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                *it = <span class="number">0</span>;</span><br><span class="line">                carry = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (carry == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (it = digits.<span class="built_in">end</span>() - <span class="number">1</span>; it &gt;= digits.<span class="built_in">begin</span>() + <span class="number">1</span>; it--)</span><br><span class="line">            &#123;</span><br><span class="line">                *it = *(it - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            *it = <span class="number">1</span>;</span><br><span class="line">            digits.<span class="built_in">push_back</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> digits;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="移动零"><a href="#移动零" class="headerlink" title="移动零"></a>移动零</h4><h6 id="题目说明-7"><a href="#题目说明-7" class="headerlink" title="题目说明"></a>题目说明</h6><p>给定一个数组 nums，编写一个函数将所有 0 移动到数组的末尾，同时保持非零元素的相对顺序。</p>
<h6 id="题目解析-3"><a href="#题目解析-3" class="headerlink" title="题目解析"></a>题目解析</h6><p>使用双指针i,j<br>i永远指向第一个零，j指向i后面第一个非零。交换ij对应元素的值，直到j超出数组范围。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">moveZeroes</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt; &amp;nums)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt;= nums.<span class="built_in">size</span>() - <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] != <span class="number">0</span>)</span><br><span class="line">                i++;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i == nums.<span class="built_in">size</span>())</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">//指向第一个等零的元素</span></span><br><span class="line">        j = i + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (j &lt; nums.<span class="built_in">size</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span> (j &lt;= nums.<span class="built_in">size</span>() - <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[j] == <span class="number">0</span>)</span><br><span class="line">                    j++;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j == nums.<span class="built_in">size</span>())</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            nums[i++] = nums[j];</span><br><span class="line">            nums[j] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>这样代码略显臃肿，可以简化为：<br>ij从0开始遍历直到j超限。若j对应元素不等零则则交换ij对应元素的值，i++;j++;<br>若等零，j++；</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">moveZeroes</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt; &amp;nums)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (j &lt; nums.<span class="built_in">size</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[j] != <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//交换位置，但是这里可能都不为零。</span></span><br><span class="line">                <span class="built_in">swap</span>(nums[i], nums[j]);</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="两数之和"><a href="#两数之和" class="headerlink" title="两数之和"></a>两数之和</h4><h6 id="题目说明-8"><a href="#题目说明-8" class="headerlink" title="题目说明"></a>题目说明</h6><p>给定一个整数数组 nums 和一个整数目标值 target，请你在该数组中找出 和为目标值 target  的那 两个 整数，并返回它们的数组下标。</p>
<p>你可以假设每种输入只会对应一个答案。但是，数组中同一个元素在答案里不能重复出现。</p>
<p>你可以按任意顺序返回答案。</p>
<h6 id="题目解析-4"><a href="#题目解析-4" class="headerlink" title="题目解析"></a>题目解析</h6><p>按照&lt;index,nums[index]&gt;放进一个unordered_multimap中。遍历数组，对于每一个元素，遍历unordered_multimap，查找匹配元素。因为数组中可能存在两个相同的数恰好是解的情况所以要使用unordered_multimap，并且额外判断有两个相等的值的情况。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">twoSum</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt; &amp;nums, <span class="keyword">int</span> target)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> fir = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> sec = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//将数组插入一个图里。</span></span><br><span class="line">        vector&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line">        unordered_multimap&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; map;</span><br><span class="line">        unordered_multimap&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line">        pair&lt;unordered_multimap&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;::iterator, unordered_multimap&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;::iterator&gt; pair;</span><br><span class="line">        <span class="comment">//放进去之前先查表，看是否由匹配的，这样不仅节省时间还避免出现nums=[3,3],target=6 这种情况造成多值无法检索。</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= nums.<span class="built_in">size</span>() - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            map.<span class="built_in">insert</span>(&#123;nums[i], i&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//有两个相等的值</span></span><br><span class="line">        <span class="keyword">if</span> (map.<span class="built_in">count</span>(target / <span class="number">2</span>) == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            pair = map.<span class="built_in">equal_range</span>(target / <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">for</span> (it = pair.first; it != pair.second; it++)</span><br><span class="line">            &#123;</span><br><span class="line">                ans.<span class="built_in">push_back</span>(it-&gt;second);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> ans;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//没有两个相等的值</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= nums.<span class="built_in">size</span>() - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            it = map.<span class="built_in">find</span>(target - nums[i]);</span><br><span class="line">            <span class="keyword">if</span> (it != map.<span class="built_in">end</span>() &amp;&amp; it-&gt;second != i)</span><br><span class="line">            &#123;</span><br><span class="line">                ans.<span class="built_in">push_back</span>(it-&gt;second);</span><br><span class="line">                ans.<span class="built_in">push_back</span>(i);</span><br><span class="line">                <span class="keyword">return</span> ans;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>但是这样很复杂，能不能不用判断是否存在两个相等的数的情况恰好是解的情况呢？而且全部插入之后再对数组进行遍历确实很冗余，所以可以一边插入一边寻找答案，这样即使是两数相等的情况也可以解决了，而且不需要使用unordered_multimap，使用unordered_map即可。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">twoSum</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt; &amp;nums, <span class="keyword">int</span> target)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//将数组插入一个图里。</span></span><br><span class="line">        vector&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line">        unordered_multimap&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; map;</span><br><span class="line">        unordered_multimap&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line">        <span class="comment">//放进去之前先查表，看是否由匹配的，这样不仅节省时间还避免出现nums=[3,3],target=6 这种情况造成多值无法检索。</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= nums.<span class="built_in">size</span>() - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            it = map.<span class="built_in">find</span>(target - nums[i]);</span><br><span class="line">            <span class="keyword">if</span> (it != map.<span class="built_in">end</span>()) <span class="comment">//找到解了</span></span><br><span class="line">            &#123;</span><br><span class="line">                ans.<span class="built_in">push_back</span>(it-&gt;second);</span><br><span class="line">                ans.<span class="built_in">push_back</span>(i);</span><br><span class="line">                <span class="keyword">return</span> ans;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                map.<span class="built_in">insert</span>(&#123;nums[i], i&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>这样就简单多了。</p>
<h4 id="有效的数独"><a href="#有效的数独" class="headerlink" title="有效的数独"></a>有效的数独</h4><h6 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h6><p>请你判断一个 9x9 的数独是否有效。只需要 根据以下规则 ，验证已经填入的数字是否有效即可。</p>
<p>数字 1-9 在每一行只能出现一次。<br>数字 1-9 在每一列只能出现一次。<br>数字 1-9 在每一个以粗实线分隔的 3x3 宫内只能出现一次。（请参考示例图）<br>数独部分空格内已填入了数字，空白格用 ‘.’ 表示</p>
<h6 id="题目解析-5"><a href="#题目解析-5" class="headerlink" title="题目解析"></a>题目解析</h6><p>使用unordered_map进行映射即可，映射之前判断是否满足条件即可。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isValidSudoku</span><span class="params">(vector&lt;vector&lt;<span class="keyword">char</span>&gt;&gt; &amp;board)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        unordered_set&lt;<span class="keyword">char</span>&gt; set;</span><br><span class="line">        unordered_set&lt;<span class="keyword">char</span>&gt;::iterator it;</span><br><span class="line">        <span class="comment">//遍历每一行</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">8</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            set.<span class="built_in">clear</span>();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= <span class="number">8</span>; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (set.<span class="built_in">find</span>(board[i][j]) == set.<span class="built_in">end</span>() || board[i][j] == <span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">                    set.<span class="built_in">insert</span>(board[i][j]);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//遍历每一列</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">8</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            set.<span class="built_in">clear</span>();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= <span class="number">8</span>; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (set.<span class="built_in">find</span>(board[j][i]) == set.<span class="built_in">end</span>() || board[j][i] == <span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">                    set.<span class="built_in">insert</span>(board[j][i]);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//遍历每一个小正方形</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> m = <span class="number">0</span>; m &lt;= <span class="number">2</span>; m++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">0</span>; n &lt;= <span class="number">2</span>; n++)</span><br><span class="line">            &#123;</span><br><span class="line">                set.<span class="built_in">clear</span>();</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">3</span> * m; i &lt;= <span class="number">3</span> * m + <span class="number">2</span>; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">3</span> * n; j &lt;= <span class="number">3</span> * n + <span class="number">2</span>; j++)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">if</span> (set.<span class="built_in">find</span>(board[i][j]) == set.<span class="built_in">end</span>() || board[i][j] == <span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">                            set.<span class="built_in">insert</span>(board[i][j]);</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="旋转图像"><a href="#旋转图像" class="headerlink" title="旋转图像"></a>旋转图像</h4><h4 id="题目描述-1"><a href="#题目描述-1" class="headerlink" title="题目描述"></a>题目描述</h4><p>给定一个 n × n 的二维矩阵 matrix 表示一个图像。请你将图像顺时针旋转 90 度。</p>
<p>你必须在 原地 旋转图像，这意味着你需要直接修改输入的二维矩阵。请不要 使用另一个矩阵来旋转图像。</p>
<h4 id="题目解析-方法一-4"><a href="#题目解析-方法一-4" class="headerlink" title="题目解析 方法一"></a>题目解析 方法一</h4><p>元素 i,j 顺时针旋转90°后变为 j,n-i-1<br>将矩阵分为 n/2圈 即可。<br>每一圈(第q圈，圈数从0开始)遍历圈内第一行的n-2q-1个元素，元素起始为 q,q</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">rotate</span><span class="params">(vector&lt;vector&lt;<span class="keyword">int</span>&gt;&gt; &amp;matrix)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        元素 i,j 顺时针旋转90°后变为 j,n-i-1            </span></span><br><span class="line"><span class="comment">        将矩阵分为 n/2圈 即可。     </span></span><br><span class="line"><span class="comment">        每一圈(第q圈，圈数从0开始)遍历圈内第一行的n-2q-1个元素，元素起始为 q,q</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> n = matrix.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> q = <span class="number">0</span>; q &lt;= n / <span class="number">2</span> - <span class="number">1</span>; q++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> time = <span class="number">0</span>; time &lt;= n - <span class="number">2</span> * q - <span class="number">2</span>; time++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> x = q;</span><br><span class="line">                <span class="keyword">int</span> y = q + time;</span><br><span class="line">                <span class="keyword">int</span> temp = matrix[x][y];</span><br><span class="line">                <span class="keyword">int</span> next_x = y;</span><br><span class="line">                <span class="keyword">int</span> next_y = n - x - <span class="number">1</span>;</span><br><span class="line">                <span class="comment">//对每一个起始的元素进行四次循环</span></span><br><span class="line">                <span class="keyword">do</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//cout&lt;&lt;&quot;x: &quot;&lt;&lt;x&lt;&lt;&quot; y &quot;&lt;&lt;y&lt;&lt;&quot; &quot;&lt;&lt;matrix[x][y]&lt;&lt;endl;</span></span><br><span class="line">                    <span class="comment">//cout &lt;&lt; &quot;next_x: &quot; &lt;&lt; next_x &lt;&lt; &quot; next_y &quot; &lt;&lt; next_y &lt;&lt; &quot; &quot; &lt;&lt; matrix[next_x][next_y] &lt;&lt; endl;</span></span><br><span class="line">                    <span class="built_in">swap</span>(matrix[next_x][next_y], temp);</span><br><span class="line">                    x = next_x;</span><br><span class="line">                    y = next_y;</span><br><span class="line">                    next_x = y;</span><br><span class="line">                    next_y = n - x - <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">while</span> (x != q || y != q + time);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="题目解析-方法二-4"><a href="#题目解析-方法二-4" class="headerlink" title="题目解析 方法二"></a>题目解析 方法二</h4><p>元素 i,j 顺时针旋转90°后变为 j,n-i-1<br>由于：    </p>
<ol>
<li>matrix[i][j]  水平轴反转 –&gt; matrix[n-i-1][j]</li>
<li>matrix[n-i-1][j]  主对角线反转 –&gt; matrix[j][n-i-1]</li>
</ol>
<p>正好得到结果，所以两次反转即可。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">rotate</span><span class="params">(vector&lt;vector&lt;<span class="keyword">int</span>&gt;&gt; &amp;matrix)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = matrix.<span class="built_in">size</span>();</span><br><span class="line">        <span class="comment">//水平轴反转</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n / <span class="number">2</span> - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            matrix[i].<span class="built_in">swap</span>(matrix[n - <span class="number">1</span> - i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//对角线反转</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n - <span class="number">1</span>; i++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">                <span class="built_in">swap</span>(matrix[i][j], matrix[j][i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://myblog.cuimouren.cn/2021/06/09/%E5%AD%A6%E7%99%BE%E5%B9%B4%E5%85%9A%E5%8F%B2%EF%BC%8C%E5%81%9A%E7%BA%A2%E8%89%B2%E4%BC%A0%E4%BA%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="../../images/avatar.gif">
      <meta itemprop="name" content="崔文耀">
      <meta itemprop="description" content="Hello, here is wenyao's space, how do you come in???">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这里是文耀的space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="../../2021/06/09/%E5%AD%A6%E7%99%BE%E5%B9%B4%E5%85%9A%E5%8F%B2%EF%BC%8C%E5%81%9A%E7%BA%A2%E8%89%B2%E4%BC%A0%E4%BA%BA/" class="post-title-link" itemprop="url">学百年党史，做红色传人</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-09 14:25:04" itemprop="dateCreated datePublished" datetime="2021-06-09T14:25:04+08:00">2021-06-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-07-15 00:06:21" itemprop="dateModified" datetime="2021-07-15T00:06:21+08:00">2021-07-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>一百年来，中国共产党从小到大、由弱到强，一路艰辛、一路奋斗，在中华民族的历史上谱写了前所未有的辉煌篇章，在人类发展史上创造了世所罕见的伟大奇迹。在我们党的百年发展历程中，有无数感天动地的红色故事，正是这一个个生动精彩的故事，构成了一部波澜壮阔、气壮山河的党的史诗。中国共产党带领着中国人民高举着中国特色社会主义伟大旗帜稳步迈向中华民族伟大复兴新征程。<br>农业是大国的立国之本，中国是一个十几亿人口的大国，要有坚实的农业基础。务农重本，国之大纲。对于我国这样一个人口众多的大国来说，解决好吃饭问题始终是治国理政的头等大事。新中国成立以来，在我们党的领导下，我国粮食生产在不懈探索和制度创新中取得新突破、实现新跨越。习近平总书记指出：“农业是基础性产业，中国现代化离不开农业现代化。”“农业农村现代化是实施乡村振兴战略的总目标，坚持农业农村优先发展是总方针，产业兴旺、生态宜居、乡风文明、治理有效、生活富裕是总要求，建立健全保障城乡融合发展体制机制和政策体系是制度保障。”回望历史，中国共产党成立后，充分认识到中国革命的基本问题是农民问题，把为广大农民谋幸福作为重要使命。改革开放以来，我们党领导亿万农民率先拉开改革大幕，不断解放和发展农村社会生产力，推动农村全面进步。党的十八大以来，以习近平同志为核心的党中央把解决好“三农”问题作为全党工作的重中之重，坚持农业农村优先发展总方针，启动实施乡村振兴战略，深化农业供给侧结构性改革，高度重视粮食生产，高屋建瓴地提出了国家粮食安全新战略，我国农业生产取得历史性成就，走出了一条中国特色粮食安全之路。习近平总书记指出，新形势下，要着力解决农业发展中存在的深层次矛盾和问题，重点从农产品结构、抗风险能力、农业现代化水平上发力。党的十八大以来，农业供给侧结构性改革不断深化，农业发展从增产导向转向提质导向，供给体系的质量效益不断提升。没有农业农村现代化，就没有整个国家现代化。党的十八大以来，我国农业生产方式、组织方式、管理方式发生了深刻变革，农业现代化稳步推进，从农业大国向农业强国迈进。广大干部群众表示，站在“两个一百年”奋斗目标的历史交汇点上，要坚持以习近平新时代中国特色社会主义思想为指导，全面推进乡村振兴战略，加快农业农村现代化。全面建设社会主义现代化国家，实现中华民族伟大复兴，最艰巨最繁重的任务在农村，最广泛最深厚的基础在农村。当前，向第二个百年奋斗目标进军的号角已经吹响，让我们坚持以习近平新时代中国特色社会主义思想为指导，坚定不移贯彻新发展理念，加快农业农村现代化，促进农业高质高效、乡村宜居宜业、农民富裕富足，奋力谱写新时代农业农村现代化的新篇章。<br>2021年2月25日，习近平总书记在全国脱贫攻坚总结表彰大会上庄严宣告：“经过全党全国各族人民共同努力，在迎来中国共产党成立一百周年的重要时刻，我国脱贫攻坚战取得了全面胜利，现行标准下9899万农村贫困人口全部脱贫，832个贫困县全部摘帽，12.8万个贫困村全部出列，区域性整体贫困得到解决，完成了消除绝对贫困的艰巨任务，创造了又一个彪炳史册的人间奇迹！”中国共产党从成立之日起，就坚持把为中国人民谋幸福、为中华民族谋复兴作为初心使命。新中国成立后，党组织人民自力更生、发愤图强、重整山河，为摆脱贫困、改善人民生活打下了坚实基础。改革开放以来，党团结带领人民实施了大规模、有计划、有组织的扶贫开发，取得了前所未有的伟大成就。党的十八大以来，以习近平同志为核心的党中央把脱贫攻坚摆在治国理政的突出位置，把脱贫攻坚作为全面建成小康社会的底线任务，组织开展了声势浩大的脱贫攻坚人民战争。党和人民披荆斩棘、栉风沐雨，攻克了一个又一个贫中之贫、坚中之坚，脱贫攻坚战取得了全面胜利。千年梦想，百年奋斗，圆梦今朝。这是我国经济社会发展的重大历史性成就，也是世界减贫史上的中国奇迹。改革开放以来，中国减贫人口占同期全球减贫人口70%以上。中国如期打赢脱贫攻坚战，提前10年实现《联合国2030年可持续发展议程》减贫目标。我们积极开展国际减贫合作，履行减贫国际责任，为推动构建人类命运共同体贡献了中国力量！经过8年脱贫攻坚，困扰中华民族千百年的绝对贫困问题历史性画上句号。在脱贫攻坚战中，正是靠着上下同心、尽锐出战，我们凝聚起合力攻坚的磅礴伟力。以习近平同志为核心的党中央团结带领全党全国各族人民向绝对贫困发起最后的总攻，举国合力、上下同心，形成了脱贫攻坚的共同意志、共同行动。在脱贫攻坚战中，正是践行为中国人民谋幸福、为中华民族谋复兴的初心使命，攻坚克难，兑现了让现行标准下农村贫困人口全部脱贫的庄严承诺。脱贫攻坚是一场硬仗，党团结带领全国各族人民迎难而上，啃下了深度贫困等一块块硬骨头。我们要大力弘扬脱贫攻坚精神，团结一心，英勇奋斗，我们必将战胜前进道路上的一切困难和风险，不断夺取坚持和发展中国特色社会主义新的更大的胜利！<br>科技事业在党和人民事业中始终具有十分重要的战略地位、发挥了十分重要的战略作用。在中国共产党的坚强领导下，我国科技事业从一穷二白处起步、在砥砺奋进中开拓，实现了历史性跨越，取得了历史性成就。在神州大地奔腾涌动的创新热潮，汇聚成澎湃强劲的“第一动力”，推动着高质量发展。中国共产党自成立之初就深刻地意识到了科技的重要性，从革命时期高度重视知识分子工作，到新中国成立后吹响“向科学进军”的号角，到改革开放提出“科学技术是第一生产力”的论断，从进入新世纪深入实施知识创新工程、科教兴国战略、人才强国战略，不断完善国家创新体系、建设创新型国家，到党的十八大后提出创新是第一动力、全面实施创新驱动发展战略、建设世界科技强国，科技事业在党和人民事业中始终具有十分重要的战略地位、发挥了十分重要的战略作用。中国共产党针对我国科技事业面临的突出问题和挑战，坚持把科技创新摆在国家发展全局的核心位置，全面谋划科技创新工作。在党中央坚强领导下，在全国科技界和社会各界共同努力下，我国科技实力正在从量的积累迈向质的飞跃、从点的突破迈向系统能力提升，科技创新取得新的历史性成就。党的十九届五中全会提出了坚持创新在我国现代化建设全局中的核心地位，把科技自立自强作为国家发展的战略支撑。党的十八大以来，我国基础研究经费稳步增长，基础研究领域取得一系列重大突破，科技创新取得一系列重要进展。“嫦娥五号”实现地外天体采样返回，“天问一号”开启火星探测，“慧眼号”直接测量到迄今宇宙最强磁场，“中国天眼”首次发现毫秒脉冲星；在量子信息、铁基超导、干细胞、脑科学等前沿方向上，一批重大原创成果相继问世，显著提升了我国在全球科研舞台的地位。从北斗三号全球卫星导航系统开通，C919大飞机准备运营，最大直径盾构机顺利始发，到建成5G基站占全球70%以上，新能源汽车产销量连续6年蝉联世界第一，自主三代核电“华龙一号”首堆并网成功，近年来，我国着力加强关键技术攻关，在深海、深空、深地、深蓝等战略高技术领域积极抢占科技制高点，5G、高铁、三代核电、新能源汽车等高端产业不断取得新突破。新发明、新技术、新产品、新产业、新模式，正加快形成高质量发展新引擎，推动产业向中高端迈进。抗击新冠肺炎疫情，我国科技界迎难而上、集智攻关，发挥了重要作用。近年来，人工智能、远程会议、在线课堂、线上医疗等新技术新业态蓬勃发展，成为衣食住行的“新标配”。层出不穷的民生科技成果，让人们切身体验着“科技让生活更美好”的幸福感。经过多年努力，我国科技整体水平大幅提升，我们完全有基础、有底气、有信心、有能力抓住新一轮科技革命和产业变革的机遇，乘势而上，大展宏图。展望未来，科技部党组书记、部长王志刚表示“：我们要坚决落实习近平总书记关于科技创新的重要指示精神，肩负起时代赋予的重任，坚持‘四个面向’，立足自主创新，把握大势、抢占先机，直面问题、迎难而上，为加快建设科技强国，实现高水平科技自立自强作出更大贡献！”坚持面向世界科技前沿、面向经济主战场、面向国家重大需求、面向人民生命健康，坚持创新在我国现代化建设全局中的核心地位，把科技自立自强作为国家发展的战略支撑，大力弘扬科学家精神，我们一定能够在加快建设科技强国、实现高水平科技自立自强进程中，不断书写新的篇章。<br>回顾中国共产党的百年光辉历程，一幅幅历史画卷让人们心潮澎湃，一个个动人故事让人们荡气回肠。当前，我们党正团结带领全国各族人民在全面建设社会主义现代化国家的新征程上接续奋斗。在前进的道路上，我们党必将创造新的辉煌历史，为人们留下新的动人故事。我们要传颂好伟大历史、继续讲好党的故事，让红色基因代代相传，让红色江山千秋永固。            </p>
<p>通过学习青年大学习、庆祝中国共产党成立一百周年大会、党史答题活动等一些有关党的活动，应当深刻认识到时代所带给我们的机遇，无论我们个人的力量有多么微小，都可以担当起责任。也许我们来自不同行业，也许我们怀有各自的迷茫，我们责任的来源和组成也各不相同，青年时期要立志高远，不但要立足岗位、学精业务，更要时刻胸怀祖国，去思考自己可以为国家、甚至为人类社会做出点什么，改变点什么。无须过多关注结果，过分怀疑个人的微小力量能否有所成就，只是大胆放手去创造，朝着这个方向努力便可以。一百年来，中国共产党紧紧依靠人民，创造了人类发展惊天动地的奇迹。此刻，我们的国家正在进行实现中华民族伟大复兴的新长征，我们作为未来共产主义事业的接力者，应当时刻学习和继承建党时中国共产党人的奋斗精神，永远怀揣对人民的赤子之心。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://myblog.cuimouren.cn/2021/05/25/os-004-%E4%B8%AD%E6%96%AD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="../../images/avatar.gif">
      <meta itemprop="name" content="崔文耀">
      <meta itemprop="description" content="Hello, here is wenyao's space, how do you come in???">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="这里是文耀的space">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="../../2021/05/25/os-004-%E4%B8%AD%E6%96%AD/" class="post-title-link" itemprop="url">os 004 中断</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-25 21:35:46" itemprop="dateCreated datePublished" datetime="2021-05-25T21:35:46+08:00">2021-05-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-06-01 17:38:22" itemprop="dateModified" datetime="2021-06-01T17:38:22+08:00">2021-06-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/os/" itemprop="url" rel="index"><span itemprop="name">os</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="os-004-中断"><a href="#os-004-中断" class="headerlink" title="os 004 中断"></a>os 004 中断</h1><h4 id="中断分类"><a href="#中断分类" class="headerlink" title="中断分类"></a>中断分类</h4><h6 id="外部中断"><a href="#外部中断" class="headerlink" title="外部中断"></a>外部中断</h6><p>外部中断是来自CPU外部的中断，外部中断源又必须是硬件，所以外部中断又称为硬件中断。       </p>
<ol>
<li><p><strong>可屏蔽中断</strong><br>通过intr引脚进入CPU，可屏蔽中断可以通过EFLAGS的IF位屏蔽掉。</p>
</li>
<li><p><strong>不可屏蔽中断</strong><br>通过NMI引脚进入CPU，不可屏蔽中断不可以通过EFLAGS的IF位屏蔽掉。</p>
</li>
</ol>
<h6 id="内部中断"><a href="#内部中断" class="headerlink" title="内部中断"></a>内部中断</h6><p>内部中断可分为软中断和异常。        </p>
<ol>
<li><p><strong>软中断</strong><br>由软件主动发起的中断。不受IF位影响。        </p>
</li>
<li><p><strong>异常</strong><br>异常分为以下三种：      </p>
<ol>
<li>FAULT 故障，比如缺页异常。       </li>
<li>TRAP 陷阱       </li>
<li>ABORT 终止</li>
</ol>
</li>
</ol>
<p>IF位只能屏蔽外部设备的中断。    </p>
<table>
<thead>
<tr>
<th>指令</th>
<th>IF</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>cli</td>
<td>IF=0</td>
<td>关中断</td>
</tr>
<tr>
<td>sti</td>
<td>IF=1</td>
<td>开中断</td>
</tr>
</tbody></table>
<h4 id="中断描述符表-IDT"><a href="#中断描述符表-IDT" class="headerlink" title="中断描述符表 IDT"></a>中断描述符表 IDT</h4><p>中断描述符表是保护模式下用于存储中断处理程序入口的表，当CPU接受一个中断时，使用中断向量在这个表中检索相应的中断描述符，继而找到中断处理程序的入口地址，执行中断处理程序。       </p>
<p>中断描述符表中可以存储中断描述符、任务们描述符、陷阱们描述符。所以中断描述符又称为<strong>门</strong>。  </p>
<p>门都属于系统段，所以其描述符中的S字段全为0.     </p>
<p><strong>四种门描述符中type字段(D=0代表16位，D=32代表32位)</strong>       </p>
<table>
<thead>
<tr>
<th>任务门</th>
<th>终端门</th>
<th>陷阱门</th>
<th>调用门</th>
</tr>
</thead>
<tbody><tr>
<td>0101</td>
<td>D110</td>
<td>D111</td>
<td>D100</td>
</tr>
</tbody></table>
<p><strong>当代操作系统很少使用任务门和调用门</strong>      </p>
<h6 id="任务门"><a href="#任务门" class="headerlink" title="任务门"></a>任务门</h6><p>任务门和任务状态段（TSS）时Intel处理器在硬件一级上提供的任务切换机制。当代大多数操作系统都没有使用TSS实现任务的切换。</p>
<h6 id="中断门"><a href="#中断门" class="headerlink" title="中断门"></a>中断门</h6><p><strong>中断门描述符</strong></p>
<table>
<thead>
<tr>
<th>位</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>高32位</td>
<td></td>
</tr>
<tr>
<td>31-16</td>
<td>中断处理程序在目标段内的偏移量的31-16位</td>
</tr>
<tr>
<td>15</td>
<td>P</td>
</tr>
<tr>
<td>14-13</td>
<td>DPL</td>
</tr>
<tr>
<td>12</td>
<td>S=0</td>
</tr>
<tr>
<td>11-8</td>
<td>TYPE=D110</td>
</tr>
<tr>
<td>7-5</td>
<td>0</td>
</tr>
<tr>
<td>4-0</td>
<td>未使用</td>
</tr>
<tr>
<td>低32位</td>
<td></td>
</tr>
<tr>
<td>31-16</td>
<td>中断处理程序目标代码段描述符选择子</td>
</tr>
<tr>
<td>15-0</td>
<td>中断处理程序在目标段内的偏移量的15-0位</td>
</tr>
</tbody></table>
<p>通过中断门进入中断，IF位自动置零，关中断，避免中断嵌套。中断门只存在于IDT中。       </p>
<h6 id="陷阱门"><a href="#陷阱门" class="headerlink" title="陷阱门"></a>陷阱门</h6><p><strong>陷阱门描述符</strong></p>
<table>
<thead>
<tr>
<th>位</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>高32位</td>
<td></td>
</tr>
<tr>
<td>31-16</td>
<td>中断处理程序在目标段内的偏移量的31-16位</td>
</tr>
<tr>
<td>15</td>
<td>P</td>
</tr>
<tr>
<td>14-13</td>
<td>DPL</td>
</tr>
<tr>
<td>12</td>
<td>S=0</td>
</tr>
<tr>
<td>11-8</td>
<td>TYPE=D111</td>
</tr>
<tr>
<td>7-5</td>
<td>0</td>
</tr>
<tr>
<td>4-0</td>
<td>未使用</td>
</tr>
<tr>
<td>低32位</td>
<td></td>
</tr>
<tr>
<td>31-16</td>
<td>中断处理程序目标代码段描述符选择子</td>
</tr>
<tr>
<td>15-0</td>
<td>中断处理程序在目标段内的偏移量的15-0位</td>
</tr>
</tbody></table>
<p>陷阱门与中断门不同的是IF位不会自动置0.</p>
<h6 id="调用门"><a href="#调用门" class="headerlink" title="调用门"></a>调用门</h6><p>调用门给用户进程提供进入特权即0的方式，其DPL为3。他不能用于int指令调用，只能用call和jmp指令。调用门可以安装在GDT和LDT中。           </p>
<h6 id="中断描述符表寄存器-IDTR"><a href="#中断描述符表寄存器-IDTR" class="headerlink" title="中断描述符表寄存器 IDTR"></a>中断描述符表寄存器 IDTR</h6><table>
<thead>
<tr>
<th>47-16</th>
<th>15-0</th>
</tr>
</thead>
<tbody><tr>
<td>32位的表基址</td>
<td>16位的表界限</td>
</tr>
</tbody></table>
<p>GDT第零个描述符是不可用的，但是IDT的第零个描述符是可用的。          </p>
<p>lidt[48位内存地址]</p>
<h4 id="中断处理过程"><a href="#中断处理过程" class="headerlink" title="中断处理过程"></a>中断处理过程</h4><h6 id="中断的特权级检查"><a href="#中断的特权级检查" class="headerlink" title="中断的特权级检查"></a>中断的特权级检查</h6><p>对于软件主动引发的中断，从特权级上来讲，必须符合下面的条件:<br><strong>门描述符DPL&lt;=CPL&lt;目标代码段的DPL</strong></p>
<p>对于外部设备引发的中断，只需要满足:<br><strong>CPL&lt;目标代码段的DPL</strong></p>
<p>处理器根据中断向量号找到对应的中断描述符后，若CPL比目标代码段DPL低，则需要向高特权转移，需要切换到高特权级的栈。</p>
<p><strong>中断发生，特权级发生变化时的新栈中的内容</strong></p>
<table>
<thead>
<tr>
<th>31-16</th>
<th>15-0</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>ss_old</td>
</tr>
<tr>
<td>esp_old</td>
<td>esp_old</td>
</tr>
<tr>
<td>eflags</td>
<td>eflags</td>
</tr>
<tr>
<td>0</td>
<td>cs_old</td>
</tr>
<tr>
<td>eip_old</td>
<td>eip_old</td>
</tr>
<tr>
<td>error_code</td>
<td>error_code</td>
</tr>
</tbody></table>
<p>执行完中断程序之后，使用<strong>iret</strong>进行返回。依次弹出EIP,CS,EFLAGS。所以中断返回前栈顶指针必须指向EIP_old。处理器根据弹出的CS指向的代码段描述符判断出该次中断是否进行了特权级改变，如果进行了特权级改变的话，继续将esp和ss弹出。</p>
<p>如果返回时改变了特权级则将会检查数据段寄存器DS,ES,FS,GS的内容，如果DPL比返回后的CPL高，则处理器会故意将该数据段寄存器的内容改为0，即指向第零个段描述符，从而使得处理器抛出异常。</p>
<h6 id="中断错误码"><a href="#中断错误码" class="headerlink" title="中断错误码"></a>中断错误码</h6><table>
<thead>
<tr>
<th>31-16</th>
<th>15-3</th>
<th>2</th>
<th>1</th>
<th>0</th>
</tr>
</thead>
<tbody><tr>
<td>保留0</td>
<td>选择子高13位索引</td>
<td>TI</td>
<td>IDT</td>
<td>EXT</td>
</tr>
</tbody></table>
<p>TI=0,表示来自GDT,TI=1表示来自LDT。</p>
<p>IDT=1，表示选择子指向IDT。否则表示指向GDT或者LDT。</p>
<p>EXT=1，表示中断源时不可屏蔽中断或者外部设备，否则为0.</p>
<h4 id="8259A"><a href="#8259A" class="headerlink" title="8259A"></a>8259A</h4><h6 id="8259A的一些信号的寄存器"><a href="#8259A的一些信号的寄存器" class="headerlink" title="8259A的一些信号的寄存器"></a>8259A的一些信号的寄存器</h6><ol>
<li><p>INT：8259A选出优先级最高的中断请求之后，发送信号给CPU。</p>
</li>
<li><p>INTA：INT acknowledge, 中断响应信号。接收来自CPU的INTA接口的中断响应信号。</p>
</li>
<li><p>IMR：中断屏蔽寄存器，8位，屏蔽某个外设的中断。</p>
</li>
<li><p>IRR：中断请求寄存器，8位，接受IMR过滤后的中断信号并锁存，相当于维护未处理的中断信号请求队列。</p>
</li>
<li><p>PR: 优先级仲裁器。多个中断同时发生的时候找出优先级更高的中断。</p>
</li>
<li><p>ISR： 中断服务寄存器，8位，保存正在被处理的中断服务。</p>
</li>
</ol>
<p>一个8259A由8个IRQ接口，使用8位寄存器中的每一位代表一个IRQ接口。</p>
<h6 id="8259A的中断处理流程"><a href="#8259A的中断处理流程" class="headerlink" title="8259A的中断处理流程"></a>8259A的中断处理流程</h6><ol>
<li><p>当某个外设发出一个中断信号后，由于主板已经把信号通路指向了8259A芯片的某个IRQ接口，所以该中断信号会被送入8259A。8259A先检查IMR寄存器是否屏蔽了来自该IRQ接口的中断信号，该为为1表示被屏蔽了。</p>
</li>
<li><p>将中断信号送入IRR寄存器，将该IRQ接口所在的IRR寄存器对应的位置1.</p>
</li>
<li><p>PR从IRR寄存器中挑选一个优先级最大的一个中断（IRQ接口号最低的）。</p>
</li>
<li><p>通过INT接口向CPU发送INTR信号。</p>
</li>
<li><p>CPU完成一条指令后，通过自己的INTA接口向8259A的INTA接口发送中断响应信号。</p>
</li>
<li><p>8259A收到CPU的中断响应信号后，将刚刚挑选出的优先级最大的中断在ISR寄存器中对应的位置1，表示正在处理当前中断，同时在IRR中该中断位置0。</p>
</li>
<li><p>CPU再次发送INTA信号，要求获取中断向量号。<strong>如果EIO被设置为自动的话，则8259A自动将ISR对应位置0，表示中断结束，否则需要手动发送EOI信号</strong></p>
</li>
<li><p>8259A向CPU发送中断向量号。<strong>此时如果来了一个优先级更高的中断，则将该中断替换上去，将被替换下来的中断重新装入IRR中</strong></p>
</li>
<li><p>CPU从数据总线上拿到中断向量号止之后，用作中断向量表或者中断描述符表的索引，转到对应的中断处理程序执行。</p>
</li>
</ol>
<p><strong>以上为中断处理流程的上半场</strong></p>
<h4 id="8259A的编程"><a href="#8259A的编程" class="headerlink" title="8259A的编程"></a>8259A的编程</h4>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="../3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="../../">1</a><span class="space">&hellip;</span><a class="page-number" href="../3/">3</a><span class="page-number current">4</span><a class="page-number" href="../5/">5</a><a class="page-number" href="../6/">6</a><a class="extend next" rel="next" href="../5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">崔文耀</p>
  <div class="site-description" itemprop="description">Hello, here is wenyao's space, how do you come in???</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="../../archives/">
        
          <span class="site-state-item-count">67</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="../../categories/">
          
        <span class="site-state-item-count">47</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="../../tags/">
          
        <span class="site-state-item-count">67</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="sidebar-button motion-element"><i class="fa fa-comment"></i>
    Chat
  </a>
  </div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="../../https:/github.com/cuiwenyao" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;cuiwenyao" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="../../mailto:yao1970099540@gmail.com" title="E-Mail → mailto:yao1970099540@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">崔文耀</span>
</div>
  <div class="powered-by">由 <a href="../../https:/hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="../../https:/muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="../../lib/anime.min.js"></script>
  <script src="../../lib/velocity/velocity.min.js"></script>
  <script src="../../lib/velocity/velocity.ui.min.js"></script>

<script src="../../js/utils.js"></script>

<script src="../../js/motion.js"></script>


<script src="../../js/schemes/muse.js"></script>


<script src="../../js/next-boot.js"></script>

<script src="../../js/bookmark.js"></script>




  















  

  

</body>
</html>
